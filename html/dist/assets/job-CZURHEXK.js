import{_ as w,a as u,c,b as t,t as l,w as a,v as i,g as v,h as f,F as m,d as y,e as g,j as k,n as _,k as C,l as S,m as $}from"./index-DB4S8ZSb.js";const U={props:["job"]},V={class:"block mb-2"},O={class:"block mb-2"},M={class:"block mb-2 flex items-center"},P={class:"block mb-2 flex items-center"};function J(o,e,n,p,s,d){return u(),c("div",null,[t("div",null,[t("label",V,l(o.$t("jobName")),1),a(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>n.job.name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[i,n.job.name]])]),t("div",null,[t("label",O,l(o.$t("jobLabel")),1),a(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>n.job.label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[i,n.job.label]])]),t("div",null,[t("label",M,[v(l(o.$t("whitelisted"))+" ",1),a(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=r=>n.job.whitelisted=r),class:"ml-2"},null,512),[[f,n.job.whitelisted]])])]),t("div",null,[t("label",P,[v(l(o.$t("societyPaid"))+" ",1),a(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=r=>n.job.societypaid=r),class:"ml-2"},null,512),[[f,n.job.societypaid]])])])])}const N=w(U,[["render",J]]),D={props:["job"],data(){return{showAddGradePopup:!1,newGrade:{grade:"",name:"",label:"",salary:0},error:""}},methods:{addNewGrade(){if(this.job.grades.some(n=>n.name===this.newGrade.name||n.label===this.newGrade.label)){this.error="A grade with the same name or label already exists.";return}Array.isArray(this.job.grades)||(this.job.grades=[]);const e=Math.max(...this.job.grades.map(n=>n.grade),0);this.newGrade.grade=e+1,this.job.grades.push({...this.newGrade}),this.showAddGradePopup=!1,this.newGrade={grade:"",name:"",label:"",salary:0},this.error="",this.$emit("update-job",this.job)},removeGrade(o){this.job.grades.splice(o,1),this.$emit("update-job",this.job)},saveGrades(){fetch(`https://${GetParentResourceName()}/saveGrades`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,grades:this.job.grades})}).then(o=>o.json()).then(o=>{o.success||console.error("Failed to save grades")}).catch(o=>{console.error("Error saving grades:",o)})}}},I={class:"overflow-y-auto max-h-[50vh]"},z={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},T={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},G={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},H={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},B={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},F={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},R={class:"bg-gray-700 divide-y divide-gray-600"},A={class:"px-4 py-2"},E={class:"px-4 py-2"},L=["onUpdate:modelValue"],W={class:"px-4 py-2"},K=["onUpdate:modelValue"],X={class:"px-4 py-2"},Y=["onUpdate:modelValue"],Z={class:"px-4 py-2"},q=["onClick"],Q={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},ee={class:"bg-gray-800 text-white p-4 rounded w-1/2"},te={class:"text-lg font-bold mb-4"},oe={class:"mb-4"},re={class:"block mb-2"},le={class:"mb-4"},se={class:"block mb-2"},ne={class:"mb-4"},ae={class:"block mb-2"},de={class:"mt-4"},ie={key:0,class:"text-red-500"};function be(o,e,n,p,s,d){return u(),c("div",I,[t("table",z,[t("thead",null,[t("tr",null,[t("th",T,l(o.$t("gradeId")),1),t("th",G,l(o.$t("gradeSpawnName")),1),t("th",H,l(o.$t("gradeName")),1),t("th",B,l(o.$t("salary")),1),t("th",F,l(o.$t("actions")),1)])]),t("tbody",R,[(u(!0),c(m,null,y(n.job.grades,(r,h)=>(u(),c("tr",{key:h},[t("td",A,l(r.grade),1),t("td",E,[a(t("input",{type:"text","onUpdate:modelValue":b=>r.name=b,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,L),[[i,r.name]])]),t("td",W,[a(t("input",{type:"text","onUpdate:modelValue":b=>r.label=b,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,K),[[i,r.label]])]),t("td",X,[a(t("input",{type:"number","onUpdate:modelValue":b=>r.salary=b,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Y),[[i,r.salary]])]),t("td",Z,[t("button",{onClick:b=>d.removeGrade(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},l(o.$t("remove")),9,q)])]))),128))])]),t("button",{onClick:e[0]||(e[0]=r=>s.showAddGradePopup=!0),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},l(o.$t("addGrade")),1),s.showAddGradePopup?(u(),c("div",Q,[t("div",ee,[t("h3",te,l(o.$t("addNewGrade")),1),t("div",oe,[t("label",re,l(o.$t("gradeSpawnName")),1),a(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>s.newGrade.name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[i,s.newGrade.name]])]),t("div",le,[t("label",se,l(o.$t("gradeName")),1),a(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>s.newGrade.label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[i,s.newGrade.label]])]),t("div",ne,[t("label",ae,l(o.$t("salary")),1),a(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=r=>s.newGrade.salary=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[i,s.newGrade.salary]])]),t("div",de,[s.error?(u(),c("span",ie,l(s.error),1)):g("",!0),t("button",{onClick:e[4]||(e[4]=(...r)=>d.addNewGrade&&d.addNewGrade(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("addGrade")),1),t("button",{onClick:e[5]||(e[5]=r=>s.showAddGradePopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},l(o.$t("cancel")),1)])])])):g("",!0),t("button",{onClick:e[6]||(e[6]=(...r)=>d.saveGrades&&d.saveGrades(...r)),class:"mt-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("saveGrades")),1)])}const ue=w(D,[["render",be]]),ce={props:["job"],data(){return{localBossMenu:{coords:{x:0,y:0,z:0},grade:0,type:"npc",npcModel:"",npcHeading:0,npcRange:0,marker:{markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,bobUpAndDown:!1,faceCamera:!1}}}},beforeMount(){this.initializeData()},methods:{initializeData(){try{const o=JSON.parse(this.job.ludaro_manager_bossmenu||"{}");this.localBossMenu={coords:o.coords||{x:0,y:0,z:0},grade:o.grade||0,type:o.type||"npc",npcModel:o.npcModel||"",npcHeading:o.npcHeading||0,npcRange:o.npcRange||0,marker:{markerId:o.marker?o.marker.markerId:0,markerColor:o.marker?o.marker.markerColor:{r:0,g:0,b:0},markerScale:o.marker?o.marker.markerScale:1,bobUpAndDown:o.marker?o.marker.bobUpAndDown:!1,faceCamera:o.marker?o.marker.faceCamera:!1}}}catch(o){console.error("Error parsing bossmenu data:",o)}},fetchCurrentCoords(){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o&&(this.localBossMenu.coords={x:o.x,y:o.y,z:o.z},this.updateJobBossMenu())}).catch(o=>{console.error("Failed to fetch current coords:",o)})},fetchCurrentHeading(){fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o.heading&&(this.localBossMenu.npcHeading=Math.round(o.heading),this.updateJobBossMenu())}).catch(o=>{console.error("Failed to fetch current heading:",o)})},initializeMarkerColor(){this.localBossMenu.marker.markerColor||(this.localBossMenu.marker.markerColor={r:0,g:0,b:0},this.updateJobBossMenu())},initializeGrade(o){this.localBossMenu.grade=o,this.updateJobBossMenu()},updateJobBossMenu(){this.job.bossmenu={...this.localBossMenu},this.$emit("update-job",this.job)}},watch:{localBossMenu:{handler(){this.updateJobBossMenu()},deep:!0}}},pe={class:"mb-4"},he={class:"block mb-2 font-bold"},ge={class:"flex"},me={class:"flex flex-col"},ye=t("label",{class:"mb-1"},"X:",-1),fe={class:"flex flex-col"},ke=t("label",{class:"mb-1"},"Y:",-1),we={class:"flex flex-col"},xe=t("label",{class:"mb-1"},"Z:",-1),Ce={class:"mb-4"},ve={class:"block mb-2 font-bold"},_e=["value"],je={class:"mb-4"},Se={class:"block mb-2 font-bold"},$e={value:"npc"},Ue={value:"marker"},Ve={key:0},Oe={class:"flex flex-col"},Me={class:"mb-1"},Pe={class:"flex flex-col"},Je={class:"mb-1"},Ne={class:"flex flex-col"},De={class:"mb-1"},Ie={key:1},ze={class:"flex flex-col"},Te={class:"mb-1"},Ge={class:"flex"},He={class:"flex flex-col mr-2"},Be=t("label",{class:"mb-1"},"R:",-1),Fe={class:"flex flex-col mr-2"},Re=t("label",{class:"mb-1"},"G:",-1),Ae={class:"flex flex-col"},Ee=t("label",{class:"mb-1"},"B:",-1),Le={class:"flex flex-col"},We={class:"mb-1"},Ke={class:"flex flex-col"},Xe={class:"mb-1"},Ye={class:"flex flex-col"},Ze={class:"mb-1"};function qe(o,e,n,p,s,d){return u(),c("div",null,[t("div",pe,[t("label",he,l(o.$t("bossMenuCoords"))+" (x, y, z)",1),t("div",ge,[t("div",me,[ye,a(t("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=r=>s.localBossMenu.coords.x=r),class:"w-full p-2 mr-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[i,s.localBossMenu.coords.x]])]),t("div",fe,[ke,a(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=r=>s.localBossMenu.coords.y=r),class:"w-full p-2 mr-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[i,s.localBossMenu.coords.y]])]),t("div",we,[xe,a(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=r=>s.localBossMenu.coords.z=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[i,s.localBossMenu.coords.z]])])]),t("button",{onClick:e[3]||(e[3]=(...r)=>d.fetchCurrentCoords&&d.fetchCurrentCoords(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1)]),t("div",Ce,[t("label",ve,l(o.$t("bossMenuGradeAccess")),1),a(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>s.localBossMenu.grade=r),onChange:e[5]||(e[5]=r=>d.initializeGrade(s.localBossMenu.grade)),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[(u(!0),c(m,null,y(n.job.grades,r=>(u(),c("option",{key:r.grade,value:r.grade},l(r.label)+" (ID: "+l(r.grade)+") ",9,_e))),128))],544),[[k,s.localBossMenu.grade]])]),t("div",je,[t("label",Se,l(o.$t("bossMenuNpcMarker")),1),a(t("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>s.localBossMenu.type=r),onChange:e[7]||(e[7]=(...r)=>d.initializeMarkerColor&&d.initializeMarkerColor(...r)),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[t("option",$e,l(o.$t("npc")),1),t("option",Ue,l(o.$t("marker")),1)],544),[[k,s.localBossMenu.type]]),s.localBossMenu.type==="npc"?(u(),c("div",Ve,[t("div",Oe,[t("label",Me,l(o.$t("npcModel"))+":",1),a(t("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=r=>s.localBossMenu.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[i,s.localBossMenu.npcModel]])]),t("div",Pe,[t("label",Je,l(o.$t("npcHeading"))+":",1),a(t("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=r=>s.localBossMenu.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[i,s.localBossMenu.npcHeading]])]),t("div",Ne,[t("label",De,l(o.$t("npcRange"))+":",1),a(t("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=r=>s.localBossMenu.npcRange=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Range"},null,512),[[i,s.localBossMenu.npcRange]])]),t("button",{onClick:e[11]||(e[11]=(...r)=>d.fetchCurrentHeading&&d.fetchCurrentHeading(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])):s.localBossMenu.type==="marker"?(u(),c("div",Ie,[t("div",ze,[t("label",Te,l(o.$t("markerId"))+":",1),a(t("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=r=>s.localBossMenu.marker.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[i,s.localBossMenu.marker.markerId]])]),t("div",Ge,[t("div",He,[Be,a(t("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=r=>s.localBossMenu.marker.markerColor.r=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[i,s.localBossMenu.marker.markerColor.r]])]),t("div",Fe,[Re,a(t("input",{type:"number","onUpdate:modelValue":e[14]||(e[14]=r=>s.localBossMenu.marker.markerColor.g=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[i,s.localBossMenu.marker.markerColor.g]])]),t("div",Ae,[Ee,a(t("input",{type:"number","onUpdate:modelValue":e[15]||(e[15]=r=>s.localBossMenu.marker.markerColor.b=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[i,s.localBossMenu.marker.markerColor.b]])])]),t("div",Le,[t("label",We,l(o.$t("markerScale"))+":",1),a(t("input",{type:"number","onUpdate:modelValue":e[16]||(e[16]=r=>s.localBossMenu.marker.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[i,s.localBossMenu.marker.markerScale]])]),t("div",Ke,[t("label",Xe,l(o.$t("bobUpAndDown"))+":",1),a(t("input",{type:"checkbox","onUpdate:modelValue":e[17]||(e[17]=r=>s.localBossMenu.marker.bobUpAndDown=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[f,s.localBossMenu.marker.bobUpAndDown]])]),t("div",Ye,[t("label",Ze,l(o.$t("faceCamera"))+":",1),a(t("input",{type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=r=>s.localBossMenu.marker.faceCamera=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[f,s.localBossMenu.marker.faceCamera]])])])):g("",!0)])])}const Qe=w(ce,[["render",qe]]),et={props:["job"],data(){return{newInteraction:"",availableInteractions:[],error:""}},mounted(){this.fetchAvailableInteractions(),this.job.interactions=JSON.parse(this.job.ludaro_manager_interactions||"[]")},methods:{async fetchAvailableInteractions(){try{const o=await fetch(`https://${GetParentResourceName()}/getInteractions`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})});this.availableInteractions=await o.json()}catch(o){console.error("Failed to fetch available interactions:",o),this.error="Failed to load interactions. Please try again later."}},async addInteraction(){if(!this.newInteraction){this.error="Please select a valid interaction.";return}if(this.error="",Array.isArray(this.job.interactions)||(this.job.interactions=[]),this.job.interactions.includes(this.newInteraction)){this.error="This interaction is already added.";return}try{const e=await(await fetch(`https://${GetParentResourceName()}/addInteraction`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,interaction:this.newInteraction})})).json();e.success===!0||e.success==="true"||e.success===void 0?(this.job.interactions.push(this.newInteraction),this.newInteraction="",this.$emit("update-job",this.job)):this.error="Failed to add interaction. Please try again."}catch(o){console.error("Failed to add interaction:",o),this.error="Failed to add interaction. Please try again."}},async removeInteraction(o){const e=this.job.interactions[o];try{const p=await(await fetch(`https://${GetParentResourceName()}/removeInteraction`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,interaction:e})})).json();p.success===!0||p.success==="true"||p.success===void 0?(this.job.interactions.splice(o,1),this.$emit("update-job",this.job)):this.error="Failed to remove interaction. Please try again."}catch(n){console.error("Failed to remove interaction:",n),this.error="Failed to remove interaction. Please try again."}}}},tt={class:"overflow-y-auto max-h-[50vh]"},ot={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},rt={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},lt={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},st={class:"bg-gray-700 divide-y divide-gray-600"},nt={class:"px-4 py-2"},at={class:"px-4 py-2"},dt=["onClick"],it={class:"mt-4"},bt={class:"block mb-2"},ut={disabled:"",value:""},ct=["value"],pt={key:0,class:"text-red-500"};function ht(o,e,n,p,s,d){return u(),c("div",tt,[t("table",ot,[t("thead",null,[t("tr",null,[t("th",rt,l(o.$t("interaction")),1),t("th",lt,l(o.$t("actions")),1)])]),t("tbody",st,[(u(!0),c(m,null,y(n.job.interactions||[],(r,h)=>(u(),c("tr",{key:h},[t("td",nt,l(r),1),t("td",at,[t("button",{onClick:b=>d.removeInteraction(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},l(o.$t("remove")),9,dt)])]))),128))])]),t("div",it,[t("label",bt,l(o.$t("selectInteraction")),1),a(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.newInteraction=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},[t("option",ut,l(o.$t("selectInteractionPlaceholder")),1),(u(!0),c(m,null,y(s.availableInteractions,r=>(u(),c("option",{key:r.interaction_label,value:r.interaction_name},l(r.interaction_label),9,ct))),128))],512),[[k,s.newInteraction]]),s.error?(u(),c("span",pt,l(s.error),1)):g("",!0),t("button",{onClick:e[1]||(e[1]=(...r)=>d.addInteraction&&d.addInteraction(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("addInteraction")),1)])])}const gt=w(et,[["render",ht]]),mt={props:["job"],data(){return{activeTab:"garage"}},beforeMount(){const o=JSON.parse(this.job.ludaro_manager_garage||"{}");this.job.garage={coords:o.coords||{x:0,y:0,z:0},parkoutCoords:{x:o.parkoutCoords?o.parkoutCoords.x:0,y:o.parkoutCoords?o.parkoutCoords.y:0,z:o.parkoutCoords?o.parkoutCoords.z:0,heading:o.parkoutCoords?o.parkoutCoords.heading:0},type:o.type||"npc",npcModel:o.npcModel||"",npcHeading:o.npcHeading||0,markerId:o.markerId||0,markerColor:o.markerColor||{r:0,g:0,b:0},markerScale:o.markerScale||1};const e=JSON.parse(this.job.ludaro_manager_vehicleShop||"{}");this.job.vehicleShop={coords:e.coords||{x:0,y:0,z:0},parkoutCoords:{x:e.parkoutCoords?e.parkoutCoords.x:0,y:e.parkoutCoords?e.parkoutCoords.y:0,z:e.parkoutCoords?e.parkoutCoords.z:0,heading:e.parkoutCoords?e.parkoutCoords.heading:0},type:e.type||"npc",npcModel:e.npcModel||"",npcHeading:e.npcHeading||0,markerId:e.markerId||0,markerColor:e.markerColor||{r:0,g:0,b:0},markerScale:e.markerScale||1,vehicles:e.vehicles||[],buyWithSocietyMoney:e.buyWithSocietyMoney||!1}},methods:{fetchCurrentCoords(o){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(e=>e.json()).then(e=>{e&&(o==="garage"?this.job.garage.coords={x:e.x,y:e.y,z:e.z}:o==="garageParkout"?(this.job.garage.parkoutCoords.x=e.x,this.job.garage.parkoutCoords.y=e.y,this.job.garage.parkoutCoords.z=e.z):o==="vehicleShop"?this.job.vehicleShop.coords={x:e.x,y:e.y,z:e.z}:o==="vehicleShopParkout"&&(this.job.vehicleShop.parkoutCoords.x=e.x,this.job.vehicleShop.parkoutCoords.y=e.y,this.job.vehicleShop.parkoutCoords.z=e.z),this.$emit("update-job",this.job))}).catch(e=>{console.error("Failed to fetch current coords:",e)})},fetchCurrentHeading(o){fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(e=>e.json()).then(e=>{e.heading=Math.round(e.heading),e.heading&&(o==="vehicleShop"?this.job.vehicleShop.npcHeading=e.heading:o==="vehicleShopParkout"?this.job.vehicleShop.parkoutCoords.heading=e.heading:o==="garage"?this.job.garage.npcHeading=e.heading:o==="garageParkout"&&(this.job.garage.parkoutCoords.heading=e.heading),this.$emit("update-job",this.job))}).catch(e=>{console.error("Failed to fetch current heading:",e)})},initializeMarkerColor(o){o==="vehicleShop"?this.job.vehicleShop.markerColor||(this.job.vehicleShop.markerColor={r:0,g:0,b:0}):this.job.garage.markerColor||(this.job.garage.markerColor={r:0,g:0,b:0})},addVehicle(){this.job.vehicleShop.vehicles.push({model:"",label:"",price:0,grade:"",platePrefix:"",societyOwned:!1}),this.$emit("update-job",this.job)},removeVehicle(o){this.job.vehicleShop.vehicles.splice(o,1),this.$emit("update-job",this.job)}}},yt={class:"tabs"},ft={key:0},kt={class:"block mb-2"},wt={class:"mt-4"},xt={class:"block mb-2"},Ct={class:"flex space-x-2"},vt={class:"mt-4"},_t={class:"block mb-2"},jt={value:"npc"},St={value:"marker"},$t={key:0},Ut={class:"block mb-2"},Vt={class:"block mb-2"},Ot={key:1},Mt={class:"block mb-2"},Pt={class:"block mb-2"},Jt={class:"block mb-2"},Nt={key:1},Dt={class:"block mb-2"},It={class:"mt-4"},zt={class:"block mb-2"},Tt={class:"flex space-x-2"},Gt={class:"mt-4"},Ht={class:"block mb-2"},Bt={value:"npc"},Ft={value:"marker"},Rt={key:0},At={class:"block mb-2"},Et={class:"block mb-2"},Lt={key:1},Wt={class:"block mb-2"},Kt={class:"block mb-2"},Xt={class:"block mb-2"},Yt={class:"mt-4"},Zt={class:"block mb-2"},qt={class:"mt-4"},Qt={class:"text-lg font-bold mb-2"},eo={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},to={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},oo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},ro={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},lo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},so={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},no={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},ao={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},io={class:"bg-gray-700 divide-y divide-gray-600"},bo={class:"px-4 py-2"},uo=["onUpdate:modelValue"],co={class:"px-4 py-2"},po=["onUpdate:modelValue"],ho={class:"px-4 py-2"},go=["onUpdate:modelValue"],mo={class:"px-4 py-2"},yo=["onUpdate:modelValue"],fo=["value"],ko={class:"px-4 py-2"},wo=["onUpdate:modelValue"],xo={class:"px-4 py-2"},Co=["onUpdate:modelValue"],vo={class:"px-4 py-2"},_o=["onClick"];function jo(o,e,n,p,s,d){return u(),c("div",null,[t("div",yt,[t("button",{class:_([{"active-tab":s.activeTab==="garage"},"tab-button"]),onClick:e[0]||(e[0]=r=>s.activeTab="garage")},l(o.$t("garage")),3),t("button",{class:_([{"active-tab":s.activeTab==="vehicleShop"},"tab-button"]),onClick:e[1]||(e[1]=r=>s.activeTab="vehicleShop")},l(o.$t("vehicleShop")),3)]),s.activeTab==="garage"?(u(),c("div",ft,[t("div",null,[t("label",kt,l(o.$t("garageCoords"))+" (x, y, z)",1),a(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=r=>n.job.garage.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[i,n.job.garage.coords.x]]),a(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=r=>n.job.garage.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[i,n.job.garage.coords.y]]),a(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=r=>n.job.garage.coords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[i,n.job.garage.coords.z]]),t("button",{onClick:e[5]||(e[5]=r=>d.fetchCurrentCoords("garage")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1)]),t("div",wt,[t("label",xt,l(o.$t("garageParkoutCoords"))+" (x, y, z, heading)",1),a(t("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=r=>n.job.garage.parkoutCoords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[i,n.job.garage.parkoutCoords.x]]),a(t("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=r=>n.job.garage.parkoutCoords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[i,n.job.garage.parkoutCoords.y]]),a(t("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=r=>n.job.garage.parkoutCoords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[i,n.job.garage.parkoutCoords.z]]),a(t("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=r=>n.job.garage.parkoutCoords.heading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"heading"},null,512),[[i,n.job.garage.parkoutCoords.heading]]),t("div",Ct,[t("button",{onClick:e[10]||(e[10]=r=>d.fetchCurrentCoords("garageParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1),t("button",{onClick:e[11]||(e[11]=r=>d.fetchCurrentHeading("garageParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])]),t("div",vt,[t("label",_t,l(o.$t("garageMarkerNpc")),1),a(t("select",{"onUpdate:modelValue":e[12]||(e[12]=r=>n.job.garage.type=r),onChange:e[13]||(e[13]=r=>d.initializeMarkerColor("garage")),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[t("option",jt,l(o.$t("npc")),1),t("option",St,l(o.$t("marker")),1)],544),[[k,n.job.garage.type]]),n.job.garage.type==="npc"?(u(),c("div",$t,[t("label",Ut,l(o.$t("npcModel")),1),a(t("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=r=>n.job.garage.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[i,n.job.garage.npcModel]]),t("label",Vt,l(o.$t("npcHeading")),1),a(t("input",{type:"number","onUpdate:modelValue":e[15]||(e[15]=r=>n.job.garage.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[i,n.job.garage.npcHeading]]),t("button",{onClick:e[16]||(e[16]=r=>d.fetchCurrentHeading("garage")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])):n.job.garage.type==="marker"?(u(),c("div",Ot,[t("label",Mt,l(o.$t("markerId")),1),a(t("input",{type:"number","onUpdate:modelValue":e[17]||(e[17]=r=>n.job.garage.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[i,n.job.garage.markerId]]),t("div",null,[t("label",Pt,l(o.$t("markerColor"))+" (RGB)",1),a(t("input",{type:"number","onUpdate:modelValue":e[18]||(e[18]=r=>n.job.garage.markerColor.r=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[i,n.job.garage.markerColor.r]]),a(t("input",{type:"number","onUpdate:modelValue":e[19]||(e[19]=r=>n.job.garage.markerColor.g=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[i,n.job.garage.markerColor.g]]),a(t("input",{type:"number","onUpdate:modelValue":e[20]||(e[20]=r=>n.job.garage.markerColor.b=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[i,n.job.garage.markerColor.b]])]),t("label",Jt,l(o.$t("markerScale")),1),a(t("input",{type:"number","onUpdate:modelValue":e[21]||(e[21]=r=>n.job.garage.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[i,n.job.garage.markerScale]])])):g("",!0)])])):s.activeTab==="vehicleShop"?(u(),c("div",Nt,[t("div",null,[t("label",Dt,l(o.$t("vehicleShopCoords"))+" (x, y, z)",1),a(t("input",{type:"number","onUpdate:modelValue":e[22]||(e[22]=r=>n.job.vehicleShop.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[i,n.job.vehicleShop.coords.x]]),a(t("input",{type:"number","onUpdate:modelValue":e[23]||(e[23]=r=>n.job.vehicleShop.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[i,n.job.vehicleShop.coords.y]]),a(t("input",{type:"number","onUpdate:modelValue":e[24]||(e[24]=r=>n.job.vehicleShop.coords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[i,n.job.vehicleShop.coords.z]]),t("button",{onClick:e[25]||(e[25]=r=>d.fetchCurrentCoords("vehicleShop")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1)]),t("div",It,[t("label",zt,l(o.$t("vehicleShopParkoutCoords"))+" (x, y, z, heading)",1),a(t("input",{type:"number","onUpdate:modelValue":e[26]||(e[26]=r=>n.job.vehicleShop.parkoutCoords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[i,n.job.vehicleShop.parkoutCoords.x]]),a(t("input",{type:"number","onUpdate:modelValue":e[27]||(e[27]=r=>n.job.vehicleShop.parkoutCoords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[i,n.job.vehicleShop.parkoutCoords.y]]),a(t("input",{type:"number","onUpdate:modelValue":e[28]||(e[28]=r=>n.job.vehicleShop.parkoutCoords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[i,n.job.vehicleShop.parkoutCoords.z]]),a(t("input",{type:"number","onUpdate:modelValue":e[29]||(e[29]=r=>n.job.vehicleShop.parkoutCoords.heading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"heading"},null,512),[[i,n.job.vehicleShop.parkoutCoords.heading]]),t("div",Tt,[t("button",{onClick:e[30]||(e[30]=r=>d.fetchCurrentCoords("vehicleShopParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1),t("button",{onClick:e[31]||(e[31]=r=>d.fetchCurrentHeading("vehicleShopParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])]),t("div",Gt,[t("label",Ht,l(o.$t("vehicleShopMarkerNpc")),1),a(t("select",{"onUpdate:modelValue":e[32]||(e[32]=r=>n.job.vehicleShop.type=r),onChange:e[33]||(e[33]=r=>d.initializeMarkerColor("vehicleShop")),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[t("option",Bt,l(o.$t("npc")),1),t("option",Ft,l(o.$t("marker")),1)],544),[[k,n.job.vehicleShop.type]]),n.job.vehicleShop.type==="npc"?(u(),c("div",Rt,[t("label",At,l(o.$t("npcModel")),1),a(t("input",{type:"text","onUpdate:modelValue":e[34]||(e[34]=r=>n.job.vehicleShop.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[i,n.job.vehicleShop.npcModel]]),t("label",Et,l(o.$t("npcHeading")),1),a(t("input",{type:"number","onUpdate:modelValue":e[35]||(e[35]=r=>n.job.vehicleShop.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[i,n.job.vehicleShop.npcHeading]]),t("button",{onClick:e[36]||(e[36]=r=>d.fetchCurrentHeading("vehicleShop")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])):n.job.vehicleShop.type==="marker"?(u(),c("div",Lt,[t("label",Wt,l(o.$t("markerId")),1),a(t("input",{type:"number","onUpdate:modelValue":e[37]||(e[37]=r=>n.job.vehicleShop.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[i,n.job.vehicleShop.markerId]]),t("div",null,[t("label",Kt,l(o.$t("markerColor"))+" (RGB)",1),a(t("input",{type:"number","onUpdate:modelValue":e[38]||(e[38]=r=>n.job.vehicleShop.markerColor.r=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[i,n.job.vehicleShop.markerColor.r]]),a(t("input",{type:"number","onUpdate:modelValue":e[39]||(e[39]=r=>n.job.vehicleShop.markerColor.g=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[i,n.job.vehicleShop.markerColor.g]]),a(t("input",{type:"number","onUpdate:modelValue":e[40]||(e[40]=r=>n.job.vehicleShop.markerColor.b=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[i,n.job.vehicleShop.markerColor.b]])]),t("label",Xt,l(o.$t("markerScale")),1),a(t("input",{type:"number","onUpdate:modelValue":e[41]||(e[41]=r=>n.job.vehicleShop.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[i,n.job.vehicleShop.markerScale]])])):g("",!0)]),t("div",Yt,[t("label",Zt,l(o.$t("buyWithSocietyMoney")),1),a(t("input",{type:"checkbox","onUpdate:modelValue":e[42]||(e[42]=r=>n.job.vehicleShop.buyWithSocietyMoney=r)},null,512),[[f,n.job.vehicleShop.buyWithSocietyMoney]])]),t("div",qt,[t("h3",Qt,l(o.$t("availableVehicles")),1),t("table",eo,[t("thead",null,[t("tr",null,[t("th",to,l(o.$t("model")),1),t("th",oo,l(o.$t("label")),1),t("th",ro,l(o.$t("price")),1),t("th",lo,l(o.$t("grade")),1),t("th",so,l(o.$t("platePrefix")),1),t("th",no,l(o.$t("societyOwned")),1),t("th",ao,l(o.$t("actions")),1)])]),t("tbody",io,[(u(!0),c(m,null,y(n.job.vehicleShop.vehicles,(r,h)=>(u(),c("tr",{key:h},[t("td",bo,[a(t("input",{type:"text","onUpdate:modelValue":b=>r.model=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Model"},null,8,uo),[[i,r.model]])]),t("td",co,[a(t("input",{type:"text","onUpdate:modelValue":b=>r.label=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Label"},null,8,po),[[i,r.label]])]),t("td",ho,[a(t("input",{type:"number","onUpdate:modelValue":b=>r.price=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Price"},null,8,go),[[i,r.price]])]),t("td",mo,[a(t("select",{"onUpdate:modelValue":b=>r.grade=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(u(!0),c(m,null,y(n.job.grades,b=>(u(),c("option",{key:b.grade,value:b.grade},l(b.label)+" (ID: "+l(b.grade)+") ",9,fo))),128))],8,yo),[[k,r.grade]])]),t("td",ko,[a(t("input",{type:"text","onUpdate:modelValue":b=>r.platePrefix=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Plate Prefix"},null,8,wo),[[i,r.platePrefix]])]),t("td",xo,[a(t("input",{type:"checkbox","onUpdate:modelValue":b=>r.societyOwned=b},null,8,Co),[[f,r.societyOwned]])]),t("td",vo,[t("button",{onClick:b=>d.removeVehicle(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},l(o.$t("remove")),9,_o)])]))),128))])]),t("button",{onClick:e[43]||(e[43]=(...r)=>d.addVehicle&&d.addVehicle(...r)),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},l(o.$t("addVehicle")),1)])])):g("",!0)])}const So=w(mt,[["render",jo],["__scopeId","data-v-27c9bdaf"]]),$o={props:["job"],data(){return{localOnOffDuty:{coords:{x:0,y:0,z:0},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1}}},beforeMount(){this.loadOnOffDutyData()},methods:{loadOnOffDutyData(){try{const o=JSON.parse(this.job.ludaro_manager_onoffduty||"{}");this.localOnOffDuty={coords:o.coords||{x:0,y:0,z:0},type:o.type||"npc",npcModel:o.npcModel||"",npcHeading:o.npcHeading||0,markerId:o.markerId||0,markerColor:o.markerColor||{r:0,g:0,b:0},markerScale:o.markerScale||1}}catch(o){console.error("Error parsing onoffduty data:",o)}},fetchCurrentCoords(){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o&&(this.localOnOffDuty.coords={x:o.x,y:o.y,z:o.z},this.updateJobOnOffDuty())}).catch(o=>{console.error("Failed to fetch current coords:",o)})},fetchCurrentHeading(){fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o.heading&&(this.localOnOffDuty.npcHeading=Math.round(o.heading),this.updateJobOnOffDuty())}).catch(o=>{console.error("Failed to fetch current heading:",o)})},initializeMarkerColor(){this.localOnOffDuty.markerColor||(this.localOnOffDuty.markerColor={r:0,g:0,b:0})},updateJobOnOffDuty(){this.job.onoffduty={...this.localOnOffDuty},this.$emit("update-job",{...this.job})}},watch:{localOnOffDuty:{handler(){this.updateJobOnOffDuty()},deep:!0}}},Uo={class:"block mb-2"},Vo={class:"mb-4"},Oo={class:"block mb-2"},Mo={value:"npc"},Po={value:"marker"},Jo={key:0},No={class:"mt-4"},Do={class:"block mb-2"},Io={class:"mt-4"},zo={class:"block mb-2"},To={key:1},Go={class:"mt-4"},Ho={class:"block mb-2"},Bo={class:"block mb-2"},Fo={class:"mt-4"},Ro={class:"block mb-2"};function Ao(o,e,n,p,s,d){return u(),c("div",null,[t("div",null,[t("label",Uo,l(o.$t("onOffDutyCoords"))+" (x, y, z)",1),a(t("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=r=>s.localOnOffDuty.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[i,s.localOnOffDuty.coords.x]]),a(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=r=>s.localOnOffDuty.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[i,s.localOnOffDuty.coords.y]]),a(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=r=>s.localOnOffDuty.coords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[i,s.localOnOffDuty.coords.z]]),t("button",{onClick:e[3]||(e[3]=(...r)=>d.fetchCurrentCoords&&d.fetchCurrentCoords(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1)]),t("div",Vo,[t("label",Oo,l(o.$t("onOffDutyNpcMarker")),1),a(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>s.localOnOffDuty.type=r),onChange:e[5]||(e[5]=(...r)=>d.initializeMarkerColor&&d.initializeMarkerColor(...r)),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[t("option",Mo,l(o.$t("npc")),1),t("option",Po,l(o.$t("marker")),1)],544),[[k,s.localOnOffDuty.type]]),s.localOnOffDuty.type==="npc"?(u(),c("div",Jo,[t("div",No,[t("label",Do,l(o.$t("npcModel")),1),a(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=r=>s.localOnOffDuty.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[i,s.localOnOffDuty.npcModel]])]),t("div",Io,[t("label",zo,l(o.$t("npcHeading")),1),a(t("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=r=>s.localOnOffDuty.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[i,s.localOnOffDuty.npcHeading]]),t("button",{onClick:e[8]||(e[8]=(...r)=>d.fetchCurrentHeading&&d.fetchCurrentHeading(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])])):s.localOnOffDuty.type==="marker"?(u(),c("div",To,[t("div",Go,[t("label",Ho,l(o.$t("markerId")),1),a(t("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=r=>s.localOnOffDuty.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[i,s.localOnOffDuty.markerId]])]),t("div",null,[t("label",Bo,l(o.$t("markerColor"))+" (RGB)",1),a(t("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=r=>s.localOnOffDuty.markerColor.r=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[i,s.localOnOffDuty.markerColor.r]]),a(t("input",{type:"number","onUpdate:modelValue":e[11]||(e[11]=r=>s.localOnOffDuty.markerColor.g=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[i,s.localOnOffDuty.markerColor.g]]),a(t("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=r=>s.localOnOffDuty.markerColor.b=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[i,s.localOnOffDuty.markerColor.b]])]),t("div",Fo,[t("label",Ro,l(o.$t("markerScale")),1),a(t("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=r=>s.localOnOffDuty.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[i,s.localOnOffDuty.markerScale]])])])):g("",!0)])])}const Eo=w($o,[["render",Ao]]),Lo={props:["job"],methods:{getGradeLabel(o){const e=this.job.grades.find(n=>n.grade===o);return e?`${e.label} (ID: ${e.grade})`:"Unknown"},promoteEmployee(o){const e=this.job.employees.find(p=>p.identifier===o),n=this.job.grades.findIndex(p=>p.grade===e.job_grade);n<this.job.grades.length-1&&(e.job_grade=this.job.grades[n+1].grade,this.saveEmployeeData(e))},demoteEmployee(o){const e=this.job.employees.find(p=>p.identifier===o),n=this.job.grades.findIndex(p=>p.grade===e.job_grade);n>0&&(e.job_grade=this.job.grades[n-1].grade,this.saveEmployeeData(e))},fireEmployee(o){const e=this.job.employees.find(n=>n.identifier===o);this.job.employees=this.job.employees.filter(n=>n.identifier!==o),this.$emit("update-job",this.job),fetch(`https://${GetParentResourceName()}/saveEmployee`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,employee:e,fire:!0})})},saveEmployeeData(o){fetch(`https://${GetParentResourceName()}/saveEmployee`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,employee:o})}).then(e=>e.json()).then(e=>{e.success&&this.$emit("update-job",this.job)}).catch(e=>{console.error("Failed to save employee data:",e)})},canPromote(o){const e=this.job.grades.findIndex(n=>n.grade===o.job_grade);return e<this.job.grades.length-1&&this.job.grades[e+1]},canDemote(o){const e=this.job.grades.findIndex(n=>n.grade===o.job_grade);return e>0&&this.job.grades[e-1]}}},Wo={class:"overflow-y-auto max-h-[50vh]"},Ko={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},Xo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Yo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Zo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},qo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Qo={class:"bg-gray-700 divide-y divide-gray-600"},er={class:"px-4 py-2"},tr={class:"px-4 py-2"},or={class:"px-4 py-2"},rr={class:"px-4 py-2"},lr=["onClick"],sr=["onClick"],nr=["onClick"];function ar(o,e,n,p,s,d){return u(),c("div",Wo,[t("table",Ko,[t("thead",null,[t("tr",null,[t("th",Xo,l(o.$t("firstName")),1),t("th",Yo,l(o.$t("lastName")),1),t("th",Zo,l(o.$t("grade")),1),t("th",qo,l(o.$t("actions")),1)])]),t("tbody",Qo,[(u(!0),c(m,null,y(n.job.employees,(r,h)=>(u(),c("tr",{key:r.identifier},[t("td",er,l(r.firstname),1),t("td",tr,l(r.lastname),1),t("td",or,l(d.getGradeLabel(r.job_grade)),1),t("td",rr,[d.canPromote(r)?(u(),c("button",{key:0,onClick:b=>d.promoteEmployee(r.identifier),class:"bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600"},l(o.$t("promote")),9,lr)):g("",!0),d.canDemote(r)?(u(),c("button",{key:1,onClick:b=>d.demoteEmployee(r.identifier),class:"bg-yellow-500 text-white px-2 py-1 rounded hover:bg-yellow-600"},l(o.$t("demote")),9,sr)):g("",!0),n.job.name!=="unemployed"?(u(),c("button",{key:2,onClick:b=>d.fireEmployee(r.identifier),class:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600"},l(o.$t("fire")),9,nr)):g("",!0)])]))),128))])])])}const dr=w(Lo,[["render",ar],["__scopeId","data-v-81a8b0d9"]]),ir={props:["job"],data(){return{localStashes:[]}},beforeMount(){this.loadStashesData()},methods:{loadStashesData(){try{const o=JSON.parse(this.job.ludaro_manager_stashes||"[]");this.localStashes=o.map(e=>({coords:e.coords||{x:0,y:0,z:0},type:e.type||"npc",npcModel:e.npcModel||"",npcHeading:e.npcHeading||0,markerId:e.markerId||0,markerColor:e.markerColor||{r:0,g:0,b:0},markerScale:e.markerScale||1,slots:e.slots||0,weight:e.weight||0,official:e.official||!1,maxGrade:e.maxGrade||0}))}catch(o){console.error("Error parsing stashes data:",o),this.localStashes=[]}},fetchCurrentCoords(o){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(e=>e.json()).then(e=>{e&&(this.localStashes[o].coords={x:e.x,y:e.y,z:e.z},this.updateJobStashes())}).catch(e=>{console.error("Failed to fetch current coords:",e)})},initializeMarkerColor(o){this.localStashes[o].markerColor||(this.localStashes[o].markerColor={r:0,g:0,b:0})},addStash(){this.localStashes.push({coords:{x:0,y:0,z:0},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,slots:0,weight:0,official:!1,maxGrade:0}),this.updateJobStashes()},removeStash(o){this.localStashes.splice(o,1),this.updateJobStashes()},updateJobStashes(){this.job.stashes=[...this.localStashes],this.$emit("update-job",{...this.job})}},watch:{localStashes:{handler(){this.updateJobStashes()},deep:!0}}},br={class:"text-lg font-bold mb-2"},ur={class:"block mb-2"},cr=["onUpdate:modelValue"],pr=["onUpdate:modelValue"],hr=["onUpdate:modelValue"],gr={class:"flex space-x-2"},mr=["onClick"],yr={class:"mt-4"},fr={class:"block mb-2"},kr=["onUpdate:modelValue","onChange"],wr={value:"npc"},xr={value:"marker"},Cr={key:0},vr={class:"block mb-2"},_r=["onUpdate:modelValue"],jr={class:"block mb-2"},Sr=["onUpdate:modelValue"],$r={key:1},Ur={class:"block mb-2"},Vr=["onUpdate:modelValue"],Or={class:"block mb-2"},Mr=["onUpdate:modelValue"],Pr=["onUpdate:modelValue"],Jr=["onUpdate:modelValue"],Nr={class:"block mb-2"},Dr=["onUpdate:modelValue"],Ir={class:"mt-4"},zr={class:"block mb-2"},Tr=["onUpdate:modelValue"],Gr={class:"mt-4"},Hr={class:"block mb-2"},Br=["onUpdate:modelValue"],Fr={class:"mt-4"},Rr={class:"block mb-2"},Ar=["onUpdate:modelValue"],Er=["value"],Lr={class:"mt-4"},Wr={class:"block mb-2"},Kr=["onUpdate:modelValue"],Xr=["onClick"];function Yr(o,e,n,p,s,d){return u(),c("div",null,[(u(!0),c(m,null,y(s.localStashes,(r,h)=>(u(),c("div",{key:h,class:"mb-4"},[t("h3",br,l(o.$t("stash"))+" "+l(h+1),1),t("div",null,[t("label",ur,l(o.$t("stashCoords"))+" (x, y, z)",1),a(t("input",{type:"number","onUpdate:modelValue":b=>r.coords.x=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,8,cr),[[i,r.coords.x]]),a(t("input",{type:"number","onUpdate:modelValue":b=>r.coords.y=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,8,pr),[[i,r.coords.y]]),a(t("input",{type:"number","onUpdate:modelValue":b=>r.coords.z=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,8,hr),[[i,r.coords.z]]),t("div",gr,[t("button",{onClick:b=>d.fetchCurrentCoords(h),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),9,mr)])]),t("div",yr,[t("label",fr,l(o.$t("stashNpcMarker")),1),a(t("select",{"onUpdate:modelValue":b=>r.type=b,onChange:b=>d.initializeMarkerColor(h),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[t("option",wr,l(o.$t("npc")),1),t("option",xr,l(o.$t("marker")),1)],40,kr),[[k,r.type]]),r.type==="npc"?(u(),c("div",Cr,[t("label",vr,l(o.$t("npcModel")),1),a(t("input",{type:"text","onUpdate:modelValue":b=>r.npcModel=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,8,_r),[[i,r.npcModel]]),t("label",jr,l(o.$t("npcHeading")),1),a(t("input",{type:"number","onUpdate:modelValue":b=>r.npcHeading=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,8,Sr),[[i,r.npcHeading]])])):r.type==="marker"?(u(),c("div",$r,[t("label",Ur,l(o.$t("markerId")),1),a(t("input",{type:"number","onUpdate:modelValue":b=>r.markerId=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,8,Vr),[[i,r.markerId]]),t("div",null,[t("label",Or,l(o.$t("markerColor"))+" (RGB)",1),a(t("input",{type:"number","onUpdate:modelValue":b=>r.markerColor.r=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,8,Mr),[[i,r.markerColor.r]]),a(t("input",{type:"number","onUpdate:modelValue":b=>r.markerColor.g=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,8,Pr),[[i,r.markerColor.g]]),a(t("input",{type:"number","onUpdate:modelValue":b=>r.markerColor.b=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,8,Jr),[[i,r.markerColor.b]])]),t("label",Nr,l(o.$t("markerScale")),1),a(t("input",{type:"number","onUpdate:modelValue":b=>r.markerScale=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,8,Dr),[[i,r.markerScale]])])):g("",!0)]),t("div",Ir,[t("label",zr,l(o.$t("slots")),1),a(t("input",{type:"number","onUpdate:modelValue":b=>r.slots=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Slots"},null,8,Tr),[[i,r.slots]])]),t("div",Gr,[t("label",Hr,l(o.$t("weight")),1),a(t("input",{type:"number","onUpdate:modelValue":b=>r.weight=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Weight"},null,8,Br),[[i,r.weight]])]),t("div",Fr,[t("label",Rr,l(o.$t("maxGrade")),1),a(t("select",{"onUpdate:modelValue":b=>r.maxGrade=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(u(!0),c(m,null,y(n.job.grades,b=>(u(),c("option",{key:b.grade,value:b.grade},l(b.label)+" (ID: "+l(b.grade)+") ",9,Er))),128))],8,Ar),[[k,r.maxGrade]])]),t("div",Lr,[t("label",Wr,l(o.$t("officialStash")),1),a(t("input",{type:"checkbox","onUpdate:modelValue":b=>r.official=b},null,8,Kr),[[f,r.official]])]),t("button",{onClick:b=>d.removeStash(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mt-2"},l(o.$t("removeStash")),9,Xr)]))),128)),t("button",{onClick:e[0]||(e[0]=(...r)=>d.addStash&&d.addStash(...r)),class:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},l(o.$t("addStash")),1)])}const Zr=w(ir,[["render",Yr]]),qr={props:["job"],data(){return{localClothes:[],npcSettings:{type:"npc",npcModel:"",npcHeading:0,coords:{x:0,y:0,z:0},markerId:0,markerCoords:{x:0,y:0,z:0},markerColor:{r:0,g:0,b:0}},clothingFields:{arms:0,arms_2:0,bags_1:0,bags_2:0,bproof_1:0,bproof_2:0,bracelets_1:0,bracelets_2:0,chain_1:0,chain_2:0,decals_1:0,decals_2:0,ears_1:0,ears_2:0,glasses_1:0,glasses_2:0,helmet_1:0,helmet_2:0,mask_1:0,mask_2:0,pants_1:0,pants_2:0,shoes_1:0,shoes_2:0,torso_1:0,torso_2:0,tshirt_1:0,tshirt_2:0,watches_1:0,watches_2:0}}},beforeMount(){this.loadClothesData()},methods:{async loadClothesData(){try{let o=this.job.ludaro_manager_clothing?JSON.parse(this.job.ludaro_manager_clothing):{localClothes:[],npcSettings:this.getDefaultNpcSettings()};typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o.localClothes)?this.localClothes=o.localClothes.map(e=>({...e,skin:{...this.clothingFields,...e.skin}})):this.localClothes=[],this.npcSettings=o.npcSettings||this.getDefaultNpcSettings()}catch(o){console.error("Error loading data:",o),this.localClothes=[],this.npcSettings=this.getDefaultNpcSettings()}},getDefaultNpcSettings(){return{type:"npc",npcModel:"",npcHeading:0,coords:{x:0,y:0,z:0},markerId:0,markerCoords:{x:0,y:0,z:0},markerColor:{r:0,g:0,b:0}}},async fetchCurrentClothing(o){try{const n=await(await fetch(`https://${GetParentResourceName()}/getCurrentClothes`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();n.skin&&typeof n.skin=="object"?(this.localClothes[o].skin={...this.clothingFields,...n.skin},this.localClothes[o].name||(this.localClothes[o].name=`Outfit ${o+1}`),this.updateJobClothes()):console.error("Skin data is missing or not an object:",n.skin)}catch(e){console.error("Failed to fetch current clothing:",e)}},updateJobClothes(){this.job.ludaro_manager_clothing=JSON.stringify({localClothes:this.localClothes,npcSettings:this.npcSettings}),this.$emit("update-job",this.job)},removeOutfit(o){this.localClothes.splice(o,1),this.updateJobClothes()},addOutfit(){this.localClothes.push({name:"",gradeAccess:0,skin:{...this.clothingFields}}),this.updateJobClothes()},initializeMarkerColor(){this.npcSettings.type==="marker"&&(this.npcSettings.markerColor={r:255,g:0,b:0},this.updateJobClothes())},async fetchCurrentCoords(){try{const e=await(await fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();e&&(this.npcSettings.coords={x:e.x,y:e.y,z:e.z},this.npcSettings.markerCoords={x:e.x,y:e.y,z:e.z},this.updateJobClothes())}catch(o){console.error("Failed to fetch current coords:",o)}},async fetchCurrentHeading(){try{const e=await(await fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();e.heading&&(this.npcSettings.npcHeading=e.heading,this.updateJobClothes())}catch(o){console.error("Failed to fetch current heading:",o)}},updateJobClothes(){console.log("Updating job with clothes and NPC settings:",{localClothes:this.localClothes,npcSettings:this.npcSettings}),this.job.ludaro_manager_clothing=JSON.stringify({localClothes:this.localClothes,npcSettings:this.npcSettings}),this.$emit("update-job",this.job)}}},Qr={key:0},el={class:"text-lg font-bold mb-4"},tl={class:"space-y-4"},ol={class:"block mb-2"},rl={value:"npc"},ll={value:"marker"},sl={key:0,class:"space-y-4"},nl={class:"block mb-2"},al={class:"block mb-2"},dl={class:"block mb-2"},il={class:"flex space-x-2"},bl={key:1,class:"space-y-4"},ul={class:"block mb-2"},cl={class:"block mb-2"},pl={class:"flex space-x-2"},hl={class:"block mb-2"},gl={class:"flex space-x-2"},ml={class:"text-lg font-bold mb-2"},yl={class:"block mb-2"},fl=["onUpdate:modelValue"],kl={class:"block mb-2"},wl=["onUpdate:modelValue"],xl=["value"],Cl=["onClick"],vl={class:"grid grid-cols-2 gap-4"},_l=["for"],jl=["id","onUpdate:modelValue","placeholder"],Sl=["onClick"];function $l(o,e,n,p,s,d){return u(),c("div",null,[s.localClothes.length>0?(u(),c("div",Qr,[t("h3",el,l(o.$t("outfitNpcMarker")),1),t("div",tl,[t("div",null,[t("label",ol,l(o.$t("markerType")),1),a(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.npcSettings.type=r),onChange:e[1]||(e[1]=(...r)=>d.initializeMarkerColor&&d.initializeMarkerColor(...r)),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[t("option",rl,l(o.$t("npc")),1),t("option",ll,l(o.$t("marker")),1)],544),[[k,s.npcSettings.type]])]),s.npcSettings.type==="npc"?(u(),c("div",sl,[t("div",null,[t("label",nl,l(o.$t("npcModel")),1),a(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>s.npcSettings.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[i,s.npcSettings.npcModel]])]),t("div",null,[t("label",al,l(o.$t("npcHeading")),1),a(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=r=>s.npcSettings.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[i,s.npcSettings.npcHeading]])]),t("div",null,[t("label",dl,l(o.$t("npcCoords")),1),t("div",il,[a(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=r=>s.npcSettings.coords.x=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"X",min:"-30000",max:"30000"},null,512),[[i,s.npcSettings.coords.x]]),a(t("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=r=>s.npcSettings.coords.y=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Y",min:"-30000",max:"30000"},null,512),[[i,s.npcSettings.coords.y]]),a(t("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=r=>s.npcSettings.coords.z=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Z",min:"-30000",max:"30000"},null,512),[[i,s.npcSettings.coords.z]])])]),t("button",{onClick:e[7]||(e[7]=(...r)=>d.fetchCurrentCoords&&d.fetchCurrentCoords(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("useCurrentCoords")),1),t("button",{onClick:e[8]||(e[8]=(...r)=>d.fetchCurrentHeading&&d.fetchCurrentHeading(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("useCurrentHeading")),1)])):s.npcSettings.type==="marker"?(u(),c("div",bl,[t("div",null,[t("label",ul,l(o.$t("markerId")),1),a(t("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=r=>s.npcSettings.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[i,s.npcSettings.markerId]])]),t("div",null,[t("label",cl,l(o.$t("markerCoords")),1),t("div",pl,[a(t("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=r=>s.npcSettings.markerCoords.x=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"X",min:"-30000",max:"30000"},null,512),[[i,s.npcSettings.markerCoords.x]]),a(t("input",{type:"number","onUpdate:modelValue":e[11]||(e[11]=r=>s.npcSettings.markerCoords.y=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Y",min:"-30000",max:"30000"},null,512),[[i,s.npcSettings.markerCoords.y]]),a(t("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=r=>s.npcSettings.markerCoords.z=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Z",min:"-30000",max:"30000"},null,512),[[i,s.npcSettings.markerCoords.z]])])]),t("div",null,[t("label",hl,l(o.$t("markerColor"))+" (RGB)",1),t("div",gl,[a(t("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=r=>s.npcSettings.markerColor.r=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[i,s.npcSettings.markerColor.r]]),a(t("input",{type:"number","onUpdate:modelValue":e[14]||(e[14]=r=>s.npcSettings.markerColor.g=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[i,s.npcSettings.markerColor.g]]),a(t("input",{type:"number","onUpdate:modelValue":e[15]||(e[15]=r=>s.npcSettings.markerColor.b=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[i,s.npcSettings.markerColor.b]])])]),t("button",{onClick:e[16]||(e[16]=(...r)=>d.fetchCurrentCoords&&d.fetchCurrentCoords(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("useCurrentCoords")),1)])):g("",!0)])])):g("",!0),(u(!0),c(m,null,y(s.localClothes,(r,h)=>(u(),c("div",{key:h,class:"mb-4"},[t("h3",ml,l(o.$t("outfit"))+" "+l(h+1),1),t("div",null,[t("label",yl,l(o.$t("outfitName")),1),a(t("input",{type:"text","onUpdate:modelValue":b=>r.name=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Outfit Name"},null,8,fl),[[i,r.name]])]),t("div",null,[t("label",kl,l(o.$t("gradeAccess")),1),a(t("select",{"onUpdate:modelValue":b=>r.gradeAccess=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(u(!0),c(m,null,y(n.job.grades,b=>(u(),c("option",{key:b.grade,value:b.grade},l(b.label)+" (ID: "+l(b.grade)+") ",9,xl))),128))],8,wl),[[k,r.gradeAccess]])]),t("button",{onClick:b=>d.fetchCurrentClothing(h),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mb-4"},l(o.$t("useCurrentClothing")),9,Cl),t("div",vl,[(u(!0),c(m,null,y(s.clothingFields,(b,x)=>(u(),c("div",{key:x,class:"mb-2 flex items-center space-x-2"},[t("label",{for:x,class:"block text-sm font-medium text-gray-300 w-1/2 text-right"},l(x),9,_l),a(t("input",{type:"number",id:x,"onUpdate:modelValue":j=>r.skin[x]=j,class:"w-20 p-1 border border-gray-300 rounded bg-gray-700 text-white text-right",placeholder:x},null,8,jl),[[i,r.skin[x]]])]))),128))]),t("button",{onClick:b=>d.removeOutfit(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mt-2"},l(o.$t("removeOutfit")),9,Sl)]))),128)),t("button",{onClick:e[17]||(e[17]=(...r)=>d.addOutfit&&d.addOutfit(...r)),class:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},l(o.$t("addOutfit")),1)])}const Ul=w(qr,[["render",$l],["__scopeId","data-v-37720405"]]),Vl={data(){return{loading:!0,loadingData:!1,jobs:{},interactions:[],editingJobName:null,isPopupVisible:!1,activeTab:"jobInfo",showAddJobPopup:!1,lastSaveTime:0,newJob:{name:"",label:"",whitelisted:!1,societypaid:!1,grades:[],vehicles:[],bossmenu:{coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},onOffDutyCoords:{x:null,y:null,z:null},garageCoords:{x:null,y:null,z:null},stashes:[],processing:[],vehicleShop:{coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]}},newGrade:{grade:"",name:"",label:"",salary:0},newInteraction:"",newVehicle:{name:"",price:0,paidBy:"society",grade:""},jobToDelete:null,tabs:["jobInfo","Grades","BossMenu","Interactions","Garage","onOffDuty","employees","stashes","clothing"],error:""}},mounted(){this.fetchJobsAndInteractions(),document.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeydown)},computed:{activeTabComponent(){return{jobInfo:N,Grades:ue,BossMenu:Qe,Interactions:gt,Garage:So,onOffDuty:Eo,employees:dr,stashes:Zr,clothing:Ul}[this.activeTab]||"div"}},methods:{async fetchJobsAndInteractions(){try{this.loading=!0;const e=await(await fetch(`https://${GetParentResourceName()}/getJobData`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json(),p=await(await fetch(`https://${GetParentResourceName()}/getInteractions`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();Object.keys(e).forEach(s=>{const d=e[s];d.onoffduty=d.onoffduty||{coords:{x:0,y:0,z:0},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},d.stashes=d.stashes||[]}),this.jobs=e,this.interactions=p.filter(s=>s!=="[]"),this.loading=!1}catch(o){console.error("Failed to fetch job or interaction data:",o),this.loading=!1}},editJob(o){this.editingJobName=o,this.activeTab="jobInfo",this.isPopupVisible=!0},saveJob(o){const e={...this.jobs[o]};Array.isArray(e.localClothes)||(e.localClothes=[{name:"",skin:this.initializeSkinData()}]),e.localClothes=e.localClothes.map(n=>({name:n.name||"",skin:{...this.initializeSkinData(),...n.skin}})),e.npcSettings=e.npcSettings||{type:"npc",markerColor:{r:0,g:0,b:0},coords:{x:0,y:0,z:0},npcModel:"",npcHeading:0,markerId:0},e.onoffduty={...e.onoffduty},e.stashes=[...e.stashes],fetch(`https://${GetParentResourceName()}/saveJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then(n=>n.json()).then(n=>{n.success&&(this.isPopupVisible=!1,this.editingJobName=null,this.refreshData())}).catch(n=>{console.error("Failed to save job:",n)})},initializeSkinData(){return{arms:0,arms_2:0,bags_1:0,bags_2:0,bproof_1:0,bproof_2:0,bracelets_1:0,bracelets_2:0,chain_1:0,chain_2:0,decals_1:0,decals_2:0,ears_1:0,ears_2:0,glasses_1:0,glasses_2:0,helmet_1:0,helmet_2:0,mask_1:0,mask_2:0,pants_1:0,pants_2:0,shoes_1:0,shoes_2:0,torso_1:0,torso_2:0,tshirt_1:0,tshirt_2:0,watches_1:0,watches_2:0}},closePopup(){this.isPopupVisible=!1,this.showAddJobPopup=!1,this.jobToDelete=null},handleKeydown(o){o.key==="Escape"&&this.closePopup()},confirmDeleteJob(o){this.jobToDelete=o},deleteJob(o){const e=this.jobs[o];fetch(`https://${GetParentResourceName()}/deleteJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:e.name})}).then(n=>n.json()).then(n=>{if(n.success){const p={...this.jobs};delete p[o],this.jobs=p,this.jobToDelete=null}}).catch(n=>{console.error("Failed to delete job:",n)})},openAddJobPopup(){this.showAddJobPopup=!0},addNewJob(){if(Object.values(this.jobs).some(e=>e.name===this.newJob.name||e.label===this.newJob.label)){this.error="A job with the same name or label already exists. Please use a different name or label.";return}fetch(`https://${GetParentResourceName()}/addJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(this.newJob)}).then(e=>e.json()).then(e=>{e.success?(this.jobs={...this.jobs,[e.jobName]:this.newJob},this.showAddJobPopup=!1,this.newJob={name:"",label:"",whitelisted:!1,societypaid:!1,grades:[],vehicles:[],bossmenu:{coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},onOffDutyCoords:{x:null,y:null,z:null},garageCoords:{x:null,y:null,z:null},stashes:[],processing:[],vehicleShop:{coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]}},this.refreshData()):this.error="Failed to add new job. Please try again."}).catch(e=>{console.error("Failed to add new job:",e),this.error="Failed to add new job. Please try again."})},refreshData(){this.loadingData=!0,this.fetchJobsAndInteractions().then(()=>{this.loadingData=!1})},updateJob(o){this.jobs[this.editingJobName]=o}}},Ol={key:0,class:"flex justify-center items-center h-screen"},Ml={class:"text-2xl text-white"},Pl={key:1,class:"container mx-auto p-4 overflow-auto max-h-[90vh]"},Jl={class:"overflow-x-auto"},Nl={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},Dl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Il={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},zl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Tl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Gl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Hl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Bl={class:"bg-gray-700 divide-y divide-gray-600"},Fl=["onClick"],Rl={class:"px-6 py-4 whitespace-nowrap"},Al={class:"px-6 py-4 whitespace-nowrap"},El={class:"px-6 py-4 whitespace-nowrap"},Ll={class:"px-6 py-4 whitespace-nowrap"},Wl={class:"px-6 py-4 whitespace-nowrap"},Kl={class:"px-6 py-4 whitespace-nowrap"},Xl=["onClick"],Yl={class:"bg-gray-800 text-white p-4 rounded w-3/4 overflow-auto max-h-[90vh]"},Zl={class:"text-lg font-bold mb-4"},ql={class:"mb-4"},Ql={class:"block mb-2"},es={class:"mb-4"},ts={class:"block mb-2"},os={class:"mb-4"},rs={class:"flex items-center"},ls={class:"mb-4"},ss={class:"flex items-center"},ns={class:"mb-4"},as={class:"flex mb-4 border-b border-gray-600"},ds=["onClick"],is={class:"mt-4"},bs={class:"bg-gray-800 text-white p-4 rounded w-1/2"},us={class:"text-lg font-bold mb-4"},cs={class:"mb-4"},ps={class:"block mb-2"},hs={class:"mb-4"},gs={class:"block mb-2"},ms={class:"mb-4"},ys={class:"block mb-2"},fs={class:"mb-4"},ks={class:"block mb-2"},ws={class:"mt-4"},xs={key:0,class:"mt-4 text-red-500"},Cs={class:"bg-gray-800 text-white p-4 rounded w-1/2"},vs={class:"text-lg font-bold mb-4"},_s={class:"mt-4"};function js(o,e,n,p,s,d){return u(),c("div",null,[s.loading?(u(),c("div",Ol,[t("span",Ml,l(o.$t("loading")),1)])):(u(),c("div",Pl,[t("div",Jl,[t("table",Nl,[t("thead",null,[t("tr",null,[t("th",Dl,l(o.$t("jobName")),1),t("th",Il,l(o.$t("jobLabel")),1),t("th",zl,l(o.$t("whitelisted")),1),t("th",Tl,l(o.$t("activePlayers")),1),t("th",Gl,l(o.$t("societyPaid")),1),t("th",Hl,l(o.$t("actions")),1)])]),t("tbody",Bl,[(u(!0),c(m,null,y(s.jobs,(r,h)=>(u(),c("tr",{key:h,onClick:b=>d.editJob(h),class:"hover:bg-gray-600 cursor-pointer"},[t("td",Rl,l(r.name),1),t("td",Al,l(r.label),1),t("td",El,l(r.whitelisted?"":""),1),t("td",Ll,l(r.activeplayers),1),t("td",Wl,l(r.societypaid?"":""),1),t("td",Kl,[t("button",{onClick:C(b=>d.confirmDeleteJob(h),["stop"]),class:"text-red-500 hover:text-red-700"},"",8,Xl)])],8,Fl))),128))])])]),t("button",{class:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",onClick:e[0]||(e[0]=(...r)=>d.openAddJobPopup&&d.openAddJobPopup(...r))},l(o.$t("addNewJob")),1)])),s.isPopupVisible?(u(),c("div",{key:2,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75",onClick:e[7]||(e[7]=C((...r)=>d.closePopup&&d.closePopup(...r),["self"]))},[t("div",Yl,[t("h3",Zl,l(o.$t("editJob")),1),t("div",ql,[t("label",Ql,l(o.$t("jobName")),1),a(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>s.jobs[s.editingJobName].name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[i,s.jobs[s.editingJobName].name]])]),t("div",es,[t("label",ts,l(o.$t("jobLabel")),1),a(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>s.jobs[s.editingJobName].label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[i,s.jobs[s.editingJobName].label]])]),t("div",os,[t("label",rs,[v(l(o.$t("whitelisted"))+" ",1),a(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=r=>s.jobs[s.editingJobName].whitelisted=r),class:"ml-2"},null,512),[[f,s.jobs[s.editingJobName].whitelisted]])])]),t("div",ls,[t("label",ss,[v(l(o.$t("societyPaid"))+" ",1),a(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=r=>s.jobs[s.editingJobName].societypaid=r),class:"ml-2"},null,512),[[f,s.jobs[s.editingJobName].societypaid]])])]),t("div",ns,[t("nav",as,[(u(!0),c(m,null,y(s.tabs,r=>(u(),c("a",{key:r,onClick:h=>s.activeTab=r,class:_(["cursor-pointer p-2 rounded-t-lg text-white",s.activeTab===r?"bg-blue-600":""])},l(o.$t(r)),11,ds))),128))]),(u(),S($(d.activeTabComponent),{job:s.jobs[s.editingJobName],onUpdateJob:d.updateJob},null,40,["job","onUpdateJob"]))]),t("div",is,[t("button",{onClick:e[5]||(e[5]=r=>d.saveJob(s.editingJobName)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("save")),1),t("button",{onClick:e[6]||(e[6]=(...r)=>d.closePopup&&d.closePopup(...r)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},l(o.$t("cancel")),1)])])])):g("",!0),s.showAddJobPopup?(u(),c("div",{key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75",onClick:e[14]||(e[14]=C((...r)=>d.closePopup&&d.closePopup(...r),["self"]))},[t("div",bs,[t("h3",us,l(o.$t("addNewJob")),1),t("div",cs,[t("label",ps,l(o.$t("jobName")),1),a(t("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=r=>s.newJob.name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[i,s.newJob.name]])]),t("div",hs,[t("label",gs,l(o.$t("jobLabel")),1),a(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=r=>s.newJob.label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[i,s.newJob.label]])]),t("div",ms,[t("label",ys,l(o.$t("whitelisted")),1),a(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=r=>s.newJob.whitelisted=r)},null,512),[[f,s.newJob.whitelisted]])]),t("div",fs,[t("label",ks,l(o.$t("societyPaid")),1),a(t("input",{type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=r=>s.newJob.societypaid=r)},null,512),[[f,s.newJob.societypaid]])]),t("div",ws,[t("button",{onClick:e[12]||(e[12]=(...r)=>d.addNewJob&&d.addNewJob(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("addJob")),1),t("button",{onClick:e[13]||(e[13]=(...r)=>d.closePopup&&d.closePopup(...r)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},l(o.$t("cancel")),1)]),s.error?(u(),c("div",xs,l(s.error),1)):g("",!0)])])):g("",!0),s.jobToDelete!==null?(u(),c("div",{key:4,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75",onClick:e[17]||(e[17]=C((...r)=>d.closePopup&&d.closePopup(...r),["self"]))},[t("div",Cs,[t("h3",vs,l(o.$t("confirmDeleteJob")),1),t("p",null,l(o.$t("confirmDeleteMessage")),1),t("div",_s,[t("button",{onClick:e[15]||(e[15]=r=>d.deleteJob(s.jobToDelete)),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},l(o.$t("yes")),1),t("button",{onClick:e[16]||(e[16]=(...r)=>d.closePopup&&d.closePopup(...r)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},l(o.$t("no")),1)])])])):g("",!0)])}const $s=w(Vl,[["render",js],["__scopeId","data-v-ab6618f9"]]);export{$s as default};
