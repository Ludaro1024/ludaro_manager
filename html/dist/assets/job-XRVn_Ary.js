import{_ as x,o as b,c,a as e,t as s,w as a,v as d,b as k,F as m,r as g,d as y,e as w,n as _,f as v,g as C,h as $}from"./index-3H8yzIJJ.js";const S={props:["job"]},U={class:"block mb-2"},V={class:"block mb-2"},P={class:"block mb-2"},M={class:"block mb-2"};function I(o,t,l,p,n,u){return b(),c("div",null,[e("div",null,[e("label",U,s(o.$t("jobName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>l.job.name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,l.job.name]])]),e("div",null,[e("label",V,s(o.$t("jobLabel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>l.job.label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,l.job.label]])]),e("div",null,[e("label",P,s(o.$t("whitelisted")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=r=>l.job.whitelisted=r)},null,512),[[k,l.job.whitelisted]])]),e("div",null,[e("label",M,s(o.$t("societyPaid")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=r=>l.job.societypaid=r)},null,512),[[k,l.job.societypaid]])])])}const N=x(S,[["render",I]]),J={props:["job"],data(){return{showAddGradePopup:!1,newGrade:{grade:"",name:"",label:"",salary:0},error:""}},methods:{addNewGrade(){if(this.job.grades.some(l=>l.name===this.newGrade.name||l.label===this.newGrade.label)){this.error="A grade with the same name or label already exists.";return}Array.isArray(this.job.grades)||(this.job.grades=[]);const t=Math.max(...this.job.grades.map(l=>l.grade),0);this.newGrade.grade=t+1,this.job.grades.push({...this.newGrade}),this.showAddGradePopup=!1,this.newGrade={grade:"",name:"",label:"",salary:0},this.error="",this.$emit("update-job",this.job)},removeGrade(o){this.job.grades.splice(o,1),this.$emit("update-job",this.job)},saveGrades(){fetch(`https://${GetParentResourceName()}/saveGrades`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,grades:this.job.grades})}).then(o=>o.json()).then(o=>{o.success||console.error("Failed to save grades")}).catch(o=>{console.error("Error saving grades:",o)})}}},z={class:"overflow-y-auto max-h-[50vh]"},G={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},T={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},B={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},D={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},O={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},H={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},A={class:"bg-gray-700 divide-y divide-gray-600"},F={class:"px-4 py-2"},R={class:"px-4 py-2"},E=["onUpdate:modelValue"],L={class:"px-4 py-2"},W=["onUpdate:modelValue"],K={class:"px-4 py-2"},X=["onUpdate:modelValue"],Y={class:"px-4 py-2"},Z=["onClick"],q={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},Q={class:"bg-gray-800 text-white p-4 rounded w-1/2"},ee={class:"text-lg font-bold mb-4"},te={class:"mb-4"},oe={class:"block mb-2"},re={class:"mb-4"},se={class:"block mb-2"},le={class:"mb-4"},ne={class:"block mb-2"},ae={class:"mt-4"},de={key:0,class:"text-red-500"};function ie(o,t,l,p,n,u){return b(),c("div",z,[e("table",G,[e("thead",null,[e("tr",null,[e("th",T,s(o.$t("gradeId")),1),e("th",B,s(o.$t("gradeSpawnName")),1),e("th",D,s(o.$t("gradeName")),1),e("th",O,s(o.$t("salary")),1),e("th",H,s(o.$t("actions")),1)])]),e("tbody",A,[(b(!0),c(m,null,g(l.job.grades,(r,h)=>(b(),c("tr",{key:h},[e("td",F,s(r.grade),1),e("td",R,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.name=i,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,E),[[d,r.name]])]),e("td",L,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.label=i,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,W),[[d,r.label]])]),e("td",K,[a(e("input",{type:"number","onUpdate:modelValue":i=>r.salary=i,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,X),[[d,r.salary]])]),e("td",Y,[e("button",{onClick:i=>u.removeGrade(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},s(o.$t("remove")),9,Z)])]))),128))])]),e("button",{onClick:t[0]||(t[0]=r=>n.showAddGradePopup=!0),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},s(o.$t("addGrade")),1),n.showAddGradePopup?(b(),c("div",q,[e("div",Q,[e("h3",ee,s(o.$t("addNewGrade")),1),e("div",te,[e("label",oe,s(o.$t("gradeSpawnName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>n.newGrade.name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newGrade.name]])]),e("div",re,[e("label",se,s(o.$t("gradeName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=r=>n.newGrade.label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newGrade.label]])]),e("div",le,[e("label",ne,s(o.$t("salary")),1),a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>n.newGrade.salary=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newGrade.salary]])]),e("div",ae,[n.error?(b(),c("span",de,s(n.error),1)):y("",!0),e("button",{onClick:t[4]||(t[4]=(...r)=>u.addNewGrade&&u.addNewGrade(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},s(o.$t("addGrade")),1),e("button",{onClick:t[5]||(t[5]=r=>n.showAddGradePopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},s(o.$t("cancel")),1)])])])):y("",!0),e("button",{onClick:t[6]||(t[6]=(...r)=>u.saveGrades&&u.saveGrades(...r)),class:"mt-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},s(o.$t("saveGrades")),1)])}const ue=x(J,[["render",ie]]),be={props:["job"],data(){return{localBossMenu:{coords:{x:0,y:0,z:0},grade:0,type:"npc",npcModel:"",npcHeading:0,npcRange:0,marker:{markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,bobUpAndDown:!1,faceCamera:!1}}}},beforeMount(){try{const o=JSON.parse(this.job.ludaro_manager_bossmenu||"{}");this.localBossMenu={coords:o.coords||{x:0,y:0,z:0},grade:o.grade||0,type:o.type||"npc",npcModel:o.npcModel||"",npcHeading:o.npcHeading||0,npcRange:o.npcRange||0,marker:{markerId:o.marker?o.marker.markerId:0,markerColor:o.marker?o.marker.markerColor:{r:0,g:0,b:0},markerScale:o.marker?o.marker.markerScale:1,bobUpAndDown:o.marker?o.marker.bobUpAndDown:!1,faceCamera:o.marker?o.marker.faceCamera:!1}}}catch(o){console.error("Error parsing bossmenu data:",o)}},methods:{fetchCurrentCoords(){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o&&(this.localBossMenu.coords={x:o.x,y:o.y,z:o.z},this.updateJobBossMenu())}).catch(o=>{console.error("Failed to fetch current coords:",o)})},fetchCurrentHeading(){fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o.heading&&(this.localBossMenu.npcHeading=Math.round(o.heading),this.updateJobBossMenu())}).catch(o=>{console.error("Failed to fetch current heading:",o)})},initializeMarkerColor(){this.localBossMenu.marker.markerColor||(this.localBossMenu.marker.markerColor={r:0,g:0,b:0},this.updateJobBossMenu())},initializeGrade(o){this.localBossMenu.grade=o,this.updateJobBossMenu()},updateJobBossMenu(){this.job.bossmenu={...this.localBossMenu},this.$emit("update-job",this.job)}},watch:{localBossMenu:{handler(){this.updateJobBossMenu()},deep:!0}}},ce={class:"mb-4"},pe={class:"block mb-2 font-bold"},he={class:"flex"},me={class:"flex flex-col"},ge=e("label",{class:"mb-1"},"X:",-1),ye={class:"flex flex-col"},fe=e("label",{class:"mb-1"},"Y:",-1),we={class:"flex flex-col"},xe=e("label",{class:"mb-1"},"Z:",-1),ke={class:"mb-4"},ve={class:"block mb-2 font-bold"},_e=["value"],je={class:"mb-4"},Ce={class:"block mb-2 font-bold"},$e={value:"npc"},Se={value:"marker"},Ue={key:0},Ve={class:"flex flex-col"},Pe={class:"mb-1"},Me={class:"flex flex-col"},Ie={class:"mb-1"},Ne={class:"flex flex-col"},Je={class:"mb-1"},ze={key:1},Ge={class:"flex flex-col"},Te={class:"mb-1"},Be={class:"flex"},De={class:"flex flex-col mr-2"},Oe=e("label",{class:"mb-1"},"R:",-1),He={class:"flex flex-col mr-2"},Ae=e("label",{class:"mb-1"},"G:",-1),Fe={class:"flex flex-col"},Re=e("label",{class:"mb-1"},"B:",-1),Ee={class:"flex flex-col"},Le={class:"mb-1"},We={class:"flex flex-col"},Ke={class:"mb-1"},Xe={class:"flex flex-col"},Ye={class:"mb-1"};function Ze(o,t,l,p,n,u){return b(),c("div",null,[e("div",ce,[e("label",pe,s(o.$t("bossMenuCoords"))+" (x, y, z)",1),e("div",he,[e("div",me,[ge,a(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=r=>n.localBossMenu.coords.x=r),class:"w-full p-2 mr-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,n.localBossMenu.coords.x]])]),e("div",ye,[fe,a(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=r=>n.localBossMenu.coords.y=r),class:"w-full p-2 mr-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,n.localBossMenu.coords.y]])]),e("div",we,[xe,a(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>n.localBossMenu.coords.z=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,n.localBossMenu.coords.z]])])]),e("button",{onClick:t[3]||(t[3]=(...r)=>u.fetchCurrentCoords&&u.fetchCurrentCoords(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),1)]),e("div",ke,[e("label",ve,s(o.$t("bossMenuGradeAccess")),1),a(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>n.localBossMenu.grade=r),onChange:t[5]||(t[5]=r=>o.initializegrade(n.localBossMenu.grade)),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[(b(!0),c(m,null,g(l.job.grades,r=>(b(),c("option",{key:r.grade,value:r.grade},s(r.label)+" (ID: "+s(r.grade)+") ",9,_e))),128))],544),[[w,n.localBossMenu.grade]])]),e("div",je,[e("label",Ce,s(o.$t("bossMenuNpcMarker")),1),a(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>n.localBossMenu.type=r),onChange:t[7]||(t[7]=(...r)=>u.initializeMarkerColor&&u.initializeMarkerColor(...r)),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",$e,s(o.$t("npc")),1),e("option",Se,s(o.$t("marker")),1)],544),[[w,n.localBossMenu.type]]),n.localBossMenu.type==="npc"?(b(),c("div",Ue,[e("div",Ve,[e("label",Pe,s(o.$t("npcModel"))+":",1),a(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=r=>n.localBossMenu.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,n.localBossMenu.npcModel]])]),e("div",Me,[e("label",Ie,s(o.$t("npcHeading"))+":",1),a(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>n.localBossMenu.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,n.localBossMenu.npcHeading]])]),e("div",Ne,[e("label",Je,s(o.$t("npcRange"))+":",1),a(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=r=>n.localBossMenu.npcRange=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Range"},null,512),[[d,n.localBossMenu.npcRange]])]),e("button",{onClick:t[11]||(t[11]=(...r)=>u.fetchCurrentHeading&&u.fetchCurrentHeading(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentHeading")),1)])):n.localBossMenu.type==="marker"?(b(),c("div",ze,[e("div",Ge,[e("label",Te,s(o.$t("markerId"))+":",1),a(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=r=>n.localBossMenu.marker.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,n.localBossMenu.marker.markerId]])]),e("div",Be,[e("div",De,[Oe,a(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=r=>n.localBossMenu.marker.markerColor.r=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,n.localBossMenu.marker.markerColor.r]])]),e("div",He,[Ae,a(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=r=>n.localBossMenu.marker.markerColor.g=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,n.localBossMenu.marker.markerColor.g]])]),e("div",Fe,[Re,a(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=r=>n.localBossMenu.marker.markerColor.b=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,n.localBossMenu.marker.markerColor.b]])])]),e("div",Ee,[e("label",Le,s(o.$t("markerScale"))+":",1),a(e("input",{type:"number","onUpdate:modelValue":t[16]||(t[16]=r=>n.localBossMenu.marker.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,n.localBossMenu.marker.markerScale]])]),e("div",We,[e("label",Ke,s(o.$t("bobUpAndDown"))+":",1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=r=>n.localBossMenu.marker.bobUpAndDown=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[k,n.localBossMenu.marker.bobUpAndDown]])]),e("div",Xe,[e("label",Ye,s(o.$t("faceCamera"))+":",1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=r=>n.localBossMenu.marker.faceCamera=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[k,n.localBossMenu.marker.faceCamera]])])])):y("",!0)])])}const qe=x(be,[["render",Ze]]),Qe={props:["job"],data(){return{newInteraction:"",availableInteractions:[],error:""}},mounted(){this.fetchAvailableInteractions(),this.job.interactions=JSON.parse(this.job.ludaro_manager_interactions||"[]")},methods:{async fetchAvailableInteractions(){try{const o=await fetch(`https://${GetParentResourceName()}/getInteractions`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})});this.availableInteractions=await o.json()}catch(o){console.error("Failed to fetch available interactions:",o),this.error="Failed to load interactions. Please try again later."}},async addInteraction(){if(!this.newInteraction){this.error="Please select a valid interaction.";return}if(this.error="",Array.isArray(this.job.interactions)||(this.job.interactions=[]),this.job.interactions.includes(this.newInteraction)){this.error="This interaction is already added.";return}try{const t=await(await fetch(`https://${GetParentResourceName()}/addInteraction`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,interaction:this.newInteraction})})).json();t.success===!0||t.success==="true"||t.success===void 0?(this.job.interactions.push(this.newInteraction),this.newInteraction="",this.$emit("update-job",this.job)):this.error="Failed to add interaction. Please try again."}catch(o){console.error("Failed to add interaction:",o),this.error="Failed to add interaction. Please try again."}},async removeInteraction(o){const t=this.job.interactions[o];try{const p=await(await fetch(`https://${GetParentResourceName()}/removeInteraction`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,interaction:t})})).json();p.success===!0||p.success==="true"||p.success===void 0?(this.job.interactions.splice(o,1),this.$emit("update-job",this.job)):this.error="Failed to remove interaction. Please try again."}catch(l){console.error("Failed to remove interaction:",l),this.error="Failed to remove interaction. Please try again."}}}},et={class:"overflow-y-auto max-h-[50vh]"},tt={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},ot={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},rt={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},st={class:"bg-gray-700 divide-y divide-gray-600"},lt={class:"px-4 py-2"},nt={class:"px-4 py-2"},at=["onClick"],dt={class:"mt-4"},it={class:"block mb-2"},ut={disabled:"",value:""},bt=["value"],ct={key:0,class:"text-red-500"};function pt(o,t,l,p,n,u){return b(),c("div",et,[e("table",tt,[e("thead",null,[e("tr",null,[e("th",ot,s(o.$t("interaction")),1),e("th",rt,s(o.$t("actions")),1)])]),e("tbody",st,[(b(!0),c(m,null,g(l.job.interactions||[],(r,h)=>(b(),c("tr",{key:h},[e("td",lt,s(r),1),e("td",nt,[e("button",{onClick:i=>u.removeInteraction(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},s(o.$t("remove")),9,at)])]))),128))])]),e("div",dt,[e("label",it,s(o.$t("selectInteraction")),1),a(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.newInteraction=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",ut,s(o.$t("selectInteractionPlaceholder")),1),(b(!0),c(m,null,g(n.availableInteractions,r=>(b(),c("option",{key:r.interaction_label,value:r.interaction_name},s(r.interaction_label),9,bt))),128))],512),[[w,n.newInteraction]]),n.error?(b(),c("span",ct,s(n.error),1)):y("",!0),e("button",{onClick:t[1]||(t[1]=(...r)=>u.addInteraction&&u.addInteraction(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("addInteraction")),1)])])}const ht=x(Qe,[["render",pt]]),mt={props:["job"],data(){return{activeTab:"garage"}},beforeMount(){const o=JSON.parse(this.job.ludaro_manager_garage||"{}");this.job.garage={coords:o.coords||{x:0,y:0,z:0},parkoutCoords:{x:o.parkoutCoords?o.parkoutCoords.x:0,y:o.parkoutCoords?o.parkoutCoords.y:0,z:o.parkoutCoords?o.parkoutCoords.z:0,heading:o.parkoutCoords?o.parkoutCoords.heading:0},type:o.type||"npc",npcModel:o.npcModel||"",npcHeading:o.npcHeading||0,markerId:o.markerId||0,markerColor:o.markerColor||{r:0,g:0,b:0},markerScale:o.markerScale||1};const t=JSON.parse(this.job.ludaro_manager_vehicleShop||"{}");this.job.vehicleShop={coords:t.coords||{x:0,y:0,z:0},parkoutCoords:{x:t.parkoutCoords?t.parkoutCoords.x:0,y:t.parkoutCoords?t.parkoutCoords.y:0,z:t.parkoutCoords?t.parkoutCoords.z:0,heading:t.parkoutCoords?t.parkoutCoords.heading:0},type:t.type||"npc",npcModel:t.npcModel||"",npcHeading:t.npcHeading||0,markerId:t.markerId||0,markerColor:t.markerColor||{r:0,g:0,b:0},markerScale:t.markerScale||1,vehicles:t.vehicles||[],buyWithSocietyMoney:t.buyWithSocietyMoney||!1}},methods:{fetchCurrentCoords(o){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(t=>t.json()).then(t=>{t&&(o==="garage"?this.job.garage.coords={x:t.x,y:t.y,z:t.z}:o==="garageParkout"?(this.job.garage.parkoutCoords.x=t.x,this.job.garage.parkoutCoords.y=t.y,this.job.garage.parkoutCoords.z=t.z):o==="vehicleShop"?this.job.vehicleShop.coords={x:t.x,y:t.y,z:t.z}:o==="vehicleShopParkout"&&(this.job.vehicleShop.parkoutCoords.x=t.x,this.job.vehicleShop.parkoutCoords.y=t.y,this.job.vehicleShop.parkoutCoords.z=t.z),this.$emit("update-job",this.job))}).catch(t=>{console.error("Failed to fetch current coords:",t)})},fetchCurrentHeading(o){console.log("fetchCurrentHeading called for section:",o),fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(t=>t.json()).then(t=>{console.log("Parsed heading data:",t),t.heading=Math.round(t.heading),t.heading&&(o==="vehicleShop"?this.job.vehicleShop.npcHeading=t.heading:o==="vehicleShopParkout"?this.job.vehicleShop.parkoutCoords.heading=t.heading:o==="garage"?this.job.garage.npcHeading=t.heading:o==="garageParkout"&&(this.job.garage.parkoutCoords.heading=t.heading),this.$emit("update-job",this.job))}).catch(t=>{console.error("Failed to fetch current heading:",t)})},initializeMarkerColor(o){o==="vehicleShop"?this.job.vehicleShop.markerColor||(this.job.vehicleShop.markerColor={r:0,g:0,b:0}):this.job.garage.markerColor||(this.job.garage.markerColor={r:0,g:0,b:0})},addVehicle(){this.job.vehicleShop.vehicles.push({model:"",label:"",price:0,grade:"",platePrefix:"",societyOwned:!1}),this.$emit("update-job",this.job)},removeVehicle(o){this.job.vehicleShop.vehicles.splice(o,1),this.$emit("update-job",this.job)}}},gt={class:"tabs"},yt={key:0},ft={class:"block mb-2"},wt={class:"mt-4"},xt={class:"block mb-2"},kt={class:"flex space-x-2"},vt={class:"mt-4"},_t={class:"block mb-2"},jt={value:"npc"},Ct={value:"marker"},$t={key:0},St={class:"block mb-2"},Ut={class:"block mb-2"},Vt={key:1},Pt={class:"block mb-2"},Mt={class:"block mb-2"},It={class:"block mb-2"},Nt={key:1},Jt={class:"block mb-2"},zt={class:"mt-4"},Gt={class:"block mb-2"},Tt={class:"flex space-x-2"},Bt={class:"mt-4"},Dt={class:"block mb-2"},Ot={value:"npc"},Ht={value:"marker"},At={key:0},Ft={class:"block mb-2"},Rt={class:"block mb-2"},Et={key:1},Lt={class:"block mb-2"},Wt={class:"block mb-2"},Kt={class:"block mb-2"},Xt={class:"mt-4"},Yt={class:"block mb-2"},Zt={class:"mt-4"},qt={class:"text-lg font-bold mb-2"},Qt={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},eo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},to={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},oo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},ro={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},so={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},lo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},no={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},ao={class:"bg-gray-700 divide-y divide-gray-600"},io={class:"px-4 py-2"},uo=["onUpdate:modelValue"],bo={class:"px-4 py-2"},co=["onUpdate:modelValue"],po={class:"px-4 py-2"},ho=["onUpdate:modelValue"],mo={class:"px-4 py-2"},go=["onUpdate:modelValue"],yo=["value"],fo={class:"px-4 py-2"},wo=["onUpdate:modelValue"],xo={class:"px-4 py-2"},ko=["onUpdate:modelValue"],vo={class:"px-4 py-2"},_o=["onClick"];function jo(o,t,l,p,n,u){return b(),c("div",null,[e("div",gt,[e("button",{class:_([{"active-tab":n.activeTab==="garage"},"tab-button"]),onClick:t[0]||(t[0]=r=>n.activeTab="garage")},s(o.$t("garage")),3),e("button",{class:_([{"active-tab":n.activeTab==="vehicleShop"},"tab-button"]),onClick:t[1]||(t[1]=r=>n.activeTab="vehicleShop")},s(o.$t("vehicleShop")),3)]),n.activeTab==="garage"?(b(),c("div",yt,[e("div",null,[e("label",ft,s(o.$t("garageCoords"))+" (x, y, z)",1),a(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>l.job.garage.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,l.job.garage.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>l.job.garage.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,l.job.garage.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=r=>l.job.garage.coords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,l.job.garage.coords.z]]),e("button",{onClick:t[5]||(t[5]=r=>u.fetchCurrentCoords("garage")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),1)]),e("div",wt,[e("label",xt,s(o.$t("garageParkoutCoords"))+" (x, y, z, heading)",1),a(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=r=>l.job.garage.parkoutCoords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,l.job.garage.parkoutCoords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=r=>l.job.garage.parkoutCoords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,l.job.garage.parkoutCoords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=r=>l.job.garage.parkoutCoords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,l.job.garage.parkoutCoords.z]]),a(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>l.job.garage.parkoutCoords.heading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"heading"},null,512),[[d,l.job.garage.parkoutCoords.heading]]),e("div",kt,[e("button",{onClick:t[10]||(t[10]=r=>u.fetchCurrentCoords("garageParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),1),e("button",{onClick:t[11]||(t[11]=r=>u.fetchCurrentHeading("garageParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentHeading")),1)])]),e("div",vt,[e("label",_t,s(o.$t("garageMarkerNpc")),1),a(e("select",{"onUpdate:modelValue":t[12]||(t[12]=r=>l.job.garage.type=r),onChange:t[13]||(t[13]=r=>u.initializeMarkerColor("garage")),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",jt,s(o.$t("npc")),1),e("option",Ct,s(o.$t("marker")),1)],544),[[w,l.job.garage.type]]),l.job.garage.type==="npc"?(b(),c("div",$t,[e("label",St,s(o.$t("npcModel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=r=>l.job.garage.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,l.job.garage.npcModel]]),e("label",Ut,s(o.$t("npcHeading")),1),a(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=r=>l.job.garage.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,l.job.garage.npcHeading]]),e("button",{onClick:t[16]||(t[16]=r=>u.fetchCurrentHeading("garage")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentHeading")),1)])):l.job.garage.type==="marker"?(b(),c("div",Vt,[e("label",Pt,s(o.$t("markerId")),1),a(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=r=>l.job.garage.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,l.job.garage.markerId]]),e("div",null,[e("label",Mt,s(o.$t("markerColor"))+" (RGB)",1),a(e("input",{type:"number","onUpdate:modelValue":t[18]||(t[18]=r=>l.job.garage.markerColor.r=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,l.job.garage.markerColor.r]]),a(e("input",{type:"number","onUpdate:modelValue":t[19]||(t[19]=r=>l.job.garage.markerColor.g=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,l.job.garage.markerColor.g]]),a(e("input",{type:"number","onUpdate:modelValue":t[20]||(t[20]=r=>l.job.garage.markerColor.b=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,l.job.garage.markerColor.b]])]),e("label",It,s(o.$t("markerScale")),1),a(e("input",{type:"number","onUpdate:modelValue":t[21]||(t[21]=r=>l.job.garage.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,l.job.garage.markerScale]])])):y("",!0)])])):n.activeTab==="vehicleShop"?(b(),c("div",Nt,[e("div",null,[e("label",Jt,s(o.$t("vehicleShopCoords"))+" (x, y, z)",1),a(e("input",{type:"number","onUpdate:modelValue":t[22]||(t[22]=r=>l.job.vehicleShop.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,l.job.vehicleShop.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[23]||(t[23]=r=>l.job.vehicleShop.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,l.job.vehicleShop.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[24]||(t[24]=r=>l.job.vehicleShop.coords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,l.job.vehicleShop.coords.z]]),e("button",{onClick:t[25]||(t[25]=r=>u.fetchCurrentCoords("vehicleShop")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),1)]),e("div",zt,[e("label",Gt,s(o.$t("vehicleShopParkoutCoords"))+" (x, y, z, heading)",1),a(e("input",{type:"number","onUpdate:modelValue":t[26]||(t[26]=r=>l.job.vehicleShop.parkoutCoords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,l.job.vehicleShop.parkoutCoords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[27]||(t[27]=r=>l.job.vehicleShop.parkoutCoords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,l.job.vehicleShop.parkoutCoords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[28]||(t[28]=r=>l.job.vehicleShop.parkoutCoords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,l.job.vehicleShop.parkoutCoords.z]]),a(e("input",{type:"number","onUpdate:modelValue":t[29]||(t[29]=r=>l.job.vehicleShop.parkoutCoords.heading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"heading"},null,512),[[d,l.job.vehicleShop.parkoutCoords.heading]]),e("div",Tt,[e("button",{onClick:t[30]||(t[30]=r=>u.fetchCurrentCoords("vehicleShopParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),1),e("button",{onClick:t[31]||(t[31]=r=>u.fetchCurrentHeading("vehicleShopParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentHeading")),1)])]),e("div",Bt,[e("label",Dt,s(o.$t("vehicleShopMarkerNpc")),1),a(e("select",{"onUpdate:modelValue":t[32]||(t[32]=r=>l.job.vehicleShop.type=r),onChange:t[33]||(t[33]=r=>u.initializeMarkerColor("vehicleShop")),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",Ot,s(o.$t("npc")),1),e("option",Ht,s(o.$t("marker")),1)],544),[[w,l.job.vehicleShop.type]]),l.job.vehicleShop.type==="npc"?(b(),c("div",At,[e("label",Ft,s(o.$t("npcModel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[34]||(t[34]=r=>l.job.vehicleShop.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,l.job.vehicleShop.npcModel]]),e("label",Rt,s(o.$t("npcHeading")),1),a(e("input",{type:"number","onUpdate:modelValue":t[35]||(t[35]=r=>l.job.vehicleShop.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,l.job.vehicleShop.npcHeading]]),e("button",{onClick:t[36]||(t[36]=r=>u.fetchCurrentHeading("vehicleShop")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentHeading")),1)])):l.job.vehicleShop.type==="marker"?(b(),c("div",Et,[e("label",Lt,s(o.$t("markerId")),1),a(e("input",{type:"number","onUpdate:modelValue":t[37]||(t[37]=r=>l.job.vehicleShop.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,l.job.vehicleShop.markerId]]),e("div",null,[e("label",Wt,s(o.$t("markerColor"))+" (RGB)",1),a(e("input",{type:"number","onUpdate:modelValue":t[38]||(t[38]=r=>l.job.vehicleShop.markerColor.r=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,l.job.vehicleShop.markerColor.r]]),a(e("input",{type:"number","onUpdate:modelValue":t[39]||(t[39]=r=>l.job.vehicleShop.markerColor.g=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,l.job.vehicleShop.markerColor.g]]),a(e("input",{type:"number","onUpdate:modelValue":t[40]||(t[40]=r=>l.job.vehicleShop.markerColor.b=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,l.job.vehicleShop.markerColor.b]])]),e("label",Kt,s(o.$t("markerScale")),1),a(e("input",{type:"number","onUpdate:modelValue":t[41]||(t[41]=r=>l.job.vehicleShop.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,l.job.vehicleShop.markerScale]])])):y("",!0)]),e("div",Xt,[e("label",Yt,s(o.$t("buyWithSocietyMoney")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[42]||(t[42]=r=>l.job.vehicleShop.buyWithSocietyMoney=r)},null,512),[[k,l.job.vehicleShop.buyWithSocietyMoney]])]),e("div",Zt,[e("h3",qt,s(o.$t("availableVehicles")),1),e("table",Qt,[e("thead",null,[e("tr",null,[e("th",eo,s(o.$t("model")),1),e("th",to,s(o.$t("label")),1),e("th",oo,s(o.$t("price")),1),e("th",ro,s(o.$t("grade")),1),e("th",so,s(o.$t("platePrefix")),1),e("th",lo,s(o.$t("societyOwned")),1),e("th",no,s(o.$t("actions")),1)])]),e("tbody",ao,[(b(!0),c(m,null,g(l.job.vehicleShop.vehicles,(r,h)=>(b(),c("tr",{key:h},[e("td",io,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.model=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Model"},null,8,uo),[[d,r.model]])]),e("td",bo,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.label=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Label"},null,8,co),[[d,r.label]])]),e("td",po,[a(e("input",{type:"number","onUpdate:modelValue":i=>r.price=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Price"},null,8,ho),[[d,r.price]])]),e("td",mo,[a(e("select",{"onUpdate:modelValue":i=>r.grade=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(b(!0),c(m,null,g(l.job.grades,i=>(b(),c("option",{key:i.grade,value:i.grade},s(i.label)+" (ID: "+s(i.grade)+") ",9,yo))),128))],8,go),[[w,r.grade]])]),e("td",fo,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.platePrefix=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Plate Prefix"},null,8,wo),[[d,r.platePrefix]])]),e("td",xo,[a(e("input",{type:"checkbox","onUpdate:modelValue":i=>r.societyOwned=i},null,8,ko),[[k,r.societyOwned]])]),e("td",vo,[e("button",{onClick:i=>u.removeVehicle(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},s(o.$t("remove")),9,_o)])]))),128))])]),e("button",{onClick:t[43]||(t[43]=(...r)=>u.addVehicle&&u.addVehicle(...r)),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},s(o.$t("addVehicle")),1)])])):y("",!0)])}const Co=x(mt,[["render",jo],["__scopeId","data-v-495ad105"]]),$o={props:["job"],beforeMount(){try{const o=JSON.parse(this.job.ludaro_manager_onoffduty||"{}");this.job.onoffduty={coords:o.coords||{x:0,y:0,z:0},type:o.type||"npc",npcModel:o.npcModel||"",npcHeading:o.npcHeading||0,markerId:o.markerId||0,markerColor:o.markerColor||{r:0,g:0,b:0},markerScale:o.markerScale||1}}catch(o){console.error("Error parsing onoffduty data:",o),this.job.onoffduty={coords:{x:0,y:0,z:0},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1}}},methods:{fetchCurrentCoords(){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o&&(this.job.onoffduty.coords={x:o.x,y:o.y,z:o.z},this.$emit("update-job",this.job))}).catch(o=>{console.error("Failed to fetch current coords:",o)})},fetchCurrentHeading(){fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o.heading&&(this.job.onoffduty.npcHeading=Math.round(o.heading),this.$emit("update-job",this.job))}).catch(o=>{console.error("Failed to fetch current heading:",o)})},initializeMarkerColor(){this.job.onoffduty.markerColor||(this.job.onoffduty.markerColor={r:0,g:0,b:0})}},watch:{job:{handler(o){this.$emit("update-job",o)},deep:!0}}},So={class:"block mb-2"},Uo={class:"mb-4"},Vo={class:"block mb-2"},Po={value:"npc"},Mo={value:"marker"},Io={key:0},No={class:"mt-4"},Jo={class:"block mb-2"},zo={class:"mt-4"},Go={class:"block mb-2"},To={key:1},Bo={class:"mt-4"},Do={class:"block mb-2"},Oo={class:"block mb-2"},Ho={class:"mt-4"},Ao={class:"block mb-2"};function Fo(o,t,l,p,n,u){return b(),c("div",null,[e("div",null,[e("label",So,s(o.$t("onOffDutyCoords"))+" (x, y, z)",1),a(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=r=>l.job.onoffduty.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,l.job.onoffduty.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=r=>l.job.onoffduty.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,l.job.onoffduty.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>l.job.onoffduty.coords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,l.job.onoffduty.coords.z]]),e("button",{onClick:t[3]||(t[3]=(...r)=>u.fetchCurrentCoords&&u.fetchCurrentCoords(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),1)]),e("div",Uo,[e("label",Vo,s(o.$t("onOffDutyNpcMarker")),1),a(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>l.job.onoffduty.type=r),onChange:t[5]||(t[5]=(...r)=>u.initializeMarkerColor&&u.initializeMarkerColor(...r)),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",Po,s(o.$t("npc")),1),e("option",Mo,s(o.$t("marker")),1)],544),[[w,l.job.onoffduty.type]]),l.job.onoffduty.type==="npc"?(b(),c("div",Io,[e("div",No,[e("label",Jo,s(o.$t("npcModel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=r=>l.job.onoffduty.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,l.job.onoffduty.npcModel]])]),e("div",zo,[e("label",Go,s(o.$t("npcHeading")),1),a(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=r=>l.job.onoffduty.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,l.job.onoffduty.npcHeading]]),e("button",{onClick:t[8]||(t[8]=(...r)=>u.fetchCurrentHeading&&u.fetchCurrentHeading(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentHeading")),1)])])):l.job.onoffduty.type==="marker"?(b(),c("div",To,[e("div",Bo,[e("label",Do,s(o.$t("markerId")),1),a(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>l.job.onoffduty.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,l.job.onoffduty.markerId]])]),e("div",null,[e("label",Oo,s(o.$t("markerColor"))+" (RGB)",1),a(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=r=>l.job.onoffduty.markerColor.r=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,l.job.onoffduty.markerColor.r]]),a(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=r=>l.job.onoffduty.markerColor.g=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,l.job.onoffduty.markerColor.g]]),a(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=r=>l.job.onoffduty.markerColor.b=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,l.job.onoffduty.markerColor.b]])]),e("div",Ho,[e("label",Ao,s(o.$t("markerScale")),1),a(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=r=>l.job.onoffduty.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,l.job.onoffduty.markerScale]])])])):y("",!0)])])}const Ro=x($o,[["render",Fo]]),Eo={props:["job"],methods:{getGradeLabel(o){const t=this.job.grades.find(l=>l.grade===o);return t?`${t.label} (ID: ${t.grade})`:"Unknown"},promoteEmployee(o){const t=this.job.employees.find(p=>p.identifier===o),l=this.job.grades.findIndex(p=>p.grade===t.job_grade);l<this.job.grades.length-1&&(t.job_grade=this.job.grades[l+1].grade,this.saveEmployeeData(t))},demoteEmployee(o){const t=this.job.employees.find(p=>p.identifier===o),l=this.job.grades.findIndex(p=>p.grade===t.job_grade);l>0&&(t.job_grade=this.job.grades[l-1].grade,this.saveEmployeeData(t))},fireEmployee(o){const t=this.job.employees.find(l=>l.identifier===o);this.job.employees=this.job.employees.filter(l=>l.identifier!==o),this.$emit("update-job",this.job),fetch(`https://${GetParentResourceName()}/saveEmployee`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,employee:t,fire:!0})})},saveEmployeeData(o){fetch(`https://${GetParentResourceName()}/saveEmployee`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,employee:o})}).then(t=>t.json()).then(t=>{t.success&&this.$emit("update-job",this.job)}).catch(t=>{console.error("Failed to save employee data:",t)})},canPromote(o){const t=this.job.grades.findIndex(l=>l.grade===o.job_grade);return t<this.job.grades.length-1&&this.job.grades[t+1]},canDemote(o){const t=this.job.grades.findIndex(l=>l.grade===o.job_grade);return t>0&&this.job.grades[t-1]}}},Lo={class:"overflow-y-auto max-h-[50vh]"},Wo={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},Ko={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Xo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Yo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Zo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},qo={class:"bg-gray-700 divide-y divide-gray-600"},Qo={class:"px-4 py-2"},er={class:"px-4 py-2"},tr={class:"px-4 py-2"},or={class:"px-4 py-2"},rr=["onClick"],sr=["onClick"],lr=["onClick"];function nr(o,t,l,p,n,u){return b(),c("div",Lo,[e("table",Wo,[e("thead",null,[e("tr",null,[e("th",Ko,s(o.$t("firstName")),1),e("th",Xo,s(o.$t("lastName")),1),e("th",Yo,s(o.$t("grade")),1),e("th",Zo,s(o.$t("actions")),1)])]),e("tbody",qo,[(b(!0),c(m,null,g(l.job.employees,(r,h)=>(b(),c("tr",{key:r.identifier},[e("td",Qo,s(r.firstname),1),e("td",er,s(r.lastname),1),e("td",tr,s(u.getGradeLabel(r.job_grade)),1),e("td",or,[u.canPromote(r)?(b(),c("button",{key:0,onClick:i=>u.promoteEmployee(r.identifier),class:"bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600"},s(o.$t("promote")),9,rr)):y("",!0),u.canDemote(r)?(b(),c("button",{key:1,onClick:i=>u.demoteEmployee(r.identifier),class:"bg-yellow-500 text-white px-2 py-1 rounded hover:bg-yellow-600"},s(o.$t("demote")),9,sr)):y("",!0),l.job.name!=="unemployed"?(b(),c("button",{key:2,onClick:i=>u.fireEmployee(r.identifier),class:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600"},s(o.$t("fire")),9,lr)):y("",!0)])]))),128))])])])}const ar=x(Eo,[["render",nr],["__scopeId","data-v-81a8b0d9"]]),dr={},ir={class:"under-construction"},ur={class:"message"},br={class:"text"},cr=e("br",null,null,-1),pr={class:"text"};function hr(o,t){return b(),c("div",ir,[e("div",ur,[e("span",br,"ðŸš§ "+s(o.$t("underConstruction"))+" ðŸ‘·â€â™€ï¸ðŸš§",1),cr,e("span",pr,s(o.$t("siteNotAvailable")),1)])])}const mr=x(dr,[["render",hr]]),gr={props:["job"],data(){return{showAddShopPopup:!1,newShop:{coords:{x:0,y:0,z:0},name:"",items:[]}}},beforeMount(){this.job.shops=JSON.parse(this.job.ludaro_manager_shops||"[]"),this.job.shops||(this.job.shops=[]),this.job.shops=this.job.shops.map(o=>({coords:o.coords||{x:0,y:0,z:0},name:o.name||"",items:o.items?o.items.map(t=>({name:t.name||"",price:t.price||0,stock:t.stock||0,minimumGrade:t.minimumGrade||""})):[]}))},methods:{fetchCurrentCoords(o=null,t=!1){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(l=>l.json()).then(l=>{l&&(t?this.newShop.coords={x:l.x,y:l.y,z:l.z}:this.job.shops[o].coords={x:l.x,y:l.y,z:l.z},this.$emit("update-job",this.job))}).catch(l=>{console.error("Failed to fetch current coords:",l)})},addItem(o){this.job.shops[o].items||(this.job.shops[o].items=[]),this.job.shops[o].items.push({name:"",price:0,stock:0,minimumGrade:""}),this.$emit("update-job",this.job)},removeItem(o,t){this.job.shops[o].items.splice(t,1),this.$emit("update-job",this.job)},addNewItem(){this.newShop.items.push({name:"",price:0,stock:0,minimumGrade:""})},removeNewItem(o){this.newShop.items.splice(o,1)},addNewShop(){Array.isArray(this.job.shops)||(this.job.shops=[]),this.job.shops.push({...this.newShop}),this.showAddShopPopup=!1,this.newShop={coords:{x:0,y:0,z:0},name:"",items:[]},this.$emit("update-job",this.job)},removeShop(o){this.job.shops.splice(o,1),this.$emit("update-job",this.job)}}},yr={class:"overflow-y-auto max-h-[50vh]"},fr={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},wr={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},xr={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},kr={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},vr={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},_r={class:"bg-gray-700 divide-y divide-gray-600"},jr={class:"px-4 py-2"},Cr=["onUpdate:modelValue"],$r=["onUpdate:modelValue"],Sr=["onUpdate:modelValue"],Ur=["onClick"],Vr={class:"px-4 py-2"},Pr=["onUpdate:modelValue"],Mr={class:"px-4 py-2"},Ir=["onUpdate:modelValue"],Nr={class:"flex space-x-2"},Jr={class:"w-1/3"},zr={class:"block mb-2"},Gr=["onUpdate:modelValue"],Tr={class:"w-1/3"},Br={class:"block mb-2"},Dr=["onUpdate:modelValue"],Or={class:"w-1/3"},Hr={class:"block mb-2"},Ar=["onUpdate:modelValue"],Fr=["value"],Rr=["onClick"],Er=["onClick"],Lr={class:"px-4 py-2"},Wr=["onClick"],Kr={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},Xr={class:"bg-gray-800 text-white p-4 rounded w-1/2 overflow-auto max-h-[90vh]"},Yr={class:"text-lg font-bold mb-4"},Zr={class:"mb-4"},qr={class:"block mb-2"},Qr={class:"mb-4"},es={class:"block mb-2"},ts={class:"mb-4"},os={class:"block mb-2"},rs=["onUpdate:modelValue"],ss={class:"flex space-x-2"},ls={class:"w-1/3"},ns={class:"block mb-2"},as=["onUpdate:modelValue"],ds={class:"w-1/3"},is={class:"block mb-2"},us=["onUpdate:modelValue"],bs={class:"w-1/3"},cs={class:"block mb-2"},ps=["onUpdate:modelValue"],hs=["value"],ms=["onClick"],gs={class:"mt-4"};function ys(o,t,l,p,n,u){return b(),c("div",yr,[e("table",fr,[e("thead",null,[e("tr",null,[e("th",wr,s(o.$t("coords")),1),e("th",xr,s(o.$t("name")),1),e("th",kr,s(o.$t("items")),1),e("th",vr,s(o.$t("actions")),1)])]),e("tbody",_r,[(b(!0),c(m,null,g(l.job.shops,(r,h)=>(b(),c("tr",{key:h},[e("td",jr,[a(e("input",{type:"number","onUpdate:modelValue":i=>r.coords.x=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,8,Cr),[[d,r.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":i=>r.coords.y=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,8,$r),[[d,r.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":i=>r.coords.z=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,8,Sr),[[d,r.coords.z]]),e("button",{onClick:i=>u.fetchCurrentCoords(h),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),9,Ur)]),e("td",Vr,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.name=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"{{ $t('shopName') }}"},null,8,Pr),[[d,r.name]])]),e("td",Mr,[(b(!0),c(m,null,g(r.items,(i,j)=>(b(),c("div",{key:j,class:"mb-4"},[a(e("input",{type:"text","onUpdate:modelValue":f=>i.name=f,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"{{ $t('itemName') }}"},null,8,Ir),[[d,i.name]]),e("div",Nr,[e("div",Jr,[e("label",zr,s(o.$t("price")),1),a(e("input",{type:"number","onUpdate:modelValue":f=>i.price=f,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"{{ $t('price') }}"},null,8,Gr),[[d,i.price]])]),e("div",Tr,[e("label",Br,s(o.$t("stock")),1),a(e("input",{type:"number","onUpdate:modelValue":f=>i.stock=f,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"{{ $t('stock') }}"},null,8,Dr),[[d,i.stock]])]),e("div",Or,[e("label",Hr,s(o.$t("grade")),1),a(e("select",{"onUpdate:modelValue":f=>i.minimumGrade=f,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(b(!0),c(m,null,g(l.job.grades,f=>(b(),c("option",{key:f.grade,value:f.grade},s(f.label)+" (ID: "+s(f.grade)+") ",9,Fr))),128))],8,Ar),[[w,i.minimumGrade]])])]),e("button",{onClick:f=>u.removeItem(h,j),class:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600"},s(o.$t("removeItem")),9,Rr)]))),128)),e("button",{onClick:i=>u.addItem(h),class:"bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600"},s(o.$t("addItem")),9,Er)]),e("td",Lr,[e("button",{onClick:i=>u.removeShop(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},s(o.$t("removeShop")),9,Wr)])]))),128))])]),e("button",{onClick:t[0]||(t[0]=r=>n.showAddShopPopup=!0),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},s(o.$t("addShop")),1),n.showAddShopPopup?(b(),c("div",Kr,[e("div",Xr,[e("h3",Yr,s(o.$t("addNewShop")),1),e("div",Zr,[e("label",qr,s(o.$t("coords")),1),a(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=r=>n.newShop.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,n.newShop.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>n.newShop.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,n.newShop.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>n.newShop.coords.z=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,n.newShop.coords.z]]),e("button",{onClick:t[4]||(t[4]=r=>u.fetchCurrentCoords(null,!0)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),1)]),e("div",Qr,[e("label",es,s(o.$t("name")),1),a(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=r=>n.newShop.name=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"{{ $t('shopName') }}"},null,512),[[d,n.newShop.name]])]),e("div",ts,[e("label",os,s(o.$t("items")),1),(b(!0),c(m,null,g(n.newShop.items,(r,h)=>(b(),c("div",{key:h,class:"mb-4"},[a(e("input",{type:"text","onUpdate:modelValue":i=>r.name=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"{{ $t('itemName') }}"},null,8,rs),[[d,r.name]]),e("div",ss,[e("div",ls,[e("label",ns,s(o.$t("price")),1),a(e("input",{type:"number","onUpdate:modelValue":i=>r.price=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"{{ $t('price') }}"},null,8,as),[[d,r.price]])]),e("div",ds,[e("label",is,s(o.$t("stock")),1),a(e("input",{type:"number","onUpdate:modelValue":i=>r.stock=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"{{ $t('stock') }}"},null,8,us),[[d,r.stock]])]),e("div",bs,[e("label",cs,s(o.$t("grade")),1),a(e("select",{"onUpdate:modelValue":i=>r.minimumGrade=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(b(!0),c(m,null,g(l.job.grades,i=>(b(),c("option",{key:i.grade,value:i.grade},s(i.label)+" (ID: "+s(i.grade)+") ",9,hs))),128))],8,ps),[[w,r.minimumGrade]])])]),e("button",{onClick:i=>u.removeNewItem(h),class:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600"},s(o.$t("removeItem")),9,ms)]))),128)),e("button",{onClick:t[6]||(t[6]=(...r)=>u.addNewItem&&u.addNewItem(...r)),class:"bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600"},s(o.$t("addItem")),1)]),e("div",gs,[e("button",{onClick:t[7]||(t[7]=(...r)=>u.addNewShop&&u.addNewShop(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},s(o.$t("addShop")),1),e("button",{onClick:t[8]||(t[8]=r=>n.showAddShopPopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},s(o.$t("cancel")),1)])])])):y("",!0)])}const fs=x(gr,[["render",ys]]),ws={props:["job"],data(){return{showAddProcessingPopup:!1,newProcessing:{inputItems:"",outputItem:"",seconds:0,animationDir:"",animation:"",minimumGrade:"",coords:{x:null,y:null,z:null}}}},methods:{fetchCurrentCoords(o=null,t=!1){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(l=>l.json()).then(l=>{if(l){const p={x:l.x||0,y:l.y||0,z:l.z||0};t?this.newProcessing.coords=p:this.job.ludaro_manager_processing[o]&&(this.job.ludaro_manager_processing[o].coords=p),this.$emit("update-job",this.job)}}).catch(l=>{console.error("Failed to fetch current coords:",l)})},addNewProcessing(){Array.isArray(this.job.ludaro_manager_processing)||(this.job.ludaro_manager_processing=[]),this.job.ludaro_manager_processing.push({...this.newProcessing}),this.showAddProcessingPopup=!1,this.newProcessing={inputItems:"",outputItem:"",seconds:0,animationDir:"",animation:"",minimumGrade:"",coords:{x:null,y:null,z:null}},this.$emit("update-job",this.job)},removeProcessing(o){this.job.ludaro_manager_processing&&this.job.ludaro_manager_processing[o]&&(this.job.ludaro_manager_processing.splice(o,1),this.$emit("update-job",this.job))}}},xs={class:"overflow-y-auto max-h-[50vh]"},ks={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},vs={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},_s={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},js={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Cs={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},$s={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Ss={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Us={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Vs={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Ps={class:"bg-gray-700 divide-y divide-gray-600"},Ms={class:"px-4 py-2"},Is=["onUpdate:modelValue"],Ns={class:"px-4 py-2"},Js=["onUpdate:modelValue"],zs={class:"px-4 py-2"},Gs=["onUpdate:modelValue"],Ts={class:"px-4 py-2"},Bs=["onUpdate:modelValue"],Ds={class:"px-4 py-2"},Os=["onUpdate:modelValue"],Hs={class:"px-4 py-2"},As=["onUpdate:modelValue"],Fs=["value"],Rs={class:"px-4 py-2"},Es=["onUpdate:modelValue"],Ls=["onUpdate:modelValue"],Ws=["onUpdate:modelValue"],Ks=["onClick"],Xs={class:"px-4 py-2"},Ys=["onClick"],Zs={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},qs={class:"bg-gray-800 text-white p-4 rounded w-1/2 overflow-auto max-h-[90vh]"},Qs={class:"text-lg font-bold mb-4"},el={class:"mb-4"},tl={class:"block mb-2"},ol={class:"mb-4"},rl={class:"block mb-2"},sl={class:"mb-4"},ll={class:"block mb-2"},nl={class:"mb-4"},al={class:"block mb-2"},dl={class:"mb-4"},il={class:"block mb-2"},ul={class:"mb-4"},bl={class:"block mb-2"},cl=["value"],pl={class:"mb-4"},hl={class:"block mb-2"},ml={class:"mt-4"};function gl(o,t,l,p,n,u){return b(),c("div",xs,[e("table",ks,[e("thead",null,[e("tr",null,[e("th",vs,s(o.$t("inputItems")),1),e("th",_s,s(o.$t("outputItem")),1),e("th",js,s(o.$t("seconds")),1),e("th",Cs,s(o.$t("animationDir")),1),e("th",$s,s(o.$t("animation")),1),e("th",Ss,s(o.$t("minGrade")),1),e("th",Us,s(o.$t("coords")),1),e("th",Vs,s(o.$t("actions")),1)])]),e("tbody",Ps,[(b(!0),c(m,null,g(l.job.ludaro_manager_processing,(r,h)=>(b(),c("tr",{key:h},[e("td",Ms,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.inputItems=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Is),[[d,r.inputItems]])]),e("td",Ns,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.outputItem=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Js),[[d,r.outputItem]])]),e("td",zs,[a(e("input",{type:"number","onUpdate:modelValue":i=>r.seconds=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Gs),[[d,r.seconds]])]),e("td",Ts,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.animationDir=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Bs),[[d,r.animationDir]])]),e("td",Ds,[a(e("input",{type:"text","onUpdate:modelValue":i=>r.animation=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Os),[[d,r.animation]])]),e("td",Hs,[a(e("select",{"onUpdate:modelValue":i=>r.minimumGrade=i,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[(b(!0),c(m,null,g(l.job.grades,i=>(b(),c("option",{key:i.grade,value:i.grade},s(i.label)+" (ID: "+s(i.grade)+") ",9,Fs))),128))],8,As),[[w,r.minimumGrade]])]),e("td",Rs,[a(e("input",{type:"number","onUpdate:modelValue":i=>r.coords.x=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,8,Es),[[d,r.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":i=>r.coords.y=i,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,8,Ls),[[d,r.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":i=>r.coords.z=i,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,8,Ws),[[d,r.coords.z]]),e("button",{onClick:i=>u.fetchCurrentCoords(h),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),9,Ks)]),e("td",Xs,[e("button",{onClick:i=>u.removeProcessing(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},s(o.$t("remove")),9,Ys)])]))),128))])]),e("button",{onClick:t[0]||(t[0]=r=>n.showAddProcessingPopup=!0),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},s(o.$t("addProcessing")),1),n.showAddProcessingPopup?(b(),c("div",Zs,[e("div",qs,[e("h3",Qs,s(o.$t("addNewProcessing")),1),e("div",el,[e("label",tl,s(o.$t("inputItems")),1),a(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>n.newProcessing.inputItems=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.inputItems]])]),e("div",ol,[e("label",rl,s(o.$t("outputItem")),1),a(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=r=>n.newProcessing.outputItem=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.outputItem]])]),e("div",sl,[e("label",ll,s(o.$t("seconds")),1),a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>n.newProcessing.seconds=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.seconds]])]),e("div",nl,[e("label",al,s(o.$t("animationDir")),1),a(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=r=>n.newProcessing.animationDir=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.animationDir]])]),e("div",dl,[e("label",il,s(o.$t("animation")),1),a(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=r=>n.newProcessing.animation=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.animation]])]),e("div",ul,[e("label",bl,s(o.$t("minGrade")),1),a(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>n.newProcessing.minimumGrade=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[(b(!0),c(m,null,g(l.job.grades,r=>(b(),c("option",{key:r.grade,value:r.grade},s(r.label)+" (ID: "+s(r.grade)+") ",9,cl))),128))],512),[[w,n.newProcessing.minimumGrade]])]),e("div",pl,[e("label",hl,s(o.$t("coords")),1),a(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=r=>n.newProcessing.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,n.newProcessing.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=r=>n.newProcessing.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,n.newProcessing.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>n.newProcessing.coords.z=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,n.newProcessing.coords.z]]),e("button",{onClick:t[10]||(t[10]=r=>u.fetchCurrentCoords(null,!0)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},s(o.$t("useCurrentCoords")),1)]),e("div",ml,[e("button",{onClick:t[11]||(t[11]=(...r)=>u.addNewProcessing&&u.addNewProcessing(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},s(o.$t("addProcessing")),1),e("button",{onClick:t[12]||(t[12]=r=>n.showAddProcessingPopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},s(o.$t("cancel")),1)])])])):y("",!0)])}const yl=x(ws,[["render",gl]]),fl={data(){return{loading:!0,loadingData:!1,jobs:{},interactions:[],editingJobName:null,isPopupVisible:!1,activeTab:"jobInfo",showAddJobPopup:!1,lastSaveTime:0,newJob:{name:"",label:"",whitelisted:!1,societypaid:!1,grades:[],vehicles:[],bossmenu:{coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},onOffDutyCoords:{x:null,y:null,z:null},garageCoords:{x:null,y:null,z:null},stashes:[],shops:[],processing:[],vehicleShop:{coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]}},newGrade:{grade:"",name:"",label:"",salary:0},newInteraction:"",newVehicle:{name:"",price:0,paidBy:"society",grade:""},jobToDelete:null,tabs:["jobInfo","Grades","BossMenu","Interactions","Garage","onOffDuty","employees","stashes","shops","processing"],error:""}},mounted(){this.fetchJobsAndInteractions(),document.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeydown)},computed:{activeTabComponent(){return{jobInfo:N,Grades:ue,BossMenu:qe,Interactions:ht,Garage:Co,onOffDuty:Ro,employees:ar,stashes:mr,shops:fs,processing:yl}[this.activeTab]||"div"}},methods:{async fetchJobsAndInteractions(){try{this.loading=!0;const t=await(await fetch(`https://${GetParentResourceName()}/getJobData`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json(),p=await(await fetch(`https://${GetParentResourceName()}/getInteractions`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();Object.keys(t).forEach(n=>{t[n].grades||(t[n].grades=[]),(!t[n].interactions||t[n].interactions.length===0)&&(t[n].interactions=[]),t[n].vehicles||(t[n].vehicles=[]),t[n].bossmenu||(t[n].bossmenu={coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1}),t[n].employees||(t[n].employees=[]),t[n].vehicleShop||(t[n].vehicleShop={coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]}),typeof t[n].societypaid>"u"&&(t[n].societypaid=!1)}),this.jobs=t,this.interactions=p.filter(n=>n!=="[]"),this.loading=!1}catch(o){console.error("Failed to fetch job or interaction data:",o),this.loading=!1}},editJob(o){this.editingJobName=o,this.activeTab="jobInfo",this.isPopupVisible=!0},saveJob(o){this.jobs[o],fetch(`https://${GetParentResourceName()}/saveJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(this.jobs[o])}).then(t=>t.json()).then(t=>{t.success&&(this.isPopupVisible=!1,this.editingJobName=null,this.refreshData())}).catch(t=>{console.error("Failed to save job:",t)})},closePopup(){this.isPopupVisible=!1,this.showAddJobPopup=!1,this.jobToDelete=null},handleKeydown(o){o.key==="Escape"&&this.closePopup()},confirmDeleteJob(o){this.jobToDelete=o},deleteJob(o){const t=this.jobs[o];fetch(`https://${GetParentResourceName()}/deleteJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:t.name})}).then(l=>l.json()).then(l=>{if(l.success){const p={...this.jobs};delete p[o],this.jobs=p,this.jobToDelete=null}}).catch(l=>{console.error("Failed to delete job:",l)})},openAddJobPopup(){this.showAddJobPopup=!0},addNewJob(){if(Object.values(this.jobs).some(t=>t.name===this.newJob.name||t.label===this.newJob.label)){this.error="A job with the same name or label already exists. Please use a different name or label.";return}fetch(`https://${GetParentResourceName()}/addJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(this.newJob)}).then(t=>t.json()).then(t=>{t.success?(this.jobs={...this.jobs,[t.jobName]:this.newJob},this.showAddJobPopup=!1,this.newJob={name:"",label:"",whitelisted:!1,societypaid:!1,grades:[],vehicles:[],bossmenu:{coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},onOffDutyCoords:{x:null,y:null,z:null},garageCoords:{x:null,y:null,z:null},stashes:[],shops:[],processing:[],vehicleShop:{coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]}},this.refreshData()):this.error="Failed to add new job. Please try again."}).catch(t=>{console.error("Failed to add new job:",t),this.error="Failed to add new job. Please try again."})},refreshData(){this.loadingData=!0,this.fetchJobsAndInteractions().then(()=>{this.loadingData=!1})},updateJob(o){this.jobs[this.editingJobName]=o}}},wl={key:0,class:"flex justify-center items-center h-screen"},xl={class:"text-2xl text-white"},kl={key:1,class:"container mx-auto p-4 overflow-auto max-h-[90vh]"},vl={class:"overflow-x-auto"},_l={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},jl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Cl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},$l={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Sl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Ul={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Vl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Pl={class:"bg-gray-700 divide-y divide-gray-600"},Ml=["onClick"],Il={class:"px-6 py-4 whitespace-nowrap"},Nl={class:"px-6 py-4 whitespace-nowrap"},Jl={class:"px-6 py-4 whitespace-nowrap"},zl={class:"px-6 py-4 whitespace-nowrap"},Gl={class:"px-6 py-4 whitespace-nowrap"},Tl={class:"px-6 py-4 whitespace-nowrap"},Bl=["onClick"],Dl={class:"bg-gray-800 text-white p-4 rounded w-3/4 overflow-auto max-h-[90vh]"},Ol={class:"text-lg font-bold mb-4"},Hl={class:"mb-4"},Al={class:"block mb-2"},Fl={class:"mb-4"},Rl={class:"block mb-2"},El={class:"mb-4"},Ll={class:"block mb-2"},Wl={class:"mb-4"},Kl={class:"block mb-2"},Xl={class:"mb-4"},Yl={class:"flex mb-4 border-b border-gray-600"},Zl=["onClick"],ql={class:"mt-4"},Ql={class:"bg-gray-800 text-white p-4 rounded w-1/2"},en={class:"text-lg font-bold mb-4"},tn={class:"mb-4"},on={class:"block mb-2"},rn={class:"mb-4"},sn={class:"block mb-2"},ln={class:"mb-4"},nn={class:"block mb-2"},an={class:"mb-4"},dn={class:"block mb-2"},un={class:"mt-4"},bn={key:0,class:"mt-4 text-red-500"},cn={class:"bg-gray-800 text-white p-4 rounded w-1/2"},pn={class:"text-lg font-bold mb-4"},hn={class:"mt-4"};function mn(o,t,l,p,n,u){return b(),c("div",null,[n.loading?(b(),c("div",wl,[e("span",xl,s(o.$t("loading")),1)])):(b(),c("div",kl,[e("div",vl,[e("table",_l,[e("thead",null,[e("tr",null,[e("th",jl,s(o.$t("jobName")),1),e("th",Cl,s(o.$t("jobLabel")),1),e("th",$l,s(o.$t("whitelisted")),1),e("th",Sl,s(o.$t("activePlayers")),1),e("th",Ul,s(o.$t("societyPaid")),1),e("th",Vl,s(o.$t("actions")),1)])]),e("tbody",Pl,[(b(!0),c(m,null,g(n.jobs,(r,h)=>(b(),c("tr",{key:h,onClick:i=>u.editJob(h),class:"hover:bg-gray-600 cursor-pointer"},[e("td",Il,s(r.name),1),e("td",Nl,s(r.label),1),e("td",Jl,s(r.whitelisted?"âœ”ï¸":"âŒ"),1),e("td",zl,s(r.activeplayers),1),e("td",Gl,s(r.societypaid?"âœ”ï¸":"âŒ"),1),e("td",Tl,[e("button",{onClick:v(i=>u.confirmDeleteJob(h),["stop"]),class:"text-red-500 hover:text-red-700"},"ðŸ—‘ï¸",8,Bl)])],8,Ml))),128))])])]),e("button",{class:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",onClick:t[0]||(t[0]=(...r)=>u.openAddJobPopup&&u.openAddJobPopup(...r))},s(o.$t("addNewJob")),1)])),n.isPopupVisible?(b(),c("div",{key:2,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75",onClick:t[7]||(t[7]=v((...r)=>u.closePopup&&u.closePopup(...r),["self"]))},[e("div",Dl,[e("h3",Ol,s(o.$t("editJob")),1),e("div",Hl,[e("label",Al,s(o.$t("jobName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>n.jobs[n.editingJobName].name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.jobs[n.editingJobName].name]])]),e("div",Fl,[e("label",Rl,s(o.$t("jobLabel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=r=>n.jobs[n.editingJobName].label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.jobs[n.editingJobName].label]])]),e("div",El,[e("label",Ll,s(o.$t("whitelisted")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=r=>n.jobs[n.editingJobName].whitelisted=r)},null,512),[[k,n.jobs[n.editingJobName].whitelisted]])]),e("div",Wl,[e("label",Kl,s(o.$t("societyPaid")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=r=>n.jobs[n.editingJobName].societypaid=r)},null,512),[[k,n.jobs[n.editingJobName].societypaid]])]),e("div",Xl,[e("nav",Yl,[(b(!0),c(m,null,g(n.tabs,r=>(b(),c("a",{key:r,onClick:h=>n.activeTab=r,class:_(["cursor-pointer p-2 rounded-t-lg text-white",n.activeTab===r?"bg-blue-600":""])},s(o.$t(r)),11,Zl))),128))]),(b(),C($(u.activeTabComponent),{job:n.jobs[n.editingJobName],onUpdateJob:u.updateJob},null,40,["job","onUpdateJob"]))]),e("div",ql,[e("button",{onClick:t[5]||(t[5]=r=>u.saveJob(n.editingJobName)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},s(o.$t("save")),1),e("button",{onClick:t[6]||(t[6]=(...r)=>u.closePopup&&u.closePopup(...r)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},s(o.$t("cancel")),1)])])])):y("",!0),n.showAddJobPopup?(b(),c("div",{key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75",onClick:t[14]||(t[14]=v((...r)=>u.closePopup&&u.closePopup(...r),["self"]))},[e("div",Ql,[e("h3",en,s(o.$t("addNewJob")),1),e("div",tn,[e("label",on,s(o.$t("jobName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=r=>n.newJob.name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newJob.name]])]),e("div",rn,[e("label",sn,s(o.$t("jobLabel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=r=>n.newJob.label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newJob.label]])]),e("div",ln,[e("label",nn,s(o.$t("whitelisted")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=r=>n.newJob.whitelisted=r)},null,512),[[k,n.newJob.whitelisted]])]),e("div",an,[e("label",dn,s(o.$t("societyPaid")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=r=>n.newJob.societypaid=r)},null,512),[[k,n.newJob.societypaid]])]),e("div",un,[e("button",{onClick:t[12]||(t[12]=(...r)=>u.addNewJob&&u.addNewJob(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},s(o.$t("addJob")),1),e("button",{onClick:t[13]||(t[13]=(...r)=>u.closePopup&&u.closePopup(...r)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},s(o.$t("cancel")),1)]),n.error?(b(),c("div",bn,s(n.error),1)):y("",!0)])])):y("",!0),n.jobToDelete!==null?(b(),c("div",{key:4,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75",onClick:t[17]||(t[17]=v((...r)=>u.closePopup&&u.closePopup(...r),["self"]))},[e("div",cn,[e("h3",pn,s(o.$t("confirmDeleteJob")),1),e("p",null,s(o.$t("confirmDeleteMessage")),1),e("div",hn,[e("button",{onClick:t[15]||(t[15]=r=>u.deleteJob(n.jobToDelete)),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},s(o.$t("yes")),1),e("button",{onClick:t[16]||(t[16]=(...r)=>u.closePopup&&u.closePopup(...r)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},s(o.$t("no")),1)])])])):y("",!0)])}const yn=x(fl,[["render",mn],["__scopeId","data-v-1afbc137"]]);export{yn as default};
