import{_ as v,o as i,c as u,a as e,w as l,v as d,b as k,F as g,r as y,t as h,d as x,e as _,n as j,p as C,f as S,g as V,h as P,i as I}from"./index-rr2OCsVj.js";const N={props:["job"]},J=e("label",{class:"block mb-2"},"Job Name",-1),G=e("label",{class:"block mb-2"},"Job Label",-1),M=e("label",{class:"block mb-2"},"Whitelisted",-1);function $(s,t,r,c,n,b){return i(),u("div",null,[e("div",null,[J,l(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>r.job.name=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,r.job.name]])]),e("div",null,[G,l(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>r.job.label=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,r.job.label]])]),e("div",null,[M,l(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=o=>r.job.whitelisted=o)},null,512),[[k,r.job.whitelisted]])])])}const z=v(N,[["render",$]]),T={props:["job"],data(){return{showAddGradePopup:!1,newGrade:{grade:"",name:"",label:"",salary:0},error:""}},methods:{addNewGrade(){if(this.job.grades.some(r=>r.name===this.newGrade.name||r.label===this.newGrade.label)){this.error="A grade with the same name or label already exists.";return}Array.isArray(this.job.grades)||(this.job.grades=[]);const t=Math.max(...this.job.grades.map(r=>r.grade),0);this.newGrade.grade=t+1,this.job.grades.push({...this.newGrade}),this.showAddGradePopup=!1,this.newGrade={grade:"",name:"",label:"",salary:0},this.error="",this.$emit("update-job",this.job)},removeGrade(s){this.job.grades.splice(s,1),this.$emit("update-job",this.job)},saveGrades(){fetch(`https://${GetParentResourceName()}/saveGrades`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,grades:this.job.grades})}).then(s=>s.json()).then(s=>{s.success?console.log("Grades saved successfully"):console.error("Failed to save grades")}).catch(s=>{console.error("Error saving grades:",s)})}}},A={class:"overflow-y-auto max-h-[50vh]"},O={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},D=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Grade ID"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Grade Spawn Name"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Grade Name"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Salary"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Actions")])],-1),R={class:"bg-gray-700 divide-y divide-gray-600"},H={class:"px-4 py-2"},F={class:"px-4 py-2"},E=["onUpdate:modelValue"],B={class:"px-4 py-2"},L=["onUpdate:modelValue"],W={class:"px-4 py-2"},Y=["onUpdate:modelValue"],q={class:"px-4 py-2"},K=["onClick"],Q={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},X={class:"bg-gray-800 text-white p-4 rounded w-1/2"},Z=e("h3",{class:"text-lg font-bold mb-4"},"Add New Grade",-1),ee={class:"mb-4"},te=e("label",{class:"block mb-2"},"Grade Spawn Name",-1),oe={class:"mb-4"},re=e("label",{class:"block mb-2"},"Grade Name",-1),se={class:"mb-4"},ne=e("label",{class:"block mb-2"},"Salary",-1),le={class:"mt-4"},ae={key:0,class:"text-red-500"};function de(s,t,r,c,n,b){return i(),u("div",A,[e("table",O,[D,e("tbody",R,[(i(!0),u(g,null,y(r.job.grades,(o,p)=>(i(),u("tr",{key:p},[e("td",H,h(o.grade),1),e("td",F,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.name=a,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,E),[[d,o.name]])]),e("td",B,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.label=a,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,L),[[d,o.label]])]),e("td",W,[l(e("input",{type:"number","onUpdate:modelValue":a=>o.salary=a,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Y),[[d,o.salary]])]),e("td",q,[e("button",{onClick:a=>b.removeGrade(p),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Remove",8,K)])]))),128))])]),e("button",{onClick:t[0]||(t[0]=o=>n.showAddGradePopup=!0),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},"Add Grade"),n.showAddGradePopup?(i(),u("div",Q,[e("div",X,[Z,e("div",ee,[te,l(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>n.newGrade.name=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newGrade.name]])]),e("div",oe,[re,l(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>n.newGrade.label=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newGrade.label]])]),e("div",se,[ne,l(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>n.newGrade.salary=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newGrade.salary]])]),e("div",le,[n.error?(i(),u("span",ae,h(n.error),1)):x("",!0),e("button",{onClick:t[4]||(t[4]=(...o)=>b.addNewGrade&&b.addNewGrade(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Add Grade"),e("button",{onClick:t[5]||(t[5]=o=>n.showAddGradePopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"Cancel")])])])):x("",!0),e("button",{onClick:t[6]||(t[6]=(...o)=>b.saveGrades&&b.saveGrades(...o)),class:"mt-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Save Grades")])}const ie=v(T,[["render",de]]),be={props:["job"],beforeMount(){try{const s=JSON.parse(this.job.ludaro_manager_bossmenu||"{}");this.job.bossmenu={coords:s.coords||{x:0,y:0,z:0},grade:s.grade||"",type:s.type||"npc",npcModel:s.npcModel||"",npcHeading:s.npcHeading||0,npcRange:s.NpcRange||0,markerId:s.markerId||0,markerColor:s.markerColor||{r:0,g:0,b:0},markerScale:s.markerScale||1},console.log("Initialized job.bossmenu:",JSON.stringify(this.job.bossmenu))}catch(s){console.error("Error parsing bossmenu data:",s),this.job.bossmenu={coords:{x:0,y:0,z:0},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1}}},methods:{fetchCurrentCoords(){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(s=>s.json()).then(s=>{s&&(this.job.bossmenu.coords={x:s.x,y:s.y,z:s.z},this.$emit("update-job",this.job),console.log("Updated bossmenu coords:",this.job.bossmenu.coords))}).catch(s=>{console.error("Failed to fetch current coords:",s)})},fetchCurrentHeading(){fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(s=>s.json()).then(s=>{s&&(this.job.bossmenu.npcHeading=s,this.$emit("update-job",this.job),console.log("Updated bossmenu heading:",this.job.bossmenu.npcHeading))}).catch(s=>{console.error("Failed to fetch current heading:",s)})},initializeMarkerColor(){this.job.bossmenu.markerColor||(this.job.bossmenu.markerColor={r:0,g:0,b:0},console.log("Initialized marker color to default:",this.job.bossmenu.markerColor))}},watch:{job:{handler(s){this.$emit("update-job",s)},deep:!0}}},ue=e("label",{class:"block mb-2"},"Boss Menu Coords (x, y, z)",-1),ce=e("label",{class:"block mb-2"},"Boss Menu Grade Access",-1),pe=["value"],he={class:"mb-4"},me=e("label",{class:"block mb-2"},"Boss Menu NPC/Marker",-1),ge=e("option",{value:"npc"},"NPC",-1),ye=e("option",{value:"marker"},"Marker",-1),xe=[ge,ye],fe={key:0},we={key:1},_e=e("label",{class:"block mb-2"},"Marker Color (RGB)",-1);function ve(s,t,r,c,n,b){return i(),u("div",null,[e("div",null,[ue,l(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=o=>r.job.bossmenu.coords.x=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,r.job.bossmenu.coords.x]]),l(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=o=>r.job.bossmenu.coords.y=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,r.job.bossmenu.coords.y]]),l(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>r.job.bossmenu.coords.z=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,r.job.bossmenu.coords.z]]),e("button",{onClick:t[3]||(t[3]=(...o)=>b.fetchCurrentCoords&&b.fetchCurrentCoords(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Coords")]),e("div",null,[ce,l(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>r.job.bossmenu.grade=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},[(i(!0),u(g,null,y(r.job.grades,o=>(i(),u("option",{key:o.grade,value:o.grade},h(o.label)+" (ID: "+h(o.grade)+") ",9,pe))),128))],512),[[_,r.job.bossmenu.grade]])]),e("div",he,[me,l(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>r.job.bossmenu.type=o),onChange:t[6]||(t[6]=(...o)=>b.initializeMarkerColor&&b.initializeMarkerColor(...o)),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},xe,544),[[_,r.job.bossmenu.type]]),r.job.bossmenu.type==="npc"?(i(),u("div",fe,[l(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=o=>r.job.bossmenu.npcModel=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,r.job.bossmenu.npcModel]]),l(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=o=>r.job.bossmenu.npcHeading=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,r.job.bossmenu.npcHeading]]),l(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=o=>r.job.bossmenu.npcRange=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Range"},null,512),[[d,r.job.bossmenu.npcRange]]),e("button",{onClick:t[10]||(t[10]=(...o)=>b.fetchCurrentHeading&&b.fetchCurrentHeading(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Heading")])):r.job.bossmenu.type==="marker"?(i(),u("div",we,[l(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=o=>r.job.bossmenu.markerId=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,r.job.bossmenu.markerId]]),e("div",null,[_e,l(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=o=>r.job.bossmenu.markerColor.r=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,r.job.bossmenu.markerColor.r]]),l(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=o=>r.job.bossmenu.markerColor.g=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,r.job.bossmenu.markerColor.g]]),l(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=o=>r.job.bossmenu.markerColor.b=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,r.job.bossmenu.markerColor.b]])]),l(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=o=>r.job.bossmenu.markerScale=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,r.job.bossmenu.markerScale]])])):x("",!0)])])}const ke=v(be,[["render",ve]]),je={props:["job"],data(){return{newInteraction:"",availableInteractions:[],error:""}},mounted(){this.fetchAvailableInteractions(),this.job.interactions=JSON.parse(this.job.ludaro_manager_interactions||"[]")},methods:{async fetchAvailableInteractions(){try{const s=await fetch(`https://${GetParentResourceName()}/getInteractions`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})});this.availableInteractions=await s.json(),console.log("Fetched interactions:",this.availableInteractions)}catch(s){console.error("Failed to fetch available interactions:",s),this.error="Failed to load interactions. Please try again later."}},async addInteraction(){if(!this.newInteraction){this.error="Please select a valid interaction.";return}this.error="",Array.isArray(this.job.interactions)||(this.job.interactions=[]);try{const t=await(await fetch(`https://${GetParentResourceName()}/addInteraction`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,interaction:this.newInteraction})})).json();console.log("Interaction add status:",t.success),t.success===!0||t.success==="true"||t.success===void 0?(this.job.interactions.push(this.newInteraction),this.newInteraction="",this.$emit("update-job",this.job)):this.error="Failed to add interaction. Please try again."}catch(s){console.error("Failed to add interaction:",s),this.error="Failed to add interaction. Please try again."}},async removeInteraction(s){const t=this.job.interactions[s];try{const c=await(await fetch(`https://${GetParentResourceName()}/removeInteraction`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,interaction:t})})).json();console.log("Interaction remove status:",c.success),c.success===!0||c.success==="true"||c.success===void 0?(this.job.interactions.splice(s,1),this.$emit("update-job",this.job)):this.error="Failed to remove interaction. Please try again."}catch(r){console.error("Failed to remove interaction:",r),this.error="Failed to remove interaction. Please try again."}}}},Ce={class:"overflow-y-auto max-h-[50vh]"},Se={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},Ue=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Interaction"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Actions")])],-1),Ve={class:"bg-gray-700 divide-y divide-gray-600"},Pe={class:"px-4 py-2"},Ie={class:"px-4 py-2"},Ne=["onClick"],Je={class:"mt-4"},Ge=e("label",{class:"block mb-2"},"Select Interaction",-1),Me=e("option",{disabled:"",value:""},"-- Select an Interaction --",-1),$e=["value"],ze={key:0,class:"text-red-500"};function Te(s,t,r,c,n,b){return i(),u("div",Ce,[e("table",Se,[Ue,e("tbody",Ve,[(i(!0),u(g,null,y(r.job.interactions||[],(o,p)=>(i(),u("tr",{key:p},[e("td",Pe,h(o),1),e("td",Ie,[e("button",{onClick:a=>b.removeInteraction(p),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Remove",8,Ne)])]))),128))])]),e("div",Je,[Ge,l(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.newInteraction=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},[Me,(i(!0),u(g,null,y(n.availableInteractions,o=>(i(),u("option",{key:o.interaction_name,value:o.interaction_name},h(o.interaction_name),9,$e))),128))],512),[[_,n.newInteraction]]),n.error?(i(),u("span",ze,h(n.error),1)):x("",!0),e("button",{onClick:t[1]||(t[1]=(...o)=>b.addInteraction&&b.addInteraction(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Add Interaction")])])}const Ae=v(je,[["render",Te]]),Oe={props:["job"],data(){return{activeTab:"garage"}},beforeMount(){const s=JSON.parse(this.job.ludaro_manager_garage||"{}");this.job.garage={coords:s.coords||{x:0,y:0,z:0},shop:s.shop||{type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1}};const t=JSON.parse(this.job.ludaro_manager_vehicleShop||"{}");this.job.vehicleShop={coords:t.coords||{x:0,y:0,z:0},type:t.type||"npc",npcModel:t.npcModel||"",npcHeading:t.npcHeading||0,markerId:t.markerId||0,markerColor:t.markerColor||{r:0,g:0,b:0},markerScale:t.markerScale||1,vehicles:t.vehicles||[],buyWithSocietyMoney:t.buyWithSocietyMoney||!1},console.log("Loaded garage data:",JSON.stringify(this.job.garage)),console.log("Loaded vehicle shop data:",JSON.stringify(this.job.vehicleShop))},methods:{fetchCurrentCoords(s){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(t=>t.json()).then(t=>{t&&(s==="garage"?this.job.garage.coords={x:t.x,y:t.y,z:t.z}:this.job.vehicleShop.coords={x:t.x,y:t.y,z:t.z},this.$emit("update-job",this.job))}).catch(t=>{console.error("Failed to fetch current coords:",t)})},fetchCurrentHeading(s){fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(t=>t.json()).then(t=>{t&&(s==="vehicleShop"?this.job.vehicleShop.npcHeading=t:this.job.garage.shop.npcHeading=t,this.$emit("update-job",this.job))}).catch(t=>{console.error("Failed to fetch current heading:",t)})},initializeMarkerColor(s){s==="vehicleShop"?this.job.vehicleShop.markerColor||(this.job.vehicleShop.markerColor={r:0,g:0,b:0}):this.job.garage.shop.markerColor||(this.job.garage.shop.markerColor={r:0,g:0,b:0})},addVehicle(){this.job.vehicleShop.vehicles.push({model:"",label:"",price:0,grade:"",platePrefix:"",societyOwned:!1}),this.$emit("update-job",this.job)},removeVehicle(s){this.job.vehicleShop.vehicles.splice(s,1),this.$emit("update-job",this.job)}}},m=s=>(C("data-v-a1b3153e"),s=s(),S(),s),De={class:"tabs"},Re={key:0},He=m(()=>e("label",{class:"block mb-2"},"Garage Coords (x, y, z)",-1)),Fe={class:"mt-4"},Ee=m(()=>e("label",{class:"block mb-2"},"Garage Marker/NPC",-1)),Be=m(()=>e("option",{value:"npc"},"NPC",-1)),Le=m(()=>e("option",{value:"marker"},"Marker",-1)),We=[Be,Le],Ye={key:0},qe=m(()=>e("label",{class:"block mb-2"},"NPC Model",-1)),Ke=m(()=>e("label",{class:"block mb-2"},"NPC Heading",-1)),Qe={key:1},Xe=m(()=>e("label",{class:"block mb-2"},"Marker ID",-1)),Ze=m(()=>e("label",{class:"block mb-2"},"Marker Color (RGB)",-1)),et=m(()=>e("label",{class:"block mb-2"},"Marker Scale",-1)),tt={key:1},ot=m(()=>e("label",{class:"block mb-2"},"Vehicle Shop Coords (x, y, z)",-1)),rt={class:"mt-4"},st=m(()=>e("label",{class:"block mb-2"},"Vehicle Shop Marker/NPC",-1)),nt=m(()=>e("option",{value:"npc"},"NPC",-1)),lt=m(()=>e("option",{value:"marker"},"Marker",-1)),at=[nt,lt],dt={key:0},it=m(()=>e("label",{class:"block mb-2"},"NPC Model",-1)),bt=m(()=>e("label",{class:"block mb-2"},"NPC Heading",-1)),ut={key:1},ct=m(()=>e("label",{class:"block mb-2"},"Marker ID",-1)),pt=m(()=>e("label",{class:"block mb-2"},"Marker Color (RGB)",-1)),ht=m(()=>e("label",{class:"block mb-2"},"Marker Scale",-1)),mt={class:"mt-4"},gt=m(()=>e("label",{class:"block mb-2"},"Buy with Society Money",-1)),yt={class:"mt-4"},xt=m(()=>e("h3",{class:"text-lg font-bold mb-2"},"Available Vehicles",-1)),ft={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},wt=m(()=>e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Model"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Label"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Price"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Grade"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Plate Prefix"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Society Owned"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),_t={class:"bg-gray-700 divide-y divide-gray-600"},vt={class:"px-4 py-2"},kt=["onUpdate:modelValue"],jt={class:"px-4 py-2"},Ct=["onUpdate:modelValue"],St={class:"px-4 py-2"},Ut=["onUpdate:modelValue"],Vt={class:"px-4 py-2"},Pt=["onUpdate:modelValue"],It=["value"],Nt={class:"px-4 py-2"},Jt=["onUpdate:modelValue"],Gt={class:"px-4 py-2"},Mt=["onUpdate:modelValue"],$t={class:"px-4 py-2"},zt=["onClick"];function Tt(s,t,r,c,n,b){return i(),u("div",null,[e("div",De,[e("button",{class:j([{"active-tab":n.activeTab==="garage"},"tab-button"]),onClick:t[0]||(t[0]=o=>n.activeTab="garage")}," Garage ",2),e("button",{class:j([{"active-tab":n.activeTab==="vehicleShop"},"tab-button"]),onClick:t[1]||(t[1]=o=>n.activeTab="vehicleShop")}," Vehicle Shop ",2)]),n.activeTab==="garage"?(i(),u("div",Re,[e("div",null,[He,l(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>r.job.garage.coords.x=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,r.job.garage.coords.x]]),l(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>r.job.garage.coords.y=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,r.job.garage.coords.y]]),l(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=o=>r.job.garage.coords.z=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,r.job.garage.coords.z]]),e("button",{onClick:t[5]||(t[5]=o=>b.fetchCurrentCoords("garage")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Coords")]),e("div",Fe,[Ee,l(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>r.job.garage.shop.type=o),onChange:t[7]||(t[7]=o=>b.initializeMarkerColor("garage")),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},We,544),[[_,r.job.garage.shop.type]]),r.job.garage.shop.type==="npc"?(i(),u("div",Ye,[qe,l(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>r.job.garage.shop.npcModel=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,r.job.garage.shop.npcModel]]),Ke,l(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=o=>r.job.garage.shop.npcHeading=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,r.job.garage.shop.npcHeading]]),e("button",{onClick:t[10]||(t[10]=o=>b.fetchCurrentHeading("garage")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Heading")])):r.job.garage.shop.type==="marker"?(i(),u("div",Qe,[Xe,l(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=o=>r.job.garage.shop.markerId=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,r.job.garage.shop.markerId]]),e("div",null,[Ze,l(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=o=>r.job.garage.shop.markerColor.r=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,r.job.garage.shop.markerColor.r]]),l(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=o=>r.job.garage.shop.markerColor.g=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,r.job.garage.shop.markerColor.g]]),l(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=o=>r.job.garage.shop.markerColor.b=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,r.job.garage.shop.markerColor.b]])]),et,l(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=o=>r.job.garage.shop.markerScale=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,r.job.garage.shop.markerScale]])])):x("",!0)])])):n.activeTab==="vehicleShop"?(i(),u("div",tt,[e("div",null,[ot,l(e("input",{type:"number","onUpdate:modelValue":t[16]||(t[16]=o=>r.job.vehicleShop.coords.x=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,r.job.vehicleShop.coords.x]]),l(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=o=>r.job.vehicleShop.coords.y=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,r.job.vehicleShop.coords.y]]),l(e("input",{type:"number","onUpdate:modelValue":t[18]||(t[18]=o=>r.job.vehicleShop.coords.z=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,r.job.vehicleShop.coords.z]]),e("button",{onClick:t[19]||(t[19]=o=>b.fetchCurrentCoords("vehicleShop")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Coords")]),e("div",rt,[st,l(e("select",{"onUpdate:modelValue":t[20]||(t[20]=o=>r.job.vehicleShop.type=o),onChange:t[21]||(t[21]=o=>b.initializeMarkerColor("vehicleShop")),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},at,544),[[_,r.job.vehicleShop.type]]),r.job.vehicleShop.type==="npc"?(i(),u("div",dt,[it,l(e("input",{type:"text","onUpdate:modelValue":t[22]||(t[22]=o=>r.job.vehicleShop.npcModel=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,r.job.vehicleShop.npcModel]]),bt,l(e("input",{type:"number","onUpdate:modelValue":t[23]||(t[23]=o=>r.job.vehicleShop.npcHeading=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,r.job.vehicleShop.npcHeading]]),e("button",{onClick:t[24]||(t[24]=o=>b.fetchCurrentHeading("vehicleShop")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Heading")])):r.job.vehicleShop.type==="marker"?(i(),u("div",ut,[ct,l(e("input",{type:"number","onUpdate:modelValue":t[25]||(t[25]=o=>r.job.vehicleShop.markerId=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,r.job.vehicleShop.markerId]]),e("div",null,[pt,l(e("input",{type:"number","onUpdate:modelValue":t[26]||(t[26]=o=>r.job.vehicleShop.markerColor.r=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,r.job.vehicleShop.markerColor.r]]),l(e("input",{type:"number","onUpdate:modelValue":t[27]||(t[27]=o=>r.job.vehicleShop.markerColor.g=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,r.job.vehicleShop.markerColor.g]]),l(e("input",{type:"number","onUpdate:modelValue":t[28]||(t[28]=o=>r.job.vehicleShop.markerColor.b=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,r.job.vehicleShop.markerColor.b]])]),ht,l(e("input",{type:"number","onUpdate:modelValue":t[29]||(t[29]=o=>r.job.vehicleShop.markerScale=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,r.job.vehicleShop.markerScale]])])):x("",!0)]),e("div",mt,[gt,l(e("input",{type:"checkbox","onUpdate:modelValue":t[30]||(t[30]=o=>r.job.vehicleShop.buyWithSocietyMoney=o)},null,512),[[k,r.job.vehicleShop.buyWithSocietyMoney]])]),e("div",yt,[xt,e("table",ft,[wt,e("tbody",_t,[(i(!0),u(g,null,y(r.job.vehicleShop.vehicles,(o,p)=>(i(),u("tr",{key:p},[e("td",vt,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.model=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Model"},null,8,kt),[[d,o.model]])]),e("td",jt,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.label=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Label"},null,8,Ct),[[d,o.label]])]),e("td",St,[l(e("input",{type:"number","onUpdate:modelValue":a=>o.price=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Price"},null,8,Ut),[[d,o.price]])]),e("td",Vt,[l(e("select",{"onUpdate:modelValue":a=>o.grade=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(i(!0),u(g,null,y(r.job.grades,a=>(i(),u("option",{key:a.grade,value:a.grade},h(a.label)+" (ID: "+h(a.grade)+") ",9,It))),128))],8,Pt),[[_,o.grade]])]),e("td",Nt,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.platePrefix=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Plate Prefix"},null,8,Jt),[[d,o.platePrefix]])]),e("td",Gt,[l(e("input",{type:"checkbox","onUpdate:modelValue":a=>o.societyOwned=a},null,8,Mt),[[k,o.societyOwned]])]),e("td",$t,[e("button",{onClick:a=>b.removeVehicle(p),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Remove",8,zt)])]))),128))])]),e("button",{onClick:t[31]||(t[31]=(...o)=>b.addVehicle&&b.addVehicle(...o)),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},"Add Vehicle")])])):x("",!0)])}const At=v(Oe,[["render",Tt],["__scopeId","data-v-a1b3153e"]]),Ot={props:["job"],beforeMount(){try{const s=JSON.parse(this.job.ludaro_manager_onoffduty||"{}");this.job.onoffduty={coords:s.coords||{x:0,y:0,z:0},type:s.type||"npc",npcModel:s.npcModel||"",npcHeading:s.npcHeading||0,npcRange:s.npcRange||0,markerId:s.markerId||0,markerColor:s.markerColor||{r:0,g:0,b:0},markerScale:s.markerScale||1},console.log("Initialized job.onoffduty:",JSON.stringify(this.job.onoffduty))}catch(s){console.error("Error parsing onoffduty data:",s),this.job.onoffduty={coords:{x:0,y:0,z:0},type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1}}},methods:{fetchCurrentCoords(){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(s=>s.json()).then(s=>{s&&(this.job.onoffduty.coords={x:s.x,y:s.y,z:s.z},this.$emit("update-job",this.job),console.log("Updated onoffduty coords:",this.job.onoffduty.coords))}).catch(s=>{console.error("Failed to fetch current coords:",s)})},initializeMarkerColor(){this.job.onoffduty.markerColor||(this.job.onoffduty.markerColor={r:0,g:0,b:0},console.log("Initialized marker color to default:",this.job.onoffduty.markerColor))}},watch:{job:{handler(s){this.$emit("update-job",s)},deep:!0}}},Dt=e("label",{class:"block mb-2"},"On/Off Duty Coords (x, y, z)",-1),Rt={class:"mb-4"},Ht=e("label",{class:"block mb-2"},"On/Off Duty NPC/Marker",-1),Ft=e("option",{value:"npc"},"NPC",-1),Et=e("option",{value:"marker"},"Marker",-1),Bt=[Ft,Et],Lt={key:0},Wt={key:1},Yt=e("label",{class:"block mb-2"},"Marker Color (RGB)",-1);function qt(s,t,r,c,n,b){return i(),u("div",null,[e("div",null,[Dt,l(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=o=>r.job.onoffduty.coords.x=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,r.job.onoffduty.coords.x]]),l(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=o=>r.job.onoffduty.coords.y=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,r.job.onoffduty.coords.y]]),l(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>r.job.onoffduty.coords.z=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,r.job.onoffduty.coords.z]]),e("button",{onClick:t[3]||(t[3]=(...o)=>b.fetchCurrentCoords&&b.fetchCurrentCoords(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Coords")]),e("div",Rt,[Ht,l(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>r.job.onoffduty.type=o),onChange:t[5]||(t[5]=(...o)=>b.initializeMarkerColor&&b.initializeMarkerColor(...o)),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},Bt,544),[[_,r.job.onoffduty.type]]),r.job.onoffduty.type==="npc"?(i(),u("div",Lt,[l(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>r.job.onoffduty.npcModel=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,r.job.onoffduty.npcModel]]),l(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=o=>r.job.onoffduty.npcHeading=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,r.job.onoffduty.npcHeading]]),l(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=o=>r.job.onoffduty.npcRange=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Range"},null,512),[[d,r.job.onoffduty.npcRange]])])):r.job.onoffduty.type==="marker"?(i(),u("div",Wt,[l(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=o=>r.job.onoffduty.markerId=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,r.job.onoffduty.markerId]]),e("div",null,[Yt,l(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=o=>r.job.onoffduty.markerColor.r=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,r.job.onoffduty.markerColor.r]]),l(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=o=>r.job.onoffduty.markerColor.g=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,r.job.onoffduty.markerColor.g]]),l(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=o=>r.job.onoffduty.markerColor.b=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,r.job.onoffduty.markerColor.b]])]),l(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=o=>r.job.onoffduty.markerScale=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,r.job.onoffduty.markerScale]])])):x("",!0)])])}const Kt=v(Ot,[["render",qt]]),Qt={props:["job"],methods:{getGradeLabel(s){const t=this.job.grades.find(r=>r.grade===s);return t?`${t.label} (ID: ${t.grade})`:"Unknown"},promoteEmployee(s){const t=this.job.employees.find(c=>c.identifier===s),r=this.job.grades.findIndex(c=>c.grade===t.job_grade);r<this.job.grades.length-1&&(t.job_grade=this.job.grades[r+1].grade,this.saveEmployeeData(t))},demoteEmployee(s){const t=this.job.employees.find(c=>c.identifier===s),r=this.job.grades.findIndex(c=>c.grade===t.job_grade);r>0&&(t.job_grade=this.job.grades[r-1].grade,this.saveEmployeeData(t))},fireEmployee(s){const t=this.job.employees.find(r=>r.identifier===s);this.job.employees=this.job.employees.filter(r=>r.identifier!==s),this.$emit("update-job",this.job),fetch(`https://${GetParentResourceName()}/saveEmployee`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,employee:t,fire:!0})})},saveEmployeeData(s){fetch(`https://${GetParentResourceName()}/saveEmployee`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,employee:s})}).then(t=>t.json()).then(t=>{t.success&&this.$emit("update-job",this.job)}).catch(t=>{console.error("Failed to save employee data:",t)})},canPromote(s){const t=this.job.grades.findIndex(r=>r.grade===s.job_grade);return t<this.job.grades.length-1&&this.job.grades[t+1]},canDemote(s){const t=this.job.grades.findIndex(r=>r.grade===s.job_grade);return t>0&&this.job.grades[t-1]}}},Xt=s=>(C("data-v-5c7ff4a0"),s=s(),S(),s),Zt={class:"overflow-y-auto max-h-[50vh]"},eo={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},to=Xt(()=>e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"First Name"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Last Name"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Grade"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),oo={class:"bg-gray-700 divide-y divide-gray-600"},ro={class:"px-4 py-2"},so={class:"px-4 py-2"},no={class:"px-4 py-2"},lo={class:"px-4 py-2"},ao=["onClick"],io=["onClick"],bo=["onClick"];function uo(s,t,r,c,n,b){return i(),u("div",Zt,[e("table",eo,[to,e("tbody",oo,[(i(!0),u(g,null,y(r.job.employees,(o,p)=>(i(),u("tr",{key:o.identifier},[e("td",ro,h(o.firstname),1),e("td",so,h(o.lastname),1),e("td",no,h(b.getGradeLabel(o.job_grade)),1),e("td",lo,[b.canPromote(o)?(i(),u("button",{key:0,onClick:a=>b.promoteEmployee(o.identifier),class:"bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600"},"Promote",8,ao)):x("",!0),b.canDemote(o)?(i(),u("button",{key:1,onClick:a=>b.demoteEmployee(o.identifier),class:"bg-yellow-500 text-white px-2 py-1 rounded hover:bg-yellow-600"},"Demote",8,io)):x("",!0),r.job.name!=="unemployed"?(i(),u("button",{key:2,onClick:a=>b.fireEmployee(o.identifier),class:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600"},"Fire",8,bo)):x("",!0)])]))),128))])])])}const co=v(Qt,[["render",uo],["__scopeId","data-v-5c7ff4a0"]]),po={},ho={class:"under-construction"},mo=e("div",{class:"message"},[e("span",{class:"text"},"ðŸš§ Under Construction ðŸ‘·â€â™€ï¸ðŸš§"),e("br"),e("span",{class:"text"},"This site is not available right now.")],-1),go=[mo];function yo(s,t){return i(),u("div",ho,go)}const xo=v(po,[["render",yo]]),fo={props:["job"],data(){return{showAddShopPopup:!1,newShop:{coords:{x:0,y:0,z:0},name:"",items:[]}}},beforeMount(){this.job.shops=JSON.parse(this.job.ludaro_manager_shops||"[]"),this.job.shops||(this.job.shops=[]),this.job.shops=this.job.shops.map(s=>({coords:s.coords||{x:0,y:0,z:0},name:s.name||"",items:s.items?s.items.map(t=>({name:t.name||"",price:t.price||0,stock:t.stock||0,minimumGrade:t.minimumGrade||""})):[]})),console.log("Loaded job data:",JSON.stringify(this.job.shops))},methods:{fetchCurrentCoords(s=null,t=!1){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(r=>r.json()).then(r=>{r&&(t?this.newShop.coords={x:r.x,y:r.y,z:r.z}:this.job.shops[s].coords={x:r.x,y:r.y,z:r.z},console.log("Updated coords:",r),this.$emit("update-job",this.job))}).catch(r=>{console.error("Failed to fetch current coords:",r)})},addItem(s){this.job.shops[s].items||(this.job.shops[s].items=[]),this.job.shops[s].items.push({name:"",price:0,stock:0,minimumGrade:""}),console.log("Added new item to shop:",s,this.job.shops[s].items),this.$emit("update-job",this.job)},removeItem(s,t){this.job.shops[s].items.splice(t,1),console.log("Removed item from shop:",s,this.job.shops[s].items),this.$emit("update-job",this.job)},addNewItem(){this.newShop.items.push({name:"",price:0,stock:0,minimumGrade:""}),console.log("Added new item to new shop:",this.newShop.items)},removeNewItem(s){this.newShop.items.splice(s,1),console.log("Removed item from new shop:",s,this.newShop.items)},addNewShop(){Array.isArray(this.job.shops)||(this.job.shops=[]),this.job.shops.push({...this.newShop}),console.log("Added new shop:",this.newShop),this.showAddShopPopup=!1,this.newShop={coords:{x:0,y:0,z:0},name:"",items:[]},this.$emit("update-job",this.job)},removeShop(s){this.job.shops.splice(s,1),console.log("Removed shop:",s,this.job.shops),this.$emit("update-job",this.job)}}},wo={class:"overflow-y-auto max-h-[50vh]"},_o={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},vo=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Coords"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Name"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Items"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Actions")])],-1),ko={class:"bg-gray-700 divide-y divide-gray-600"},jo={class:"px-4 py-2"},Co=["onUpdate:modelValue"],So=["onUpdate:modelValue"],Uo=["onUpdate:modelValue"],Vo=["onClick"],Po={class:"px-4 py-2"},Io=["onUpdate:modelValue"],No={class:"px-4 py-2"},Jo=["onUpdate:modelValue"],Go={class:"flex space-x-2"},Mo={class:"w-1/3"},$o=e("label",{class:"block mb-2"},"Price",-1),zo=["onUpdate:modelValue"],To={class:"w-1/3"},Ao=e("label",{class:"block mb-2"},"Stock",-1),Oo=["onUpdate:modelValue"],Do={class:"w-1/3"},Ro=e("label",{class:"block mb-2"},"Grade",-1),Ho=["onUpdate:modelValue"],Fo=["value"],Eo=["onClick"],Bo=["onClick"],Lo={class:"px-4 py-2"},Wo=["onClick"],Yo={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},qo={class:"bg-gray-800 text-white p-4 rounded w-1/2 overflow-auto max-h-[90vh]"},Ko=e("h3",{class:"text-lg font-bold mb-4"},"Add New Shop",-1),Qo={class:"mb-4"},Xo=e("label",{class:"block mb-2"},"Coords",-1),Zo={class:"mb-4"},er=e("label",{class:"block mb-2"},"Name",-1),tr={class:"mb-4"},or=e("label",{class:"block mb-2"},"Items",-1),rr=["onUpdate:modelValue"],sr={class:"flex space-x-2"},nr={class:"w-1/3"},lr=e("label",{class:"block mb-2"},"Price",-1),ar=["onUpdate:modelValue"],dr={class:"w-1/3"},ir=e("label",{class:"block mb-2"},"Stock",-1),br=["onUpdate:modelValue"],ur={class:"w-1/3"},cr=e("label",{class:"block mb-2"},"Grade",-1),pr=["onUpdate:modelValue"],hr=["value"],mr=["onClick"],gr={class:"mt-4"};function yr(s,t,r,c,n,b){return i(),u("div",wo,[e("table",_o,[vo,e("tbody",ko,[(i(!0),u(g,null,y(r.job.shops,(o,p)=>(i(),u("tr",{key:p},[e("td",jo,[l(e("input",{type:"number","onUpdate:modelValue":a=>o.coords.x=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,8,Co),[[d,o.coords.x]]),l(e("input",{type:"number","onUpdate:modelValue":a=>o.coords.y=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,8,So),[[d,o.coords.y]]),l(e("input",{type:"number","onUpdate:modelValue":a=>o.coords.z=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,8,Uo),[[d,o.coords.z]]),e("button",{onClick:a=>b.fetchCurrentCoords(p),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Coords",8,Vo)]),e("td",Po,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.name=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Shop Name"},null,8,Io),[[d,o.name]])]),e("td",No,[(i(!0),u(g,null,y(o.items,(a,U)=>(i(),u("div",{key:U,class:"mb-4"},[l(e("input",{type:"text","onUpdate:modelValue":f=>a.name=f,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Item Name"},null,8,Jo),[[d,a.name]]),e("div",Go,[e("div",Mo,[$o,l(e("input",{type:"number","onUpdate:modelValue":f=>a.price=f,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Price"},null,8,zo),[[d,a.price]])]),e("div",To,[Ao,l(e("input",{type:"number","onUpdate:modelValue":f=>a.stock=f,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Stock"},null,8,Oo),[[d,a.stock]])]),e("div",Do,[Ro,l(e("select",{"onUpdate:modelValue":f=>a.minimumGrade=f,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(i(!0),u(g,null,y(r.job.grades,f=>(i(),u("option",{key:f.grade,value:f.grade},h(f.label)+" (ID: "+h(f.grade)+") ",9,Fo))),128))],8,Ho),[[_,a.minimumGrade]])])]),e("button",{onClick:f=>b.removeItem(p,U),class:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600"},"Remove Item",8,Eo)]))),128)),e("button",{onClick:a=>b.addItem(p),class:"bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600"},"Add Item",8,Bo)]),e("td",Lo,[e("button",{onClick:a=>b.removeShop(p),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Remove Shop",8,Wo)])]))),128))])]),e("button",{onClick:t[0]||(t[0]=o=>n.showAddShopPopup=!0),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},"Add Shop"),n.showAddShopPopup?(i(),u("div",Yo,[e("div",qo,[Ko,e("div",Qo,[Xo,l(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=o=>n.newShop.coords.x=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,n.newShop.coords.x]]),l(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>n.newShop.coords.y=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,n.newShop.coords.y]]),l(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>n.newShop.coords.z=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,n.newShop.coords.z]]),e("button",{onClick:t[4]||(t[4]=o=>b.fetchCurrentCoords(null,!0)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Coords")]),e("div",Zo,[er,l(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>n.newShop.name=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Shop Name"},null,512),[[d,n.newShop.name]])]),e("div",tr,[or,(i(!0),u(g,null,y(n.newShop.items,(o,p)=>(i(),u("div",{key:p,class:"mb-4"},[l(e("input",{type:"text","onUpdate:modelValue":a=>o.name=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Item Name"},null,8,rr),[[d,o.name]]),e("div",sr,[e("div",nr,[lr,l(e("input",{type:"number","onUpdate:modelValue":a=>o.price=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Price"},null,8,ar),[[d,o.price]])]),e("div",dr,[ir,l(e("input",{type:"number","onUpdate:modelValue":a=>o.stock=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Stock"},null,8,br),[[d,o.stock]])]),e("div",ur,[cr,l(e("select",{"onUpdate:modelValue":a=>o.minimumGrade=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(i(!0),u(g,null,y(r.job.grades,a=>(i(),u("option",{key:a.grade,value:a.grade},h(a.label)+" (ID: "+h(a.grade)+") ",9,hr))),128))],8,pr),[[_,o.minimumGrade]])])]),e("button",{onClick:a=>b.removeNewItem(p),class:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600"},"Remove Item",8,mr)]))),128)),e("button",{onClick:t[6]||(t[6]=(...o)=>b.addNewItem&&b.addNewItem(...o)),class:"bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600"},"Add Item")]),e("div",gr,[e("button",{onClick:t[7]||(t[7]=(...o)=>b.addNewShop&&b.addNewShop(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Add Shop"),e("button",{onClick:t[8]||(t[8]=o=>n.showAddShopPopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"Cancel")])])])):x("",!0)])}const xr=v(fo,[["render",yr]]),fr={props:["job"],data(){return{showAddProcessingPopup:!1,newProcessing:{inputItems:"",outputItem:"",seconds:0,animationDir:"",animation:"",minimumGrade:"",coords:{x:null,y:null,z:null}}}},methods:{fetchCurrentCoords(s=null,t=!1){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(r=>r.json()).then(r=>{if(r){const c={x:r.x||0,y:r.y||0,z:r.z||0};t?this.newProcessing.coords=c:this.job.ludaro_manager_processing[s]&&(this.job.ludaro_manager_processing[s].coords=c),this.$emit("update-job",this.job)}}).catch(r=>{console.error("Failed to fetch current coords:",r)})},addNewProcessing(){Array.isArray(this.job.ludaro_manager_processing)||(this.job.ludaro_manager_processing=[]),this.job.ludaro_manager_processing.push({...this.newProcessing}),this.showAddProcessingPopup=!1,this.newProcessing={inputItems:"",outputItem:"",seconds:0,animationDir:"",animation:"",minimumGrade:"",coords:{x:null,y:null,z:null}},this.$emit("update-job",this.job)},removeProcessing(s){this.job.ludaro_manager_processing&&this.job.ludaro_manager_processing[s]&&(this.job.ludaro_manager_processing.splice(s,1),this.$emit("update-job",this.job))}}},wr={class:"overflow-y-auto max-h-[50vh]"},_r={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},vr=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Input Items"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Output Item"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Seconds"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Animation Dir"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Animation"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Min Grade"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Coords"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Actions")])],-1),kr={class:"bg-gray-700 divide-y divide-gray-600"},jr={class:"px-4 py-2"},Cr=["onUpdate:modelValue"],Sr={class:"px-4 py-2"},Ur=["onUpdate:modelValue"],Vr={class:"px-4 py-2"},Pr=["onUpdate:modelValue"],Ir={class:"px-4 py-2"},Nr=["onUpdate:modelValue"],Jr={class:"px-4 py-2"},Gr=["onUpdate:modelValue"],Mr={class:"px-4 py-2"},$r=["onUpdate:modelValue"],zr=["value"],Tr={class:"px-4 py-2"},Ar=["onUpdate:modelValue"],Or=["onUpdate:modelValue"],Dr=["onUpdate:modelValue"],Rr=["onClick"],Hr={class:"px-4 py-2"},Fr=["onClick"],Er={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},Br={class:"bg-gray-800 text-white p-4 rounded w-1/2 overflow-auto max-h-[90vh]"},Lr=e("h3",{class:"text-lg font-bold mb-4"},"Add New Processing",-1),Wr={class:"mb-4"},Yr=e("label",{class:"block mb-2"},"Input Items",-1),qr={class:"mb-4"},Kr=e("label",{class:"block mb-2"},"Output Item",-1),Qr={class:"mb-4"},Xr=e("label",{class:"block mb-2"},"Seconds",-1),Zr={class:"mb-4"},es=e("label",{class:"block mb-2"},"Animation Dir",-1),ts={class:"mb-4"},os=e("label",{class:"block mb-2"},"Animation",-1),rs={class:"mb-4"},ss=e("label",{class:"block mb-2"},"Min Grade",-1),ns=["value"],ls={class:"mb-4"},as=e("label",{class:"block mb-2"},"Coords",-1),ds={class:"mt-4"};function is(s,t,r,c,n,b){return i(),u("div",wr,[e("table",_r,[vr,e("tbody",kr,[(i(!0),u(g,null,y(r.job.ludaro_manager_processing,(o,p)=>(i(),u("tr",{key:p},[e("td",jr,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.inputItems=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Cr),[[d,o.inputItems]])]),e("td",Sr,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.outputItem=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Ur),[[d,o.outputItem]])]),e("td",Vr,[l(e("input",{type:"number","onUpdate:modelValue":a=>o.seconds=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Pr),[[d,o.seconds]])]),e("td",Ir,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.animationDir=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Nr),[[d,o.animationDir]])]),e("td",Jr,[l(e("input",{type:"text","onUpdate:modelValue":a=>o.animation=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,Gr),[[d,o.animation]])]),e("td",Mr,[l(e("select",{"onUpdate:modelValue":a=>o.minimumGrade=a,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[(i(!0),u(g,null,y(r.job.grades,a=>(i(),u("option",{key:a.grade,value:a.grade},h(a.label)+" (ID: "+h(a.grade)+") ",9,zr))),128))],8,$r),[[_,o.minimumGrade]])]),e("td",Tr,[l(e("input",{type:"number","onUpdate:modelValue":a=>o.coords.x=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,8,Ar),[[d,o.coords.x]]),l(e("input",{type:"number","onUpdate:modelValue":a=>o.coords.y=a,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,8,Or),[[d,o.coords.y]]),l(e("input",{type:"number","onUpdate:modelValue":a=>o.coords.z=a,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,8,Dr),[[d,o.coords.z]]),e("button",{onClick:a=>b.fetchCurrentCoords(p),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Coords",8,Rr)]),e("td",Hr,[e("button",{onClick:a=>b.removeProcessing(p),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Remove",8,Fr)])]))),128))])]),e("button",{onClick:t[0]||(t[0]=o=>n.showAddProcessingPopup=!0),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},"Add Processing"),n.showAddProcessingPopup?(i(),u("div",Er,[e("div",Br,[Lr,e("div",Wr,[Yr,l(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>n.newProcessing.inputItems=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.inputItems]])]),e("div",qr,[Kr,l(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>n.newProcessing.outputItem=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.outputItem]])]),e("div",Qr,[Xr,l(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>n.newProcessing.seconds=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.seconds]])]),e("div",Zr,[es,l(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>n.newProcessing.animationDir=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.animationDir]])]),e("div",ts,[os,l(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>n.newProcessing.animation=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newProcessing.animation]])]),e("div",rs,[ss,l(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>n.newProcessing.minimumGrade=o),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[(i(!0),u(g,null,y(r.job.grades,o=>(i(),u("option",{key:o.grade,value:o.grade},h(o.label)+" (ID: "+h(o.grade)+") ",9,ns))),128))],512),[[_,n.newProcessing.minimumGrade]])]),e("div",ls,[as,l(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=o=>n.newProcessing.coords.x=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,n.newProcessing.coords.x]]),l(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=o=>n.newProcessing.coords.y=o),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,n.newProcessing.coords.y]]),l(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=o=>n.newProcessing.coords.z=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,n.newProcessing.coords.z]]),e("button",{onClick:t[10]||(t[10]=o=>b.fetchCurrentCoords(null,!0)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},"Use Current Coords")]),e("div",ds,[e("button",{onClick:t[11]||(t[11]=(...o)=>b.addNewProcessing&&b.addNewProcessing(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Add Processing"),e("button",{onClick:t[12]||(t[12]=o=>n.showAddProcessingPopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"Cancel")])])])):x("",!0)])}const bs=v(fr,[["render",is]]),us={data(){return{loading:!0,loadingData:!1,jobs:{},interactions:[],editingJobName:null,activeTab:"JobInfo",showAddJobPopup:!1,newJob:{name:"",label:"",whitelisted:!1,grades:[],vehicles:[],bossmenu:{coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},onOffDutyCoords:{x:null,y:null,z:null},garageCoords:{x:null,y:null,z:null},stashes:[],shops:[],processing:[],vehicleShop:{coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]}},newGrade:{grade:"",name:"",label:"",salary:0},newInteraction:"",newVehicle:{name:"",price:0,paidBy:"society",grade:""},jobToDelete:null,tabs:["JobInfo","Grades","BossMenu","Interactions","Garage","OnOffDuty","Employees","Stashes","Shops","Processing"],error:""}},mounted(){this.fetchJobsAndInteractions()},computed:{activeTabComponent(){return{JobInfo:z,Grades:ie,BossMenu:ke,Interactions:Ae,Garage:At,OnOffDuty:Kt,Employees:co,Stashes:xo,Shops:xr,Processing:bs}[this.activeTab]||"div"}},methods:{async fetchJobsAndInteractions(){try{this.loading=!0;const t=await(await fetch(`https://${GetParentResourceName()}/getJobData`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json(),c=await(await fetch(`https://${GetParentResourceName()}/getInteractions`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();Object.keys(t).forEach(n=>{t[n].grades||(t[n].grades=[]),(!t[n].interactions||t[n].interactions.length===0)&&(t[n].interactions=[]),t[n].vehicles||(t[n].vehicles=[]),t[n].bossmenu||(t[n].bossmenu={coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1}),t[n].onOffDutyCoords||(t[n].onOffDutyCoords={x:null,y:null,z:null}),t[n].garageCoords||(t[n].garageCoords={x:null,y:null,z:null}),t[n].employees||(t[n].employees=[]),t[n].marker||(t[n].marker={r:0,g:0,b:0}),t[n].vehicleShop||(t[n].vehicleShop={coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]})}),this.jobs=t,this.interactions=c.filter(n=>n!=="[]"),this.loading=!1}catch(s){console.error("Failed to fetch job or interaction data:",s),this.loading=!1}},editJob(s){this.editingJobName=s,this.activeTab="JobInfo"},saveJob(s){const t=this.jobs[s],r={name:t.name,label:t.label,whitelisted:t.whitelisted,grades:t.grades,vehicles:t.vehicles,bossmenu:{coords:t.bossmenu.coords,grade:t.bossmenu.grade,type:t.bossmenu.type,npcModel:t.bossmenu.npcModel,npcHeading:t.bossmenu.npcHeading,npcRange:t.bossmenu.npcRange,markerId:t.bossmenu.markerId,markerColor:t.bossmenu.markerColor,markerScale:t.bossmenu.markerScale},interactions:t.interactions,garage:t.garage,onoffduty:t.onoffduty,stashes:t.stashes,shops:t.shops,processing:t.processing,vehicleShop:{coords:t.vehicleShop.coords,type:t.vehicleShop.type,npcModel:t.vehicleShop.npcModel,npcHeading:t.vehicleShop.npcHeading,markerId:t.vehicleShop.markerId,markerColor:t.vehicleShop.markerColor,markerScale:t.vehicleShop.markerScale,vehicles:t.vehicleShop.vehicles}};fetch(`https://${GetParentResourceName()}/saveJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(r)}).then(c=>c.json()).then(c=>{c.success&&(this.editingJobName=null,this.refreshData())}).catch(c=>{console.error("Failed to save job:",c)})},cancelEdit(){this.editingJobName=null,this.fetchJobsAndInteractions()},confirmDeleteJob(s){this.jobToDelete=s},deleteJob(s){const t=this.jobs[s];fetch(`https://${GetParentResourceName()}/deleteJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:t.name})}).then(r=>r.json()).then(r=>{if(r.success){const c={...this.jobs};delete c[s],this.jobs=c,this.jobToDelete=null}}).catch(r=>{console.error("Failed to delete job:",r)})},openAddJobPopup(){this.showAddJobPopup=!0},addNewJob(){if(Object.values(this.jobs).some(t=>t.name===this.newJob.name||t.label===this.newJob.label)){this.error="A job with the same name or label already exists. Please use a different name or label.";return}fetch(`https://${GetParentResourceName()}/addJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(this.newJob)}).then(t=>t.json()).then(t=>{t.success?(this.jobs={...this.jobs,[t.jobName]:this.newJob},this.showAddJobPopup=!1,this.newJob={name:"",label:"",whitelisted:!1,grades:[],vehicles:[],bossmenu:{coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},onOffDutyCoords:{x:null,y:null,z:null},garageCoords:{x:null,y:null,z:null},stashes:[],shops:[],processing:[],vehicleShop:{coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]}},this.refreshData()):this.error="Failed to add new job. Please try again."}).catch(t=>{console.error("Failed to add new job:",t),this.error="Failed to add new job. Please try again."})},refreshData(){this.loadingData=!0,this.fetchJobsAndInteractions().then(()=>{this.loadingData=!1})},updateJob(s){this.jobs[this.editingJobName]=s}}},w=s=>(C("data-v-a44cb024"),s=s(),S(),s),cs={key:0,class:"flex justify-center items-center h-screen"},ps=w(()=>e("span",{class:"text-2xl text-white"},"Loading...",-1)),hs=[ps],ms={key:1,class:"container mx-auto p-4 overflow-auto max-h-[90vh]"},gs={class:"overflow-x-auto"},ys={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},xs=w(()=>e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Job Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Job Label"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Whitelisted"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Active Players"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),fs={class:"bg-gray-700 divide-y divide-gray-600"},ws=["onClick"],_s={class:"px-6 py-4 whitespace-nowrap"},vs={class:"px-6 py-4 whitespace-nowrap"},ks={class:"px-6 py-4 whitespace-nowrap"},js={class:"px-6 py-4 whitespace-nowrap"},Cs={class:"px-6 py-4 whitespace-nowrap"},Ss=["onClick"],Us={key:2,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},Vs={class:"bg-gray-800 text-white p-4 rounded w-3/4 overflow-auto max-h-[90vh]"},Ps=w(()=>e("h3",{class:"text-lg font-bold mb-4"},"Edit Job",-1)),Is={class:"mb-4"},Ns=w(()=>e("label",{class:"block mb-2"},"Job Name",-1)),Js={class:"mb-4"},Gs=w(()=>e("label",{class:"block mb-2"},"Job Label",-1)),Ms={class:"mb-4"},$s=w(()=>e("label",{class:"block mb-2"},"Whitelisted",-1)),zs={class:"mb-4"},Ts={class:"flex mb-4 border-b border-gray-600"},As=["onClick"],Os={class:"mt-4"},Ds={key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},Rs={class:"bg-gray-800 text-white p-4 rounded w-1/2"},Hs=w(()=>e("h3",{class:"text-lg font-bold mb-4"},"Add New Job",-1)),Fs={class:"mb-4"},Es=w(()=>e("label",{class:"block mb-2"},"Job Name",-1)),Bs={class:"mb-4"},Ls=w(()=>e("label",{class:"block mb-2"},"Job Label",-1)),Ws={class:"mb-4"},Ys=w(()=>e("label",{class:"block mb-2"},"Whitelisted",-1)),qs={class:"mt-4"},Ks={key:0,class:"mt-4 text-red-500"},Qs={key:4,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},Xs={class:"bg-gray-800 text-white p-4 rounded w-1/2"},Zs=w(()=>e("h3",{class:"text-lg font-bold mb-4"},"Confirm Delete Job",-1)),en=w(()=>e("p",null,"Are you sure you want to delete this job?",-1)),tn={class:"mt-4"};function on(s,t,r,c,n,b){return i(),u("div",null,[n.loading?(i(),u("div",cs,hs)):(i(),u("div",ms,[e("div",gs,[e("table",ys,[xs,e("tbody",fs,[(i(!0),u(g,null,y(n.jobs,(o,p)=>(i(),u("tr",{key:p,onClick:a=>b.editJob(p),class:"hover:bg-gray-600 cursor-pointer"},[e("td",_s,h(o.name),1),e("td",vs,h(o.label),1),e("td",ks,h(o.whitelisted?"âœ”ï¸":"âŒ"),1),e("td",js,h(o.activeplayers),1),e("td",Cs,[e("button",{onClick:I(a=>b.confirmDeleteJob(p),["stop"]),class:"text-red-500 hover:text-red-700"},"ðŸ—‘ï¸",8,Ss)])],8,ws))),128))])])]),e("button",{class:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",onClick:t[0]||(t[0]=(...o)=>b.openAddJobPopup&&b.openAddJobPopup(...o))},"Add New Job")])),n.editingJobName!==null?(i(),u("div",Us,[e("div",Vs,[Ps,e("div",Is,[Ns,l(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>n.jobs[n.editingJobName].name=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.jobs[n.editingJobName].name]])]),e("div",Js,[Gs,l(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>n.jobs[n.editingJobName].label=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.jobs[n.editingJobName].label]])]),e("div",Ms,[$s,l(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=o=>n.jobs[n.editingJobName].whitelisted=o)},null,512),[[k,n.jobs[n.editingJobName].whitelisted]])]),e("div",zs,[e("nav",Ts,[(i(!0),u(g,null,y(n.tabs,o=>(i(),u("a",{key:o,onClick:p=>n.activeTab=o,class:j(["cursor-pointer p-2 rounded-t-lg text-white",n.activeTab===o?"bg-blue-600":""])},h(o),11,As))),128))]),(i(),V(P(b.activeTabComponent),{job:n.jobs[n.editingJobName],onUpdateJob:b.updateJob},null,40,["job","onUpdateJob"]))]),e("div",Os,[e("button",{onClick:t[4]||(t[4]=o=>b.saveJob(n.editingJobName)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Save"),e("button",{onClick:t[5]||(t[5]=(...o)=>b.cancelEdit&&b.cancelEdit(...o)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"Cancel")])])])):x("",!0),n.showAddJobPopup?(i(),u("div",Ds,[e("div",Rs,[Hs,e("div",Fs,[Es,l(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>n.newJob.name=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newJob.name]])]),e("div",Bs,[Ls,l(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=o=>n.newJob.label=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.newJob.label]])]),e("div",Ws,[Ys,l(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=o=>n.newJob.whitelisted=o)},null,512),[[k,n.newJob.whitelisted]])]),e("div",qs,[e("button",{onClick:t[9]||(t[9]=(...o)=>b.addNewJob&&b.addNewJob(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Add Job"),e("button",{onClick:t[10]||(t[10]=o=>n.showAddJobPopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"Cancel")]),n.error?(i(),u("div",Ks,h(n.error),1)):x("",!0)])])):x("",!0),n.jobToDelete!==null?(i(),u("div",Qs,[e("div",Xs,[Zs,en,e("div",tn,[e("button",{onClick:t[11]||(t[11]=o=>b.deleteJob(n.jobToDelete)),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Yes"),e("button",{onClick:t[12]||(t[12]=o=>n.jobToDelete=null),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"No")])])])):x("",!0)])}const sn=v(us,[["render",on],["__scopeId","data-v-a44cb024"]]);export{sn as default};
