import{_ as w,i as S,r as m,o as $,c as r,a as o,t as i,F as y,b as x,d as l,e as j,u as T}from"./index-CaC7F69X.js";const I=864e5,p=Symbol.for("constructDateFrom");function D(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&p in t?t[p](e):t instanceof Date?new t.constructor(e):new Date(e)}function M(t,e){return D(t,t)}function b(t){const e=M(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function C(t,...e){const s=D.bind(null,e.find(c=>typeof c=="object"));return e.map(s)}function v(t,e){const s=M(t);return s.setHours(0,0,0,0),s}function N(t,e,s){const[c,u]=C(s==null?void 0:s.in,t,e),d=v(c),g=v(u),_=+d-b(d),f=+g-b(g);return Math.round((_-f)/I)}function O(t,e,s){const[c,u]=C(s==null?void 0:s.in,t,e),d=k(c,u),g=Math.abs(N(c,u));c.setDate(c.getDate()-d*g);const _=+(k(c,u)===-d),f=d*(g-_);return f===0?0:f}function k(t,e){const s=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return s<0?-1:s>0?1:s}const U={class:"home-page"},Y={class:"home-header text-center"},q={class:"text-5xl font-bold mb-6 text-white"},A={class:"text-xl mb-8 text-gray-300"},H={class:"quick-access text-center"},P={class:"text-3xl font-semibold mb-6 text-white"},z={class:"grid grid-cols-2 gap-6 justify-center"},B=["onClick"],L={class:"p-6 bg-gray-700 rounded-lg text-white text-center cursor-pointer hover:bg-gray-600 transition-colors duration-200"},E={class:"text-2xl font-medium"},G={class:"recent-updates mt-12 text-center mb-6"},R={class:"text-3xl font-semibold mt-6 text-white"},V={key:0,class:"text-gray-400"},J={key:1,class:"space-y-4"},K=["onClick"],Q={class:"text-left"},W={class:"text-xl text-white"},X={class:"text-sm text-gray-300"},Z={key:0,class:"text-blue-400"},ee={key:1,class:"text-blue-400"},te={key:0,class:"mt-4 bg-gray-700 p-4 rounded-lg"},se={class:"text-md text-gray-300"},ne={key:2,class:"text-gray-500"},oe={__name:"home",setup(t){const{t:e}=S.global;T();const s=[{route:"job",name:e("jobManagement")},{route:"farming",name:e("farmingManagement")},{route:"user",name:e("userManagement")},{route:"vehicle",name:e("vehicleManagement")}],c=m([]),u=m(""),d=m(!0),g=n=>{const h=c.value.find(a=>a.version===n);h.expanded=!h.expanded},_=n=>{const h=new Date(n);return O(new Date,h)},f=()=>{fetch(`https://${GetParentResourceName()}/GetChangelog`,{method:"POST"}).then(n=>n.json()).then(n=>{n.changelogs?c.value=n.changelogs.map(h=>({...h,expanded:!1})):u.value="Unable to fetch changelog details. Please try again later."}).catch(n=>{console.error("Failed to fetch changelog:",n),u.value="Unable to fetch changelog details. Please try again later."}).finally(()=>{d.value=!1})};return $(()=>{f()}),(n,h)=>(l(),r("div",U,[o("header",Y,[o("h1",q,i(n.$t("title")),1),o("p",A,i(n.$t("titleDesc")),1)]),o("section",H,[o("h2",P,i(n.$t("quickAccess")),1),o("div",z,[(l(),r(y,null,x(s,a=>o("div",{key:a.route,class:"quick-access-item",onClick:F=>n.navigateTo(a.route)},[o("div",L,[o("h3",E,i(a.name),1)])],8,B)),64))])]),o("section",G,[o("h2",R,i(n.$t("recentUpdates")),1),d.value?(l(),r("div",V,[o("p",null,i(n.$t("fetchingChangelog")),1)])):c.value.length?(l(),r("div",J,[(l(!0),r(y,null,x(c.value,a=>(l(),r("div",{key:a.version,class:"bg-gray-800 p-4 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors duration-200"},[o("div",{onClick:F=>g(a.version),class:"flex items-center justify-between cursor-pointer"},[o("div",Q,[o("h4",W,i(a.version),1),o("p",X,i(_(a.date))+" days ago",1)]),a.expanded?(l(),r("span",Z,"▼")):(l(),r("span",ee,"►"))],8,K),a.expanded?(l(),r("div",te,[o("p",se,i(a.changelog),1)])):j("",!0)]))),128))])):(l(),r("div",ne,[o("p",null,i(u.value||n.$t("noChangelog")),1)]))])]))}},ae=w(oe,[["__scopeId","data-v-a73f23b3"]]);export{ae as default};
