import{_ as w,o as u,c,a as e,t as l,w as a,v as d,b as f,F as m,r as y,d as g,e as k,n as C,f as v,g as _,h as S}from"./index-BAftAWIt.js";const $={props:["job"]},U={class:"block mb-2"},V={class:"block mb-2"},O={class:"block mb-2"},M={class:"block mb-2"};function P(o,t,n,p,s,i){return u(),c("div",null,[e("div",null,[e("label",U,l(o.$t("jobName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>n.job.name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.job.name]])]),e("div",null,[e("label",V,l(o.$t("jobLabel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>n.job.label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,n.job.label]])]),e("div",null,[e("label",O,l(o.$t("whitelisted")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=r=>n.job.whitelisted=r)},null,512),[[f,n.job.whitelisted]])]),e("div",null,[e("label",M,l(o.$t("societyPaid")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=r=>n.job.societypaid=r)},null,512),[[f,n.job.societypaid]])])])}const J=w($,[["render",P]]),N={props:["job"],data(){return{showAddGradePopup:!1,newGrade:{grade:"",name:"",label:"",salary:0},error:""}},methods:{addNewGrade(){if(this.job.grades.some(n=>n.name===this.newGrade.name||n.label===this.newGrade.label)){this.error="A grade with the same name or label already exists.";return}Array.isArray(this.job.grades)||(this.job.grades=[]);const t=Math.max(...this.job.grades.map(n=>n.grade),0);this.newGrade.grade=t+1,this.job.grades.push({...this.newGrade}),this.showAddGradePopup=!1,this.newGrade={grade:"",name:"",label:"",salary:0},this.error="",this.$emit("update-job",this.job)},removeGrade(o){this.job.grades.splice(o,1),this.$emit("update-job",this.job)},saveGrades(){fetch(`https://${GetParentResourceName()}/saveGrades`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,grades:this.job.grades})}).then(o=>o.json()).then(o=>{o.success||console.error("Failed to save grades")}).catch(o=>{console.error("Error saving grades:",o)})}}},D={class:"overflow-y-auto max-h-[50vh]"},I={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},z={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},T={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},G={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},H={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},B={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},F={class:"bg-gray-700 divide-y divide-gray-600"},R={class:"px-4 py-2"},A={class:"px-4 py-2"},E=["onUpdate:modelValue"],L={class:"px-4 py-2"},W=["onUpdate:modelValue"],K={class:"px-4 py-2"},X=["onUpdate:modelValue"],Y={class:"px-4 py-2"},Z=["onClick"],q={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},Q={class:"bg-gray-800 text-white p-4 rounded w-1/2"},ee={class:"text-lg font-bold mb-4"},te={class:"mb-4"},oe={class:"block mb-2"},re={class:"mb-4"},le={class:"block mb-2"},se={class:"mb-4"},ne={class:"block mb-2"},ae={class:"mt-4"},de={key:0,class:"text-red-500"};function ie(o,t,n,p,s,i){return u(),c("div",D,[e("table",I,[e("thead",null,[e("tr",null,[e("th",z,l(o.$t("gradeId")),1),e("th",T,l(o.$t("gradeSpawnName")),1),e("th",G,l(o.$t("gradeName")),1),e("th",H,l(o.$t("salary")),1),e("th",B,l(o.$t("actions")),1)])]),e("tbody",F,[(u(!0),c(m,null,y(n.job.grades,(r,h)=>(u(),c("tr",{key:h},[e("td",R,l(r.grade),1),e("td",A,[a(e("input",{type:"text","onUpdate:modelValue":b=>r.name=b,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,E),[[d,r.name]])]),e("td",L,[a(e("input",{type:"text","onUpdate:modelValue":b=>r.label=b,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,W),[[d,r.label]])]),e("td",K,[a(e("input",{type:"number","onUpdate:modelValue":b=>r.salary=b,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,X),[[d,r.salary]])]),e("td",Y,[e("button",{onClick:b=>i.removeGrade(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},l(o.$t("remove")),9,Z)])]))),128))])]),e("button",{onClick:t[0]||(t[0]=r=>s.showAddGradePopup=!0),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},l(o.$t("addGrade")),1),s.showAddGradePopup?(u(),c("div",q,[e("div",Q,[e("h3",ee,l(o.$t("addNewGrade")),1),e("div",te,[e("label",oe,l(o.$t("gradeSpawnName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>s.newGrade.name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,s.newGrade.name]])]),e("div",re,[e("label",le,l(o.$t("gradeName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=r=>s.newGrade.label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,s.newGrade.label]])]),e("div",se,[e("label",ne,l(o.$t("salary")),1),a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>s.newGrade.salary=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,s.newGrade.salary]])]),e("div",ae,[s.error?(u(),c("span",de,l(s.error),1)):g("",!0),e("button",{onClick:t[4]||(t[4]=(...r)=>i.addNewGrade&&i.addNewGrade(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("addGrade")),1),e("button",{onClick:t[5]||(t[5]=r=>s.showAddGradePopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},l(o.$t("cancel")),1)])])])):g("",!0),e("button",{onClick:t[6]||(t[6]=(...r)=>i.saveGrades&&i.saveGrades(...r)),class:"mt-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("saveGrades")),1)])}const be=w(N,[["render",ie]]),ue={props:["job"],data(){return{localBossMenu:{coords:{x:0,y:0,z:0},grade:0,type:"npc",npcModel:"",npcHeading:0,npcRange:0,marker:{markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,bobUpAndDown:!1,faceCamera:!1}}}},beforeMount(){try{const o=JSON.parse(this.job.ludaro_manager_bossmenu||"{}");this.localBossMenu={coords:o.coords||{x:0,y:0,z:0},grade:o.grade||0,type:o.type||"npc",npcModel:o.npcModel||"",npcHeading:o.npcHeading||0,npcRange:o.npcRange||0,marker:{markerId:o.marker?o.marker.markerId:0,markerColor:o.marker?o.marker.markerColor:{r:0,g:0,b:0},markerScale:o.marker?o.marker.markerScale:1,bobUpAndDown:o.marker?o.marker.bobUpAndDown:!1,faceCamera:o.marker?o.marker.faceCamera:!1}}}catch(o){console.error("Error parsing bossmenu data:",o)}},methods:{fetchCurrentCoords(){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o&&(this.localBossMenu.coords={x:o.x,y:o.y,z:o.z},this.updateJobBossMenu())}).catch(o=>{console.error("Failed to fetch current coords:",o)})},fetchCurrentHeading(){fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o.heading&&(this.localBossMenu.npcHeading=Math.round(o.heading),this.updateJobBossMenu())}).catch(o=>{console.error("Failed to fetch current heading:",o)})},initializeMarkerColor(){this.localBossMenu.marker.markerColor||(this.localBossMenu.marker.markerColor={r:0,g:0,b:0},this.updateJobBossMenu())},initializeGrade(o){this.localBossMenu.grade=o,this.updateJobBossMenu()},updateJobBossMenu(){this.job.bossmenu={...this.localBossMenu},this.$emit("update-job",this.job)}},watch:{localBossMenu:{handler(){this.updateJobBossMenu()},deep:!0}}},ce={class:"mb-4"},pe={class:"block mb-2 font-bold"},he={class:"flex"},ge={class:"flex flex-col"},me=e("label",{class:"mb-1"},"X:",-1),ye={class:"flex flex-col"},fe=e("label",{class:"mb-1"},"Y:",-1),ke={class:"flex flex-col"},we=e("label",{class:"mb-1"},"Z:",-1),xe={class:"mb-4"},ve={class:"block mb-2 font-bold"},Ce=["value"],je={class:"mb-4"},_e={class:"block mb-2 font-bold"},Se={value:"npc"},$e={value:"marker"},Ue={key:0},Ve={class:"flex flex-col"},Oe={class:"mb-1"},Me={class:"flex flex-col"},Pe={class:"mb-1"},Je={class:"flex flex-col"},Ne={class:"mb-1"},De={key:1},Ie={class:"flex flex-col"},ze={class:"mb-1"},Te={class:"flex"},Ge={class:"flex flex-col mr-2"},He=e("label",{class:"mb-1"},"R:",-1),Be={class:"flex flex-col mr-2"},Fe=e("label",{class:"mb-1"},"G:",-1),Re={class:"flex flex-col"},Ae=e("label",{class:"mb-1"},"B:",-1),Ee={class:"flex flex-col"},Le={class:"mb-1"},We={class:"flex flex-col"},Ke={class:"mb-1"},Xe={class:"flex flex-col"},Ye={class:"mb-1"};function Ze(o,t,n,p,s,i){return u(),c("div",null,[e("div",ce,[e("label",pe,l(o.$t("bossMenuCoords"))+" (x, y, z)",1),e("div",he,[e("div",ge,[me,a(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=r=>s.localBossMenu.coords.x=r),class:"w-full p-2 mr-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,s.localBossMenu.coords.x]])]),e("div",ye,[fe,a(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=r=>s.localBossMenu.coords.y=r),class:"w-full p-2 mr-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,s.localBossMenu.coords.y]])]),e("div",ke,[we,a(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>s.localBossMenu.coords.z=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,s.localBossMenu.coords.z]])])]),e("button",{onClick:t[3]||(t[3]=(...r)=>i.fetchCurrentCoords&&i.fetchCurrentCoords(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1)]),e("div",xe,[e("label",ve,l(o.$t("bossMenuGradeAccess")),1),a(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>s.localBossMenu.grade=r),onChange:t[5]||(t[5]=r=>o.initializegrade(s.localBossMenu.grade)),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[(u(!0),c(m,null,y(n.job.grades,r=>(u(),c("option",{key:r.grade,value:r.grade},l(r.label)+" (ID: "+l(r.grade)+") ",9,Ce))),128))],544),[[k,s.localBossMenu.grade]])]),e("div",je,[e("label",_e,l(o.$t("bossMenuNpcMarker")),1),a(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>s.localBossMenu.type=r),onChange:t[7]||(t[7]=(...r)=>i.initializeMarkerColor&&i.initializeMarkerColor(...r)),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",Se,l(o.$t("npc")),1),e("option",$e,l(o.$t("marker")),1)],544),[[k,s.localBossMenu.type]]),s.localBossMenu.type==="npc"?(u(),c("div",Ue,[e("div",Ve,[e("label",Oe,l(o.$t("npcModel"))+":",1),a(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=r=>s.localBossMenu.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,s.localBossMenu.npcModel]])]),e("div",Me,[e("label",Pe,l(o.$t("npcHeading"))+":",1),a(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>s.localBossMenu.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,s.localBossMenu.npcHeading]])]),e("div",Je,[e("label",Ne,l(o.$t("npcRange"))+":",1),a(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=r=>s.localBossMenu.npcRange=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Range"},null,512),[[d,s.localBossMenu.npcRange]])]),e("button",{onClick:t[11]||(t[11]=(...r)=>i.fetchCurrentHeading&&i.fetchCurrentHeading(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])):s.localBossMenu.type==="marker"?(u(),c("div",De,[e("div",Ie,[e("label",ze,l(o.$t("markerId"))+":",1),a(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=r=>s.localBossMenu.marker.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,s.localBossMenu.marker.markerId]])]),e("div",Te,[e("div",Ge,[He,a(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=r=>s.localBossMenu.marker.markerColor.r=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,s.localBossMenu.marker.markerColor.r]])]),e("div",Be,[Fe,a(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=r=>s.localBossMenu.marker.markerColor.g=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,s.localBossMenu.marker.markerColor.g]])]),e("div",Re,[Ae,a(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=r=>s.localBossMenu.marker.markerColor.b=r),class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,s.localBossMenu.marker.markerColor.b]])])]),e("div",Ee,[e("label",Le,l(o.$t("markerScale"))+":",1),a(e("input",{type:"number","onUpdate:modelValue":t[16]||(t[16]=r=>s.localBossMenu.marker.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,s.localBossMenu.marker.markerScale]])]),e("div",We,[e("label",Ke,l(o.$t("bobUpAndDown"))+":",1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=r=>s.localBossMenu.marker.bobUpAndDown=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[f,s.localBossMenu.marker.bobUpAndDown]])]),e("div",Xe,[e("label",Ye,l(o.$t("faceCamera"))+":",1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=r=>s.localBossMenu.marker.faceCamera=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[f,s.localBossMenu.marker.faceCamera]])])])):g("",!0)])])}const qe=w(ue,[["render",Ze]]),Qe={props:["job"],data(){return{newInteraction:"",availableInteractions:[],error:""}},mounted(){this.fetchAvailableInteractions(),this.job.interactions=JSON.parse(this.job.ludaro_manager_interactions||"[]")},methods:{async fetchAvailableInteractions(){try{const o=await fetch(`https://${GetParentResourceName()}/getInteractions`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})});this.availableInteractions=await o.json()}catch(o){console.error("Failed to fetch available interactions:",o),this.error="Failed to load interactions. Please try again later."}},async addInteraction(){if(!this.newInteraction){this.error="Please select a valid interaction.";return}if(this.error="",Array.isArray(this.job.interactions)||(this.job.interactions=[]),this.job.interactions.includes(this.newInteraction)){this.error="This interaction is already added.";return}try{const t=await(await fetch(`https://${GetParentResourceName()}/addInteraction`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,interaction:this.newInteraction})})).json();t.success===!0||t.success==="true"||t.success===void 0?(this.job.interactions.push(this.newInteraction),this.newInteraction="",this.$emit("update-job",this.job)):this.error="Failed to add interaction. Please try again."}catch(o){console.error("Failed to add interaction:",o),this.error="Failed to add interaction. Please try again."}},async removeInteraction(o){const t=this.job.interactions[o];try{const p=await(await fetch(`https://${GetParentResourceName()}/removeInteraction`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,interaction:t})})).json();p.success===!0||p.success==="true"||p.success===void 0?(this.job.interactions.splice(o,1),this.$emit("update-job",this.job)):this.error="Failed to remove interaction. Please try again."}catch(n){console.error("Failed to remove interaction:",n),this.error="Failed to remove interaction. Please try again."}}}},et={class:"overflow-y-auto max-h-[50vh]"},tt={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},ot={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},rt={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},lt={class:"bg-gray-700 divide-y divide-gray-600"},st={class:"px-4 py-2"},nt={class:"px-4 py-2"},at=["onClick"],dt={class:"mt-4"},it={class:"block mb-2"},bt={disabled:"",value:""},ut=["value"],ct={key:0,class:"text-red-500"};function pt(o,t,n,p,s,i){return u(),c("div",et,[e("table",tt,[e("thead",null,[e("tr",null,[e("th",ot,l(o.$t("interaction")),1),e("th",rt,l(o.$t("actions")),1)])]),e("tbody",lt,[(u(!0),c(m,null,y(n.job.interactions||[],(r,h)=>(u(),c("tr",{key:h},[e("td",st,l(r),1),e("td",nt,[e("button",{onClick:b=>i.removeInteraction(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},l(o.$t("remove")),9,at)])]))),128))])]),e("div",dt,[e("label",it,l(o.$t("selectInteraction")),1),a(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.newInteraction=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",bt,l(o.$t("selectInteractionPlaceholder")),1),(u(!0),c(m,null,y(s.availableInteractions,r=>(u(),c("option",{key:r.interaction_label,value:r.interaction_name},l(r.interaction_label),9,ut))),128))],512),[[k,s.newInteraction]]),s.error?(u(),c("span",ct,l(s.error),1)):g("",!0),e("button",{onClick:t[1]||(t[1]=(...r)=>i.addInteraction&&i.addInteraction(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("addInteraction")),1)])])}const ht=w(Qe,[["render",pt]]),gt={props:["job"],data(){return{activeTab:"garage"}},beforeMount(){const o=JSON.parse(this.job.ludaro_manager_garage||"{}");this.job.garage={coords:o.coords||{x:0,y:0,z:0},parkoutCoords:{x:o.parkoutCoords?o.parkoutCoords.x:0,y:o.parkoutCoords?o.parkoutCoords.y:0,z:o.parkoutCoords?o.parkoutCoords.z:0,heading:o.parkoutCoords?o.parkoutCoords.heading:0},type:o.type||"npc",npcModel:o.npcModel||"",npcHeading:o.npcHeading||0,markerId:o.markerId||0,markerColor:o.markerColor||{r:0,g:0,b:0},markerScale:o.markerScale||1};const t=JSON.parse(this.job.ludaro_manager_vehicleShop||"{}");this.job.vehicleShop={coords:t.coords||{x:0,y:0,z:0},parkoutCoords:{x:t.parkoutCoords?t.parkoutCoords.x:0,y:t.parkoutCoords?t.parkoutCoords.y:0,z:t.parkoutCoords?t.parkoutCoords.z:0,heading:t.parkoutCoords?t.parkoutCoords.heading:0},type:t.type||"npc",npcModel:t.npcModel||"",npcHeading:t.npcHeading||0,markerId:t.markerId||0,markerColor:t.markerColor||{r:0,g:0,b:0},markerScale:t.markerScale||1,vehicles:t.vehicles||[],buyWithSocietyMoney:t.buyWithSocietyMoney||!1}},methods:{fetchCurrentCoords(o){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(t=>t.json()).then(t=>{t&&(o==="garage"?this.job.garage.coords={x:t.x,y:t.y,z:t.z}:o==="garageParkout"?(this.job.garage.parkoutCoords.x=t.x,this.job.garage.parkoutCoords.y=t.y,this.job.garage.parkoutCoords.z=t.z):o==="vehicleShop"?this.job.vehicleShop.coords={x:t.x,y:t.y,z:t.z}:o==="vehicleShopParkout"&&(this.job.vehicleShop.parkoutCoords.x=t.x,this.job.vehicleShop.parkoutCoords.y=t.y,this.job.vehicleShop.parkoutCoords.z=t.z),this.$emit("update-job",this.job))}).catch(t=>{console.error("Failed to fetch current coords:",t)})},fetchCurrentHeading(o){console.log("fetchCurrentHeading called for section:",o),fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(t=>t.json()).then(t=>{console.log("Parsed heading data:",t),t.heading=Math.round(t.heading),t.heading&&(o==="vehicleShop"?this.job.vehicleShop.npcHeading=t.heading:o==="vehicleShopParkout"?this.job.vehicleShop.parkoutCoords.heading=t.heading:o==="garage"?this.job.garage.npcHeading=t.heading:o==="garageParkout"&&(this.job.garage.parkoutCoords.heading=t.heading),this.$emit("update-job",this.job))}).catch(t=>{console.error("Failed to fetch current heading:",t)})},initializeMarkerColor(o){o==="vehicleShop"?this.job.vehicleShop.markerColor||(this.job.vehicleShop.markerColor={r:0,g:0,b:0}):this.job.garage.markerColor||(this.job.garage.markerColor={r:0,g:0,b:0})},addVehicle(){this.job.vehicleShop.vehicles.push({model:"",label:"",price:0,grade:"",platePrefix:"",societyOwned:!1}),this.$emit("update-job",this.job)},removeVehicle(o){this.job.vehicleShop.vehicles.splice(o,1),this.$emit("update-job",this.job)}}},mt={class:"tabs"},yt={key:0},ft={class:"block mb-2"},kt={class:"mt-4"},wt={class:"block mb-2"},xt={class:"flex space-x-2"},vt={class:"mt-4"},Ct={class:"block mb-2"},jt={value:"npc"},_t={value:"marker"},St={key:0},$t={class:"block mb-2"},Ut={class:"block mb-2"},Vt={key:1},Ot={class:"block mb-2"},Mt={class:"block mb-2"},Pt={class:"block mb-2"},Jt={key:1},Nt={class:"block mb-2"},Dt={class:"mt-4"},It={class:"block mb-2"},zt={class:"flex space-x-2"},Tt={class:"mt-4"},Gt={class:"block mb-2"},Ht={value:"npc"},Bt={value:"marker"},Ft={key:0},Rt={class:"block mb-2"},At={class:"block mb-2"},Et={key:1},Lt={class:"block mb-2"},Wt={class:"block mb-2"},Kt={class:"block mb-2"},Xt={class:"mt-4"},Yt={class:"block mb-2"},Zt={class:"mt-4"},qt={class:"text-lg font-bold mb-2"},Qt={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},eo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},to={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},oo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},ro={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},lo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},so={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},no={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},ao={class:"bg-gray-700 divide-y divide-gray-600"},io={class:"px-4 py-2"},bo=["onUpdate:modelValue"],uo={class:"px-4 py-2"},co=["onUpdate:modelValue"],po={class:"px-4 py-2"},ho=["onUpdate:modelValue"],go={class:"px-4 py-2"},mo=["onUpdate:modelValue"],yo=["value"],fo={class:"px-4 py-2"},ko=["onUpdate:modelValue"],wo={class:"px-4 py-2"},xo=["onUpdate:modelValue"],vo={class:"px-4 py-2"},Co=["onClick"];function jo(o,t,n,p,s,i){return u(),c("div",null,[e("div",mt,[e("button",{class:C([{"active-tab":s.activeTab==="garage"},"tab-button"]),onClick:t[0]||(t[0]=r=>s.activeTab="garage")},l(o.$t("garage")),3),e("button",{class:C([{"active-tab":s.activeTab==="vehicleShop"},"tab-button"]),onClick:t[1]||(t[1]=r=>s.activeTab="vehicleShop")},l(o.$t("vehicleShop")),3)]),s.activeTab==="garage"?(u(),c("div",yt,[e("div",null,[e("label",ft,l(o.$t("garageCoords"))+" (x, y, z)",1),a(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>n.job.garage.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,n.job.garage.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>n.job.garage.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,n.job.garage.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=r=>n.job.garage.coords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,n.job.garage.coords.z]]),e("button",{onClick:t[5]||(t[5]=r=>i.fetchCurrentCoords("garage")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1)]),e("div",kt,[e("label",wt,l(o.$t("garageParkoutCoords"))+" (x, y, z, heading)",1),a(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=r=>n.job.garage.parkoutCoords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,n.job.garage.parkoutCoords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=r=>n.job.garage.parkoutCoords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,n.job.garage.parkoutCoords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=r=>n.job.garage.parkoutCoords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,n.job.garage.parkoutCoords.z]]),a(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>n.job.garage.parkoutCoords.heading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"heading"},null,512),[[d,n.job.garage.parkoutCoords.heading]]),e("div",xt,[e("button",{onClick:t[10]||(t[10]=r=>i.fetchCurrentCoords("garageParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1),e("button",{onClick:t[11]||(t[11]=r=>i.fetchCurrentHeading("garageParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])]),e("div",vt,[e("label",Ct,l(o.$t("garageMarkerNpc")),1),a(e("select",{"onUpdate:modelValue":t[12]||(t[12]=r=>n.job.garage.type=r),onChange:t[13]||(t[13]=r=>i.initializeMarkerColor("garage")),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",jt,l(o.$t("npc")),1),e("option",_t,l(o.$t("marker")),1)],544),[[k,n.job.garage.type]]),n.job.garage.type==="npc"?(u(),c("div",St,[e("label",$t,l(o.$t("npcModel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=r=>n.job.garage.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,n.job.garage.npcModel]]),e("label",Ut,l(o.$t("npcHeading")),1),a(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=r=>n.job.garage.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,n.job.garage.npcHeading]]),e("button",{onClick:t[16]||(t[16]=r=>i.fetchCurrentHeading("garage")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])):n.job.garage.type==="marker"?(u(),c("div",Vt,[e("label",Ot,l(o.$t("markerId")),1),a(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=r=>n.job.garage.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,n.job.garage.markerId]]),e("div",null,[e("label",Mt,l(o.$t("markerColor"))+" (RGB)",1),a(e("input",{type:"number","onUpdate:modelValue":t[18]||(t[18]=r=>n.job.garage.markerColor.r=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,n.job.garage.markerColor.r]]),a(e("input",{type:"number","onUpdate:modelValue":t[19]||(t[19]=r=>n.job.garage.markerColor.g=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,n.job.garage.markerColor.g]]),a(e("input",{type:"number","onUpdate:modelValue":t[20]||(t[20]=r=>n.job.garage.markerColor.b=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,n.job.garage.markerColor.b]])]),e("label",Pt,l(o.$t("markerScale")),1),a(e("input",{type:"number","onUpdate:modelValue":t[21]||(t[21]=r=>n.job.garage.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,n.job.garage.markerScale]])])):g("",!0)])])):s.activeTab==="vehicleShop"?(u(),c("div",Jt,[e("div",null,[e("label",Nt,l(o.$t("vehicleShopCoords"))+" (x, y, z)",1),a(e("input",{type:"number","onUpdate:modelValue":t[22]||(t[22]=r=>n.job.vehicleShop.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,n.job.vehicleShop.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[23]||(t[23]=r=>n.job.vehicleShop.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,n.job.vehicleShop.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[24]||(t[24]=r=>n.job.vehicleShop.coords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,n.job.vehicleShop.coords.z]]),e("button",{onClick:t[25]||(t[25]=r=>i.fetchCurrentCoords("vehicleShop")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1)]),e("div",Dt,[e("label",It,l(o.$t("vehicleShopParkoutCoords"))+" (x, y, z, heading)",1),a(e("input",{type:"number","onUpdate:modelValue":t[26]||(t[26]=r=>n.job.vehicleShop.parkoutCoords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,n.job.vehicleShop.parkoutCoords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[27]||(t[27]=r=>n.job.vehicleShop.parkoutCoords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,n.job.vehicleShop.parkoutCoords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[28]||(t[28]=r=>n.job.vehicleShop.parkoutCoords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,n.job.vehicleShop.parkoutCoords.z]]),a(e("input",{type:"number","onUpdate:modelValue":t[29]||(t[29]=r=>n.job.vehicleShop.parkoutCoords.heading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"heading"},null,512),[[d,n.job.vehicleShop.parkoutCoords.heading]]),e("div",zt,[e("button",{onClick:t[30]||(t[30]=r=>i.fetchCurrentCoords("vehicleShopParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1),e("button",{onClick:t[31]||(t[31]=r=>i.fetchCurrentHeading("vehicleShopParkout")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])]),e("div",Tt,[e("label",Gt,l(o.$t("vehicleShopMarkerNpc")),1),a(e("select",{"onUpdate:modelValue":t[32]||(t[32]=r=>n.job.vehicleShop.type=r),onChange:t[33]||(t[33]=r=>i.initializeMarkerColor("vehicleShop")),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",Ht,l(o.$t("npc")),1),e("option",Bt,l(o.$t("marker")),1)],544),[[k,n.job.vehicleShop.type]]),n.job.vehicleShop.type==="npc"?(u(),c("div",Ft,[e("label",Rt,l(o.$t("npcModel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[34]||(t[34]=r=>n.job.vehicleShop.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,n.job.vehicleShop.npcModel]]),e("label",At,l(o.$t("npcHeading")),1),a(e("input",{type:"number","onUpdate:modelValue":t[35]||(t[35]=r=>n.job.vehicleShop.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,n.job.vehicleShop.npcHeading]]),e("button",{onClick:t[36]||(t[36]=r=>i.fetchCurrentHeading("vehicleShop")),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])):n.job.vehicleShop.type==="marker"?(u(),c("div",Et,[e("label",Lt,l(o.$t("markerId")),1),a(e("input",{type:"number","onUpdate:modelValue":t[37]||(t[37]=r=>n.job.vehicleShop.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,n.job.vehicleShop.markerId]]),e("div",null,[e("label",Wt,l(o.$t("markerColor"))+" (RGB)",1),a(e("input",{type:"number","onUpdate:modelValue":t[38]||(t[38]=r=>n.job.vehicleShop.markerColor.r=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,n.job.vehicleShop.markerColor.r]]),a(e("input",{type:"number","onUpdate:modelValue":t[39]||(t[39]=r=>n.job.vehicleShop.markerColor.g=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,n.job.vehicleShop.markerColor.g]]),a(e("input",{type:"number","onUpdate:modelValue":t[40]||(t[40]=r=>n.job.vehicleShop.markerColor.b=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,n.job.vehicleShop.markerColor.b]])]),e("label",Kt,l(o.$t("markerScale")),1),a(e("input",{type:"number","onUpdate:modelValue":t[41]||(t[41]=r=>n.job.vehicleShop.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,n.job.vehicleShop.markerScale]])])):g("",!0)]),e("div",Xt,[e("label",Yt,l(o.$t("buyWithSocietyMoney")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[42]||(t[42]=r=>n.job.vehicleShop.buyWithSocietyMoney=r)},null,512),[[f,n.job.vehicleShop.buyWithSocietyMoney]])]),e("div",Zt,[e("h3",qt,l(o.$t("availableVehicles")),1),e("table",Qt,[e("thead",null,[e("tr",null,[e("th",eo,l(o.$t("model")),1),e("th",to,l(o.$t("label")),1),e("th",oo,l(o.$t("price")),1),e("th",ro,l(o.$t("grade")),1),e("th",lo,l(o.$t("platePrefix")),1),e("th",so,l(o.$t("societyOwned")),1),e("th",no,l(o.$t("actions")),1)])]),e("tbody",ao,[(u(!0),c(m,null,y(n.job.vehicleShop.vehicles,(r,h)=>(u(),c("tr",{key:h},[e("td",io,[a(e("input",{type:"text","onUpdate:modelValue":b=>r.model=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Model"},null,8,bo),[[d,r.model]])]),e("td",uo,[a(e("input",{type:"text","onUpdate:modelValue":b=>r.label=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Label"},null,8,co),[[d,r.label]])]),e("td",po,[a(e("input",{type:"number","onUpdate:modelValue":b=>r.price=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Price"},null,8,ho),[[d,r.price]])]),e("td",go,[a(e("select",{"onUpdate:modelValue":b=>r.grade=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(u(!0),c(m,null,y(n.job.grades,b=>(u(),c("option",{key:b.grade,value:b.grade},l(b.label)+" (ID: "+l(b.grade)+") ",9,yo))),128))],8,mo),[[k,r.grade]])]),e("td",fo,[a(e("input",{type:"text","onUpdate:modelValue":b=>r.platePrefix=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Plate Prefix"},null,8,ko),[[d,r.platePrefix]])]),e("td",wo,[a(e("input",{type:"checkbox","onUpdate:modelValue":b=>r.societyOwned=b},null,8,xo),[[f,r.societyOwned]])]),e("td",vo,[e("button",{onClick:b=>i.removeVehicle(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},l(o.$t("remove")),9,Co)])]))),128))])]),e("button",{onClick:t[43]||(t[43]=(...r)=>i.addVehicle&&i.addVehicle(...r)),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},l(o.$t("addVehicle")),1)])])):g("",!0)])}const _o=w(gt,[["render",jo],["__scopeId","data-v-495ad105"]]),So={props:["job"],data(){return{localOnOffDuty:{coords:{x:0,y:0,z:0},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1}}},beforeMount(){this.loadOnOffDutyData()},methods:{loadOnOffDutyData(){try{const o=JSON.parse(this.job.ludaro_manager_onoffduty||"{}");this.localOnOffDuty={coords:o.coords||{x:0,y:0,z:0},type:o.type||"npc",npcModel:o.npcModel||"",npcHeading:o.npcHeading||0,markerId:o.markerId||0,markerColor:o.markerColor||{r:0,g:0,b:0},markerScale:o.markerScale||1}}catch(o){console.error("Error parsing onoffduty data:",o)}},fetchCurrentCoords(){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o&&(this.localOnOffDuty.coords={x:o.x,y:o.y,z:o.z},this.updateJobOnOffDuty())}).catch(o=>{console.error("Failed to fetch current coords:",o)})},fetchCurrentHeading(){fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(o=>o.json()).then(o=>{o.heading&&(this.localOnOffDuty.npcHeading=Math.round(o.heading),this.updateJobOnOffDuty())}).catch(o=>{console.error("Failed to fetch current heading:",o)})},initializeMarkerColor(){this.localOnOffDuty.markerColor||(this.localOnOffDuty.markerColor={r:0,g:0,b:0})},updateJobOnOffDuty(){this.job.onoffduty={...this.localOnOffDuty},this.$emit("update-job",{...this.job})}},watch:{localOnOffDuty:{handler(){this.updateJobOnOffDuty()},deep:!0}}},$o={class:"block mb-2"},Uo={class:"mb-4"},Vo={class:"block mb-2"},Oo={value:"npc"},Mo={value:"marker"},Po={key:0},Jo={class:"mt-4"},No={class:"block mb-2"},Do={class:"mt-4"},Io={class:"block mb-2"},zo={key:1},To={class:"mt-4"},Go={class:"block mb-2"},Ho={class:"block mb-2"},Bo={class:"mt-4"},Fo={class:"block mb-2"};function Ro(o,t,n,p,s,i){return u(),c("div",null,[e("div",null,[e("label",$o,l(o.$t("onOffDutyCoords"))+" (x, y, z)",1),a(e("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=r=>s.localOnOffDuty.coords.x=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,512),[[d,s.localOnOffDuty.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=r=>s.localOnOffDuty.coords.y=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,512),[[d,s.localOnOffDuty.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=r=>s.localOnOffDuty.coords.z=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,512),[[d,s.localOnOffDuty.coords.z]]),e("button",{onClick:t[3]||(t[3]=(...r)=>i.fetchCurrentCoords&&i.fetchCurrentCoords(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),1)]),e("div",Uo,[e("label",Vo,l(o.$t("onOffDutyNpcMarker")),1),a(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>s.localOnOffDuty.type=r),onChange:t[5]||(t[5]=(...r)=>i.initializeMarkerColor&&i.initializeMarkerColor(...r)),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",Oo,l(o.$t("npc")),1),e("option",Mo,l(o.$t("marker")),1)],544),[[k,s.localOnOffDuty.type]]),s.localOnOffDuty.type==="npc"?(u(),c("div",Po,[e("div",Jo,[e("label",No,l(o.$t("npcModel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=r=>s.localOnOffDuty.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,s.localOnOffDuty.npcModel]])]),e("div",Do,[e("label",Io,l(o.$t("npcHeading")),1),a(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=r=>s.localOnOffDuty.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,s.localOnOffDuty.npcHeading]]),e("button",{onClick:t[8]||(t[8]=(...r)=>i.fetchCurrentHeading&&i.fetchCurrentHeading(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentHeading")),1)])])):s.localOnOffDuty.type==="marker"?(u(),c("div",zo,[e("div",To,[e("label",Go,l(o.$t("markerId")),1),a(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>s.localOnOffDuty.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,s.localOnOffDuty.markerId]])]),e("div",null,[e("label",Ho,l(o.$t("markerColor"))+" (RGB)",1),a(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=r=>s.localOnOffDuty.markerColor.r=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,s.localOnOffDuty.markerColor.r]]),a(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=r=>s.localOnOffDuty.markerColor.g=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,s.localOnOffDuty.markerColor.g]]),a(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=r=>s.localOnOffDuty.markerColor.b=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,s.localOnOffDuty.markerColor.b]])]),e("div",Bo,[e("label",Fo,l(o.$t("markerScale")),1),a(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=r=>s.localOnOffDuty.markerScale=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,512),[[d,s.localOnOffDuty.markerScale]])])])):g("",!0)])])}const Ao=w(So,[["render",Ro]]),Eo={props:["job"],methods:{getGradeLabel(o){const t=this.job.grades.find(n=>n.grade===o);return t?`${t.label} (ID: ${t.grade})`:"Unknown"},promoteEmployee(o){const t=this.job.employees.find(p=>p.identifier===o),n=this.job.grades.findIndex(p=>p.grade===t.job_grade);n<this.job.grades.length-1&&(t.job_grade=this.job.grades[n+1].grade,this.saveEmployeeData(t))},demoteEmployee(o){const t=this.job.employees.find(p=>p.identifier===o),n=this.job.grades.findIndex(p=>p.grade===t.job_grade);n>0&&(t.job_grade=this.job.grades[n-1].grade,this.saveEmployeeData(t))},fireEmployee(o){const t=this.job.employees.find(n=>n.identifier===o);this.job.employees=this.job.employees.filter(n=>n.identifier!==o),this.$emit("update-job",this.job),fetch(`https://${GetParentResourceName()}/saveEmployee`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,employee:t,fire:!0})})},saveEmployeeData(o){fetch(`https://${GetParentResourceName()}/saveEmployee`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.job.name,employee:o})}).then(t=>t.json()).then(t=>{t.success&&this.$emit("update-job",this.job)}).catch(t=>{console.error("Failed to save employee data:",t)})},canPromote(o){const t=this.job.grades.findIndex(n=>n.grade===o.job_grade);return t<this.job.grades.length-1&&this.job.grades[t+1]},canDemote(o){const t=this.job.grades.findIndex(n=>n.grade===o.job_grade);return t>0&&this.job.grades[t-1]}}},Lo={class:"overflow-y-auto max-h-[50vh]"},Wo={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},Ko={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Xo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Yo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Zo={class:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},qo={class:"bg-gray-700 divide-y divide-gray-600"},Qo={class:"px-4 py-2"},er={class:"px-4 py-2"},tr={class:"px-4 py-2"},or={class:"px-4 py-2"},rr=["onClick"],lr=["onClick"],sr=["onClick"];function nr(o,t,n,p,s,i){return u(),c("div",Lo,[e("table",Wo,[e("thead",null,[e("tr",null,[e("th",Ko,l(o.$t("firstName")),1),e("th",Xo,l(o.$t("lastName")),1),e("th",Yo,l(o.$t("grade")),1),e("th",Zo,l(o.$t("actions")),1)])]),e("tbody",qo,[(u(!0),c(m,null,y(n.job.employees,(r,h)=>(u(),c("tr",{key:r.identifier},[e("td",Qo,l(r.firstname),1),e("td",er,l(r.lastname),1),e("td",tr,l(i.getGradeLabel(r.job_grade)),1),e("td",or,[i.canPromote(r)?(u(),c("button",{key:0,onClick:b=>i.promoteEmployee(r.identifier),class:"bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600"},l(o.$t("promote")),9,rr)):g("",!0),i.canDemote(r)?(u(),c("button",{key:1,onClick:b=>i.demoteEmployee(r.identifier),class:"bg-yellow-500 text-white px-2 py-1 rounded hover:bg-yellow-600"},l(o.$t("demote")),9,lr)):g("",!0),n.job.name!=="unemployed"?(u(),c("button",{key:2,onClick:b=>i.fireEmployee(r.identifier),class:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600"},l(o.$t("fire")),9,sr)):g("",!0)])]))),128))])])])}const ar=w(Eo,[["render",nr],["__scopeId","data-v-81a8b0d9"]]),dr={props:["job"],data(){return{localStashes:[]}},beforeMount(){this.loadStashesData()},methods:{loadStashesData(){try{const o=JSON.parse(this.job.ludaro_manager_stashes||"[]");this.localStashes=o.map(t=>({coords:t.coords||{x:0,y:0,z:0},type:t.type||"npc",npcModel:t.npcModel||"",npcHeading:t.npcHeading||0,markerId:t.markerId||0,markerColor:t.markerColor||{r:0,g:0,b:0},markerScale:t.markerScale||1,slots:t.slots||0,weight:t.weight||0,official:t.official||!1}))}catch(o){console.error("Error parsing stashes data:",o),this.localStashes=[]}},fetchCurrentCoords(o){fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then(t=>t.json()).then(t=>{t&&(this.localStashes[o].coords={x:t.x,y:t.y,z:t.z},this.updateJobStashes())}).catch(t=>{console.error("Failed to fetch current coords:",t)})},initializeMarkerColor(o){this.localStashes[o].markerColor||(this.localStashes[o].markerColor={r:0,g:0,b:0})},addStash(){this.localStashes.push({coords:{x:0,y:0,z:0},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,slots:0,weight:0,official:!1}),this.updateJobStashes()},removeStash(o){this.localStashes.splice(o,1),this.updateJobStashes()},updateJobStashes(){this.job.stashes=[...this.localStashes],this.$emit("update-job",{...this.job})}},watch:{localStashes:{handler(){this.updateJobStashes()},deep:!0}}},ir={class:"text-lg font-bold mb-2"},br={class:"block mb-2"},ur=["onUpdate:modelValue"],cr=["onUpdate:modelValue"],pr=["onUpdate:modelValue"],hr={class:"flex space-x-2"},gr=["onClick"],mr={class:"mt-4"},yr={class:"block mb-2"},fr=["onUpdate:modelValue","onChange"],kr={value:"npc"},wr={value:"marker"},xr={key:0},vr={class:"block mb-2"},Cr=["onUpdate:modelValue"],jr={class:"block mb-2"},_r=["onUpdate:modelValue"],Sr={key:1},$r={class:"block mb-2"},Ur=["onUpdate:modelValue"],Vr={class:"block mb-2"},Or=["onUpdate:modelValue"],Mr=["onUpdate:modelValue"],Pr=["onUpdate:modelValue"],Jr={class:"block mb-2"},Nr=["onUpdate:modelValue"],Dr={class:"mt-4"},Ir={class:"block mb-2"},zr=["onUpdate:modelValue"],Tr={class:"mt-4"},Gr={class:"block mb-2"},Hr=["onUpdate:modelValue"],Br={class:"mt-4"},Fr={class:"block mb-2"},Rr=["onUpdate:modelValue"],Ar=["onClick"];function Er(o,t,n,p,s,i){return u(),c("div",null,[(u(!0),c(m,null,y(s.localStashes,(r,h)=>(u(),c("div",{key:h,class:"mb-4"},[e("h3",ir,l(o.$t("stash"))+" "+l(h+1),1),e("div",null,[e("label",br,l(o.$t("stashCoords"))+" (x, y, z)",1),a(e("input",{type:"number","onUpdate:modelValue":b=>r.coords.x=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"x"},null,8,ur),[[d,r.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":b=>r.coords.y=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"y"},null,8,cr),[[d,r.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":b=>r.coords.z=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"z"},null,8,pr),[[d,r.coords.z]]),e("div",hr,[e("button",{onClick:b=>i.fetchCurrentCoords(h),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mt-2"},l(o.$t("useCurrentCoords")),9,gr)])]),e("div",mr,[e("label",yr,l(o.$t("stashNpcMarker")),1),a(e("select",{"onUpdate:modelValue":b=>r.type=b,onChange:b=>i.initializeMarkerColor(h),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",kr,l(o.$t("npc")),1),e("option",wr,l(o.$t("marker")),1)],40,fr),[[k,r.type]]),r.type==="npc"?(u(),c("div",xr,[e("label",vr,l(o.$t("npcModel")),1),a(e("input",{type:"text","onUpdate:modelValue":b=>r.npcModel=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,8,Cr),[[d,r.npcModel]]),e("label",jr,l(o.$t("npcHeading")),1),a(e("input",{type:"number","onUpdate:modelValue":b=>r.npcHeading=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,8,_r),[[d,r.npcHeading]])])):r.type==="marker"?(u(),c("div",Sr,[e("label",$r,l(o.$t("markerId")),1),a(e("input",{type:"number","onUpdate:modelValue":b=>r.markerId=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,8,Ur),[[d,r.markerId]]),e("div",null,[e("label",Vr,l(o.$t("markerColor"))+" (RGB)",1),a(e("input",{type:"number","onUpdate:modelValue":b=>r.markerColor.r=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,8,Or),[[d,r.markerColor.r]]),a(e("input",{type:"number","onUpdate:modelValue":b=>r.markerColor.g=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,8,Mr),[[d,r.markerColor.g]]),a(e("input",{type:"number","onUpdate:modelValue":b=>r.markerColor.b=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,8,Pr),[[d,r.markerColor.b]])]),e("label",Jr,l(o.$t("markerScale")),1),a(e("input",{type:"number","onUpdate:modelValue":b=>r.markerScale=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker Scale"},null,8,Nr),[[d,r.markerScale]])])):g("",!0)]),e("div",Dr,[e("label",Ir,l(o.$t("slots")),1),a(e("input",{type:"number","onUpdate:modelValue":b=>r.slots=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Slots"},null,8,zr),[[d,r.slots]])]),e("div",Tr,[e("label",Gr,l(o.$t("weight")),1),a(e("input",{type:"number","onUpdate:modelValue":b=>r.weight=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Weight"},null,8,Hr),[[d,r.weight]])]),e("div",Br,[e("label",Fr,l(o.$t("officialStash")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":b=>r.official=b},null,8,Rr),[[f,r.official]])]),e("button",{onClick:b=>i.removeStash(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mt-2"},l(o.$t("removeStash")),9,Ar)]))),128)),e("button",{onClick:t[0]||(t[0]=(...r)=>i.addStash&&i.addStash(...r)),class:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},l(o.$t("addStash")),1)])}const Lr=w(dr,[["render",Er]]),Wr={props:["job"],data(){return{localClothes:[],npcSettings:{type:"npc",npcModel:"",npcHeading:0,coords:{x:0,y:0,z:0},markerId:0,markerCoords:{x:0,y:0,z:0},markerColor:{r:0,g:0,b:0}},clothingFields:{hair:0,face:0,glasses:0,mask:0,top:0,pants:0,shoes:0,accessories:0,undershirt:0,vest:0,badges:0,hat:0,backpack:0}}},beforeMount(){this.loadClothesData()},methods:{async loadClothesData(){try{let o=JSON.parse(this.job.ludaro_manager_clothing||"{}");if(typeof o=="string"&&(o=JSON.parse(o)),typeof o=="object"&&o!==null)this.localClothes=o.localClothes.map(t=>({...t,skin:{...this.clothingFields,...t.skin}})),this.npcSettings=o.npcSettings||this.getDefaultNpcSettings();else throw new Error("Parsed data is neither an array nor a valid object")}catch(o){console.error("Error loading data:",o),this.localClothes=[],this.npcSettings=this.getDefaultNpcSettings()}},getDefaultNpcSettings(){return{type:"npc",npcModel:"",npcHeading:0,coords:{x:0,y:0,z:0},markerId:0,markerCoords:{x:0,y:0,z:0},markerColor:{r:0,g:0,b:0}}},async fetchCurrentClothing(o){try{const n=await(await fetch(`https://${GetParentResourceName()}/getCurrentClothes`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();n.skin?(this.localClothes[o].skin={...this.clothingFields,...n.skin},this.updateJobClothes()):console.error("No skin data received")}catch(t){console.error("Failed to fetch current clothing:",t)}},removeOutfit(o){this.localClothes.splice(o,1),this.updateJobClothes()},addOutfit(){this.localClothes.push({name:"",gradeAccess:0,skin:{...this.clothingFields}}),this.updateJobClothes()},initializeMarkerColor(){this.npcSettings.type==="marker"&&(this.npcSettings.markerColor={r:255,g:0,b:0},this.updateJobClothes())},async fetchCurrentCoords(){try{const t=await(await fetch(`https://${GetParentResourceName()}/getCurrentCoords`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();t&&(this.npcSettings.coords={x:t.x,y:t.y,z:t.z},this.updateJobClothes())}catch(o){console.error("Failed to fetch current coords:",o)}},async fetchCurrentHeading(){try{const t=await(await fetch(`https://${GetParentResourceName()}/getCurrentHeading`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();t.heading&&(this.npcSettings.npcHeading=t.heading,this.updateJobClothes())}catch(o){console.error("Failed to fetch current heading:",o)}},updateJobClothes(){this.job.ludaro_manager_clothing=JSON.stringify({localClothes:this.localClothes,npcSettings:this.npcSettings}),this.$emit("update-job",this.job)}}},Kr={key:0},Xr={class:"text-lg font-bold mb-4"},Yr={class:"space-y-4"},Zr={class:"block mb-2"},qr={value:"npc"},Qr={value:"marker"},el={key:0,class:"space-y-4"},tl={class:"block mb-2"},ol={class:"block mb-2"},rl={class:"block mb-2"},ll={class:"flex space-x-2"},sl={key:1,class:"space-y-4"},nl={class:"block mb-2"},al={class:"block mb-2"},dl={class:"flex space-x-2"},il={class:"block mb-2"},bl={class:"flex space-x-2"},ul={class:"text-lg font-bold mb-2"},cl={class:"block mb-2"},pl=["onUpdate:modelValue"],hl={class:"block mb-2"},gl=["onUpdate:modelValue"],ml=["value"],yl=["onClick"],fl={class:"grid grid-cols-2 gap-4"},kl=["for"],wl=["id","onUpdate:modelValue","placeholder"],xl=["onClick"];function vl(o,t,n,p,s,i){return u(),c("div",null,[s.localClothes.length>0?(u(),c("div",Kr,[e("h3",Xr,l(o.$t("outfitNpcMarker")),1),e("div",Yr,[e("div",null,[e("label",Zr,l(o.$t("markerType")),1),a(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.npcSettings.type=r),onChange:t[1]||(t[1]=(...r)=>i.initializeMarkerColor&&i.initializeMarkerColor(...r)),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[e("option",qr,l(o.$t("npc")),1),e("option",Qr,l(o.$t("marker")),1)],544),[[k,s.npcSettings.type]])]),s.npcSettings.type==="npc"?(u(),c("div",el,[e("div",null,[e("label",tl,l(o.$t("npcModel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=r=>s.npcSettings.npcModel=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Model"},null,512),[[d,s.npcSettings.npcModel]])]),e("div",null,[e("label",ol,l(o.$t("npcHeading")),1),a(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=r=>s.npcSettings.npcHeading=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"NPC Heading"},null,512),[[d,s.npcSettings.npcHeading]])]),e("div",null,[e("label",rl,l(o.$t("npcCoords")),1),e("div",ll,[a(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=r=>s.npcSettings.coords.x=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"X",min:"-30000",max:"30000"},null,512),[[d,s.npcSettings.coords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=r=>s.npcSettings.coords.y=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Y",min:"-30000",max:"30000"},null,512),[[d,s.npcSettings.coords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=r=>s.npcSettings.coords.z=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Z",min:"-30000",max:"30000"},null,512),[[d,s.npcSettings.coords.z]])])]),e("button",{onClick:t[7]||(t[7]=(...r)=>i.fetchCurrentCoords&&i.fetchCurrentCoords(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("useCurrentCoords")),1),e("button",{onClick:t[8]||(t[8]=(...r)=>i.fetchCurrentHeading&&i.fetchCurrentHeading(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("useCurrentHeading")),1)])):s.npcSettings.type==="marker"?(u(),c("div",sl,[e("div",null,[e("label",nl,l(o.$t("markerId")),1),a(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=r=>s.npcSettings.markerId=r),class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Marker ID"},null,512),[[d,s.npcSettings.markerId]])]),e("div",null,[e("label",al,l(o.$t("markerCoords")),1),e("div",dl,[a(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=r=>s.npcSettings.markerCoords.x=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"X",min:"-30000",max:"30000"},null,512),[[d,s.npcSettings.markerCoords.x]]),a(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=r=>s.npcSettings.markerCoords.y=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Y",min:"-30000",max:"30000"},null,512),[[d,s.npcSettings.markerCoords.y]]),a(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=r=>s.npcSettings.markerCoords.z=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Z",min:"-30000",max:"30000"},null,512),[[d,s.npcSettings.markerCoords.z]])])]),e("div",null,[e("label",il,l(o.$t("markerColor"))+" (RGB)",1),e("div",bl,[a(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=r=>s.npcSettings.markerColor.r=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"R",min:"0",max:"255"},null,512),[[d,s.npcSettings.markerColor.r]]),a(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=r=>s.npcSettings.markerColor.g=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"G",min:"0",max:"255"},null,512),[[d,s.npcSettings.markerColor.g]]),a(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=r=>s.npcSettings.markerColor.b=r),class:"w-1/3 p-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"B",min:"0",max:"255"},null,512),[[d,s.npcSettings.markerColor.b]])])])])):g("",!0)])])):g("",!0),(u(!0),c(m,null,y(s.localClothes,(r,h)=>(u(),c("div",{key:h,class:"mb-4"},[e("h3",ul,l(o.$t("outfit"))+" "+l(h+1),1),e("div",null,[e("label",cl,l(o.$t("outfitName")),1),a(e("input",{type:"text","onUpdate:modelValue":b=>r.name=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white",placeholder:"Outfit Name"},null,8,pl),[[d,r.name]])]),e("div",null,[e("label",hl,l(o.$t("gradeAccess")),1),a(e("select",{"onUpdate:modelValue":b=>r.gradeAccess=b,class:"w-full p-2 mb-2 border border-gray-300 rounded bg-gray-700 text-white"},[(u(!0),c(m,null,y(n.job.grades,b=>(u(),c("option",{key:b.grade,value:b.grade},l(b.label)+" (ID: "+l(b.grade)+") ",9,ml))),128))],8,gl),[[k,r.gradeAccess]])]),e("button",{onClick:b=>i.fetchCurrentClothing(h),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mb-4"},l(o.$t("useCurrentClothing")),9,yl),e("div",fl,[(u(!0),c(m,null,y(s.clothingFields,(b,x)=>(u(),c("div",{key:x,class:"mb-2 flex items-center space-x-2"},[e("label",{for:x,class:"block text-sm font-medium text-gray-300 w-1/2 text-right"},l(x),9,kl),a(e("input",{type:"number",id:x,"onUpdate:modelValue":j=>r.skin[x]=j,class:"w-20 p-1 border border-gray-300 rounded bg-gray-700 text-white text-right",placeholder:x},null,8,wl),[[d,r.skin[x]]])]))),128))]),e("button",{onClick:b=>i.removeOutfit(h),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mt-2"},l(o.$t("removeOutfit")),9,xl)]))),128)),e("button",{onClick:t[16]||(t[16]=(...r)=>i.addOutfit&&i.addOutfit(...r)),class:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},l(o.$t("addOutfit")),1)])}const Cl=w(Wr,[["render",vl],["__scopeId","data-v-e90edee1"]]),jl={data(){return{loading:!0,loadingData:!1,jobs:{},interactions:[],editingJobName:null,isPopupVisible:!1,activeTab:"jobInfo",showAddJobPopup:!1,lastSaveTime:0,newJob:{name:"",label:"",whitelisted:!1,societypaid:!1,grades:[],vehicles:[],bossmenu:{coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},onOffDutyCoords:{x:null,y:null,z:null},garageCoords:{x:null,y:null,z:null},stashes:[],processing:[],vehicleShop:{coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]}},newGrade:{grade:"",name:"",label:"",salary:0},newInteraction:"",newVehicle:{name:"",price:0,paidBy:"society",grade:""},jobToDelete:null,tabs:["jobInfo","Grades","BossMenu","Interactions","Garage","onOffDuty","employees","stashes","clothing"],error:""}},mounted(){this.fetchJobsAndInteractions(),document.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeydown)},computed:{activeTabComponent(){return{jobInfo:J,Grades:be,BossMenu:qe,Interactions:ht,Garage:_o,onOffDuty:Ao,employees:ar,stashes:Lr,clothing:Cl}[this.activeTab]||"div"}},methods:{async fetchJobsAndInteractions(){try{this.loading=!0;const t=await(await fetch(`https://${GetParentResourceName()}/getJobData`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json(),p=await(await fetch(`https://${GetParentResourceName()}/getInteractions`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();Object.keys(t).forEach(s=>{const i=t[s];i.onoffduty=i.onoffduty||{coords:{x:0,y:0,z:0},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},i.stashes=i.stashes||[]}),this.jobs=t,this.interactions=p.filter(s=>s!=="[]"),this.loading=!1}catch(o){console.error("Failed to fetch job or interaction data:",o),this.loading=!1}},editJob(o){this.editingJobName=o,this.activeTab="jobInfo",this.isPopupVisible=!0},saveJob(o){const t={...this.jobs[o]};t.onoffduty={...t.onoffduty},t.stashes=[...t.stashes],fetch(`https://${GetParentResourceName()}/saveJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then(n=>n.json()).then(n=>{n.success&&(this.isPopupVisible=!1,this.editingJobName=null,this.refreshData())}).catch(n=>{console.error("Failed to save job:",n)})},closePopup(){this.isPopupVisible=!1,this.showAddJobPopup=!1,this.jobToDelete=null},handleKeydown(o){o.key==="Escape"&&this.closePopup()},confirmDeleteJob(o){this.jobToDelete=o},deleteJob(o){const t=this.jobs[o];fetch(`https://${GetParentResourceName()}/deleteJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:t.name})}).then(n=>n.json()).then(n=>{if(n.success){const p={...this.jobs};delete p[o],this.jobs=p,this.jobToDelete=null}}).catch(n=>{console.error("Failed to delete job:",n)})},openAddJobPopup(){this.showAddJobPopup=!0},addNewJob(){if(Object.values(this.jobs).some(t=>t.name===this.newJob.name||t.label===this.newJob.label)){this.error="A job with the same name or label already exists. Please use a different name or label.";return}fetch(`https://${GetParentResourceName()}/addJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(this.newJob)}).then(t=>t.json()).then(t=>{t.success?(this.jobs={...this.jobs,[t.jobName]:this.newJob},this.showAddJobPopup=!1,this.newJob={name:"",label:"",whitelisted:!1,societypaid:!1,grades:[],vehicles:[],bossmenu:{coords:{x:null,y:null,z:null},grade:"",type:"npc",npcModel:"",npcHeading:0,npcRange:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1},onOffDutyCoords:{x:null,y:null,z:null},garageCoords:{x:null,y:null,z:null},stashes:[],processing:[],vehicleShop:{coords:{x:null,y:null,z:null},type:"npc",npcModel:"",npcHeading:0,markerId:0,markerColor:{r:0,g:0,b:0},markerScale:1,vehicles:[]}},this.refreshData()):this.error="Failed to add new job. Please try again."}).catch(t=>{console.error("Failed to add new job:",t),this.error="Failed to add new job. Please try again."})},refreshData(){this.loadingData=!0,this.fetchJobsAndInteractions().then(()=>{this.loadingData=!1})},updateJob(o){this.jobs[this.editingJobName]=o}}},_l={key:0,class:"flex justify-center items-center h-screen"},Sl={class:"text-2xl text-white"},$l={key:1,class:"container mx-auto p-4 overflow-auto max-h-[90vh]"},Ul={class:"overflow-x-auto"},Vl={class:"min-w-full divide-y divide-gray-200 bg-gray-800 text-white"},Ol={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Ml={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Pl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Jl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Nl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Dl={class:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider"},Il={class:"bg-gray-700 divide-y divide-gray-600"},zl=["onClick"],Tl={class:"px-6 py-4 whitespace-nowrap"},Gl={class:"px-6 py-4 whitespace-nowrap"},Hl={class:"px-6 py-4 whitespace-nowrap"},Bl={class:"px-6 py-4 whitespace-nowrap"},Fl={class:"px-6 py-4 whitespace-nowrap"},Rl={class:"px-6 py-4 whitespace-nowrap"},Al=["onClick"],El={class:"bg-gray-800 text-white p-4 rounded w-3/4 overflow-auto max-h-[90vh]"},Ll={class:"text-lg font-bold mb-4"},Wl={class:"mb-4"},Kl={class:"block mb-2"},Xl={class:"mb-4"},Yl={class:"block mb-2"},Zl={class:"mb-4"},ql={class:"block mb-2"},Ql={class:"mb-4"},es={class:"block mb-2"},ts={class:"mb-4"},os={class:"flex mb-4 border-b border-gray-600"},rs=["onClick"],ls={class:"mt-4"},ss={class:"bg-gray-800 text-white p-4 rounded w-1/2"},ns={class:"text-lg font-bold mb-4"},as={class:"mb-4"},ds={class:"block mb-2"},is={class:"mb-4"},bs={class:"block mb-2"},us={class:"mb-4"},cs={class:"block mb-2"},ps={class:"mb-4"},hs={class:"block mb-2"},gs={class:"mt-4"},ms={key:0,class:"mt-4 text-red-500"},ys={class:"bg-gray-800 text-white p-4 rounded w-1/2"},fs={class:"text-lg font-bold mb-4"},ks={class:"mt-4"};function ws(o,t,n,p,s,i){return u(),c("div",null,[s.loading?(u(),c("div",_l,[e("span",Sl,l(o.$t("loading")),1)])):(u(),c("div",$l,[e("div",Ul,[e("table",Vl,[e("thead",null,[e("tr",null,[e("th",Ol,l(o.$t("jobName")),1),e("th",Ml,l(o.$t("jobLabel")),1),e("th",Pl,l(o.$t("whitelisted")),1),e("th",Jl,l(o.$t("activePlayers")),1),e("th",Nl,l(o.$t("societyPaid")),1),e("th",Dl,l(o.$t("actions")),1)])]),e("tbody",Il,[(u(!0),c(m,null,y(s.jobs,(r,h)=>(u(),c("tr",{key:h,onClick:b=>i.editJob(h),class:"hover:bg-gray-600 cursor-pointer"},[e("td",Tl,l(r.name),1),e("td",Gl,l(r.label),1),e("td",Hl,l(r.whitelisted?"✔️":"❌"),1),e("td",Bl,l(r.activeplayers),1),e("td",Fl,l(r.societypaid?"✔️":"❌"),1),e("td",Rl,[e("button",{onClick:v(b=>i.confirmDeleteJob(h),["stop"]),class:"text-red-500 hover:text-red-700"},"🗑️",8,Al)])],8,zl))),128))])])]),e("button",{class:"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",onClick:t[0]||(t[0]=(...r)=>i.openAddJobPopup&&i.openAddJobPopup(...r))},l(o.$t("addNewJob")),1)])),s.isPopupVisible?(u(),c("div",{key:2,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75",onClick:t[7]||(t[7]=v((...r)=>i.closePopup&&i.closePopup(...r),["self"]))},[e("div",El,[e("h3",Ll,l(o.$t("editJob")),1),e("div",Wl,[e("label",Kl,l(o.$t("jobName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>s.jobs[s.editingJobName].name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,s.jobs[s.editingJobName].name]])]),e("div",Xl,[e("label",Yl,l(o.$t("jobLabel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=r=>s.jobs[s.editingJobName].label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,s.jobs[s.editingJobName].label]])]),e("div",Zl,[e("label",ql,l(o.$t("whitelisted")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=r=>s.jobs[s.editingJobName].whitelisted=r)},null,512),[[f,s.jobs[s.editingJobName].whitelisted]])]),e("div",Ql,[e("label",es,l(o.$t("societyPaid")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=r=>s.jobs[s.editingJobName].societypaid=r)},null,512),[[f,s.jobs[s.editingJobName].societypaid]])]),e("div",ts,[e("nav",os,[(u(!0),c(m,null,y(s.tabs,r=>(u(),c("a",{key:r,onClick:h=>s.activeTab=r,class:C(["cursor-pointer p-2 rounded-t-lg text-white",s.activeTab===r?"bg-blue-600":""])},l(o.$t(r)),11,rs))),128))]),(u(),_(S(i.activeTabComponent),{job:s.jobs[s.editingJobName],onUpdateJob:i.updateJob},null,40,["job","onUpdateJob"]))]),e("div",ls,[e("button",{onClick:t[5]||(t[5]=r=>i.saveJob(s.editingJobName)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("save")),1),e("button",{onClick:t[6]||(t[6]=(...r)=>i.closePopup&&i.closePopup(...r)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},l(o.$t("cancel")),1)])])])):g("",!0),s.showAddJobPopup?(u(),c("div",{key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75",onClick:t[14]||(t[14]=v((...r)=>i.closePopup&&i.closePopup(...r),["self"]))},[e("div",ss,[e("h3",ns,l(o.$t("addNewJob")),1),e("div",as,[e("label",ds,l(o.$t("jobName")),1),a(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=r=>s.newJob.name=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,s.newJob.name]])]),e("div",is,[e("label",bs,l(o.$t("jobLabel")),1),a(e("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=r=>s.newJob.label=r),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[d,s.newJob.label]])]),e("div",us,[e("label",cs,l(o.$t("whitelisted")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=r=>s.newJob.whitelisted=r)},null,512),[[f,s.newJob.whitelisted]])]),e("div",ps,[e("label",hs,l(o.$t("societyPaid")),1),a(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=r=>s.newJob.societypaid=r)},null,512),[[f,s.newJob.societypaid]])]),e("div",gs,[e("button",{onClick:t[12]||(t[12]=(...r)=>i.addNewJob&&i.addNewJob(...r)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},l(o.$t("addJob")),1),e("button",{onClick:t[13]||(t[13]=(...r)=>i.closePopup&&i.closePopup(...r)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},l(o.$t("cancel")),1)]),s.error?(u(),c("div",ms,l(s.error),1)):g("",!0)])])):g("",!0),s.jobToDelete!==null?(u(),c("div",{key:4,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-75",onClick:t[17]||(t[17]=v((...r)=>i.closePopup&&i.closePopup(...r),["self"]))},[e("div",ys,[e("h3",fs,l(o.$t("confirmDeleteJob")),1),e("p",null,l(o.$t("confirmDeleteMessage")),1),e("div",ks,[e("button",{onClick:t[15]||(t[15]=r=>i.deleteJob(s.jobToDelete)),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},l(o.$t("yes")),1),e("button",{onClick:t[16]||(t[16]=(...r)=>i.closePopup&&i.closePopup(...r)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},l(o.$t("no")),1)])])])):g("",!0)])}const vs=w(jl,[["render",ws],["__scopeId","data-v-5555ef7c"]]);export{vs as default};
