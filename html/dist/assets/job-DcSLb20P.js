import{_ as x,c as i,a as e,F as g,r as w,w as r,v as c,b as _,d as u,o as a,t as m,e as f,n as v,p as J,f as j}from"./index-Bpx9DHcq.js";const N={data(){return{loading:!0,jobs:{},editingJobName:null,activeTab:"Job Info",showAddJobPopup:!1,showAddGradePopup:!1,newJob:{name:"",label:"",whitelisted:!1,salary:0},newGrade:{name:"",label:"",salary:0},jobToDelete:null,tabs:["Job Info","Grades","Boss Menu","Garage","On/Off Duty"]}},mounted(){this.fetchJobs()},methods:{async fetchJobs(){try{const t=await(await fetch(`https://${GetParentResourceName()}/getJobData`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({})})).json();this.jobs=t,this.loading=!1}catch(l){console.error("Failed to fetch job data:",l),this.loading=!1}},editJob(l){this.editingJobName=l,this.activeTab="Job Info"},saveJob(l){const t=this.jobs[l];fetch(`https://${GetParentResourceName()}/saveJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then(n=>n.json()).then(n=>{n.success&&(this.editingJobName=null,this.fetchJobs())}).catch(n=>{console.error("Failed to save job:",n)})},cancelEdit(){this.editingJobName=null,this.fetchJobs()},confirmDeleteJob(l){this.jobToDelete=l},deleteJob(l){const t=this.jobs[l];fetch(`https://${GetParentResourceName()}/deleteJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:t.name})}).then(n=>n.json()).then(n=>{if(n.success){const y={...this.jobs};delete y[l],this.jobs=y,this.$forceUpdate(),this.jobToDelete=null}}).catch(n=>{console.error("Failed to delete job:",n)})},openAddJobPopup(){this.showAddJobPopup=!0},addNewJob(){fetch(`https://${GetParentResourceName()}/addJob`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(this.newJob)}).then(l=>l.json()).then(l=>{l.success&&(this.jobs={...this.jobs,[l.jobName]:this.newJob},this.showAddJobPopup=!1,this.newJob={name:"",label:"",whitelisted:!1,salary:0})}).catch(l=>{console.error("Failed to add new job:",l)})},addNewGrade(){if(this.editingJobName){const l=this.jobs[this.editingJobName];Array.isArray(l.grades)||(l.grades=[]),l.grades.push(this.newGrade),fetch(`https://${GetParentResourceName()}/addGrade`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.editingJobName,grade:this.newGrade})}).then(t=>t.json()).then(t=>{t.success&&(this.showAddGradePopup=!1,this.newGrade={name:"",label:"",salary:0},this.fetchJobs())}).catch(t=>{console.error("Failed to add new grade:",t)})}},removeGrade(l){this.jobs[this.editingJobName].grades.splice(l,1),fetch(`https://${GetParentResourceName()}/removeGrade`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({jobName:this.editingJobName,index:l})}).then(n=>n.json()).then(n=>{n.success&&this.fetchJobs()}).catch(n=>{console.error("Failed to remove grade:",n)})}}},d=l=>(J("data-v-80fa34bc"),l=l(),j(),l),k={key:0,class:"loading-message"},G=d(()=>e("span",{class:"text"},"Loading...",-1)),C=[G],T={key:1,class:"container mx-auto p-4"},P={class:"job-list-container overflow-y-auto max-h-[70vh]"},A={class:"job-table w-full table-auto"},U=d(()=>e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-white"},"Job Name"),e("th",{class:"px-4 py-2 text-white"},"Job Label"),e("th",{class:"px-4 py-2 text-white"},"Whitelisted"),e("th",{class:"px-4 py-2 text-white"},"Actions")])],-1)),S=["onClick"],V={class:"px-4 py-2"},F={class:"px-4 py-2"},O={class:"px-4 py-2"},D={class:"px-4 py-2"},M=["onClick"],I={key:2,class:"popup fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},L={class:"popup-content bg-gray-800 text-white p-4 rounded w-3/4"},R=d(()=>e("h3",{class:"text-lg font-bold mb-4"},"Edit Job",-1)),B={class:"mb-4"},E=d(()=>e("label",{class:"block mb-2"},"Job Name",-1)),W={class:"mb-4"},z=d(()=>e("label",{class:"block mb-2"},"Job Label",-1)),Y={class:"mb-4"},q=d(()=>e("label",{class:"block mb-2"},"Whitelisted",-1)),H={class:"mb-4"},K={class:"flex mb-4"},Q=["onClick"],X={key:0,class:"overflow-y-auto max-h-[50vh]"},Z={class:"w-full table-auto"},$=d(()=>e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-white"},"Grade Name"),e("th",{class:"px-4 py-2 text-white"},"Grade Label"),e("th",{class:"px-4 py-2 text-white"},"Salary"),e("th",{class:"px-4 py-2 text-white"},"Actions")])],-1)),ee={class:"px-4 py-2"},te=["onUpdate:modelValue"],oe={class:"px-4 py-2"},se=["onUpdate:modelValue"],le={class:"px-4 py-2"},ne=["onUpdate:modelValue"],de={class:"px-4 py-2"},ie=["onClick"],ae={key:1,class:"overflow-y-auto max-h-[50vh]"},be=d(()=>e("label",{class:"block mb-2"},"Boss Menu Coords",-1)),re={class:"mt-4"},ce={key:3,class:"popup fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},he={class:"popup-content bg-gray-800 text-white p-4 rounded w-1/2"},pe=d(()=>e("h3",{class:"text-lg font-bold mb-4"},"Add New Job",-1)),ue={class:"mb-4"},me=d(()=>e("label",{class:"block mb-2"},"Job Name",-1)),ye={class:"mb-4"},ge=d(()=>e("label",{class:"block mb-2"},"Job Label",-1)),we={class:"mb-4"},_e=d(()=>e("label",{class:"block mb-2"},"Whitelisted",-1)),xe={class:"mt-4"},fe={key:4,class:"popup fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},ve={class:"popup-content bg-gray-800 text-white p-4 rounded w-1/2"},Je=d(()=>e("h3",{class:"text-lg font-bold mb-4"},"Confirm Delete Job",-1)),je=d(()=>e("p",null,"Are you sure you want to delete this job?",-1)),Ne={class:"mt-4"},ke={key:5,class:"popup fixed inset-0 flex items-center justify-center bg-black bg-opacity-75"},Ge={class:"popup-content bg-gray-800 text-white p-4 rounded w-1/2"},Ce=d(()=>e("h3",{class:"text-lg font-bold mb-4"},"Add New Grade",-1)),Te={class:"mb-4"},Pe=d(()=>e("label",{class:"block mb-2"},"Grade Name",-1)),Ae={class:"mb-4"},Ue=d(()=>e("label",{class:"block mb-2"},"Grade Label",-1)),Se={class:"mb-4"},Ve=d(()=>e("label",{class:"block mb-2"},"Salary",-1)),Fe={class:"mt-4"};function Oe(l,t,n,y,s,b){return a(),i("div",null,[s.loading?(a(),i("div",k,C)):(a(),i("div",T,[e("div",P,[e("table",A,[U,e("tbody",null,[(a(!0),i(g,null,w(s.jobs,(o,p)=>(a(),i("tr",{key:p,onClick:h=>b.editJob(p),class:"cursor-pointer hover:bg-gray-700 text-white"},[e("td",V,m(o.name),1),e("td",F,m(o.label),1),e("td",O,m(o.whitelisted?"✔️":"❌"),1),e("td",D,[e("button",{onClick:f(h=>b.confirmDeleteJob(p),["stop"]),class:"text-white"},"🗑️",8,M)])],8,S))),128))])])]),e("button",{class:"add-job-button mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",onClick:t[0]||(t[0]=(...o)=>b.openAddJobPopup&&b.openAddJobPopup(...o))},"Add New Job")])),s.editingJobName!==null?(a(),i("div",I,[e("div",L,[R,e("div",B,[E,r(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>s.jobs[s.editingJobName].name=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[c,s.jobs[s.editingJobName].name]])]),e("div",W,[z,r(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s.jobs[s.editingJobName].label=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[c,s.jobs[s.editingJobName].label]])]),e("div",Y,[q,r(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=o=>s.jobs[s.editingJobName].whitelisted=o)},null,512),[[_,s.jobs[s.editingJobName].whitelisted]])]),e("div",H,[e("nav",K,[(a(!0),i(g,null,w(s.tabs,o=>(a(),i("a",{key:o,onClick:p=>s.activeTab=o,class:v(["cursor-pointer p-2 rounded-t-lg text-white",s.activeTab===o?"bg-blue-600":"bg-gray-600"])},m(o),11,Q))),128))]),s.activeTab==="Grades"?(a(),i("div",X,[e("table",Z,[$,e("tbody",null,[(a(!0),i(g,null,w(s.jobs[s.editingJobName].grades||[],(o,p)=>(a(),i("tr",{key:p,class:"text-white"},[e("td",ee,[r(e("input",{type:"text","onUpdate:modelValue":h=>o.name=h,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,te),[[c,o.name]])]),e("td",oe,[r(e("input",{type:"text","onUpdate:modelValue":h=>o.label=h,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,se),[[c,o.label]])]),e("td",le,[r(e("input",{type:"number","onUpdate:modelValue":h=>o.salary=h,class:"w-full p-2 border border-gray-300 rounded bg-gray-700 text-white"},null,8,ne),[[c,o.salary]])]),e("td",de,[e("button",{onClick:h=>b.removeGrade(p),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Remove",8,ie)])]))),128))])]),e("button",{onClick:t[4]||(t[4]=o=>s.showAddGradePopup=!0),class:"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"},"Add Grade")])):s.activeTab==="Boss Menu"?(a(),i("div",ae,[e("div",null,[be,r(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>s.jobs[s.editingJobName].bossMenuCoords=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[c,s.jobs[s.editingJobName].bossMenuCoords]])])])):u("",!0)]),e("div",re,[e("button",{onClick:t[6]||(t[6]=o=>b.saveJob(s.editingJobName)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Save"),e("button",{onClick:t[7]||(t[7]=(...o)=>b.cancelEdit&&b.cancelEdit(...o)),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"Cancel")])])])):u("",!0),s.showAddJobPopup?(a(),i("div",ce,[e("div",he,[pe,e("div",ue,[me,r(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>s.newJob.name=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[c,s.newJob.name]])]),e("div",ye,[ge,r(e("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=o=>s.newJob.label=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[c,s.newJob.label]])]),e("div",we,[_e,r(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=o=>s.newJob.whitelisted=o)},null,512),[[_,s.newJob.whitelisted]])]),e("div",xe,[e("button",{onClick:t[11]||(t[11]=(...o)=>b.addNewJob&&b.addNewJob(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Add Job"),e("button",{onClick:t[12]||(t[12]=o=>s.showAddJobPopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"Cancel")])])])):u("",!0),s.jobToDelete!==null?(a(),i("div",fe,[e("div",ve,[Je,je,e("div",Ne,[e("button",{onClick:t[13]||(t[13]=o=>b.deleteJob(s.jobToDelete)),class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"},"Yes"),e("button",{onClick:t[14]||(t[14]=o=>s.jobToDelete=null),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"No")])])])):u("",!0),s.showAddGradePopup?(a(),i("div",ke,[e("div",Ge,[Ce,e("div",Te,[Pe,r(e("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>s.newGrade.name=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[c,s.newGrade.name]])]),e("div",Ae,[Ue,r(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=o=>s.newGrade.label=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[c,s.newGrade.label]])]),e("div",Se,[Ve,r(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=o=>s.newGrade.salary=o),class:"w-full p-2 mb-4 border border-gray-300 rounded bg-gray-700 text-white"},null,512),[[c,s.newGrade.salary]])]),e("div",Fe,[e("button",{onClick:t[18]||(t[18]=(...o)=>b.addNewGrade&&b.addNewGrade(...o)),class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"},"Add Grade"),e("button",{onClick:t[19]||(t[19]=o=>s.showAddGradePopup=!1),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 ml-2"},"Cancel")])])])):u("",!0)])}const Me=x(N,[["render",Oe],["__scopeId","data-v-80fa34bc"]]);export{Me as default};
